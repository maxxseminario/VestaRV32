
########################################################################
Get environment info ...
########################################################################
ENV VAR: TCL_LIBRARY = /opt/cadence/PEGASUS221/tools.lnx86/pegasus/bin/64bit/../../../../share/lib/tcltk/08.64/tcl8.6
ENV VAR: TCLX_LIBRARY = /opt/cadence/PEGASUS221/tools.lnx86/pegasus/bin/64bit/../../../../share/lib/tclx/08.40
ENV VAR: TCLLIBPATH = /opt/cadence/PEGASUS221/tools.lnx86/pegasus/bin/64bit/../../../../share/lib/itcl/3.4.1 /opt/cadence/PEGASUS221/tools.lnx86/pegasus/bin/64bit/../../../../share/lib/tclxml/3.2 /opt/cadence/PEGASUS221/tools.lnx86/pegasus/bin/64bit/../../../../share/lib/tcllib/1.18
ENV VAR: PEGASUS_PVL_LIBRARY = /opt/cadence/PEGASUS221/tools.lnx86/pegasus/bin/64bit/../../../Pegasus/bin/64bit/etc/pvl/tcl
ENV VAR: PEGASUS_TVL_LIBRARY = /opt/cadence/PEGASUS221/tools.lnx86/pegasus/bin/64bit/../../../Pegasus/bin/64bit/etc/preproc/tcl
ENV VAR: PEGASUS_LVS_DEVICE_DFM_LIBRARY = /opt/cadence/PEGASUS221/tools.lnx86/pegasus/bin/64bit/../../../Pegasus/bin/64bit/etc/lvs_device_dfm/tcl


########################################################################
Parsing Control File /home/mseminario2/chips/myshkin/ic/pvs/myshkin/ASIC/DRCGUI/pegasusdrcctl ...
########################################################################
REPORT_SUMMARY -drc "pad_ring.sum" -replace;
MAX_RESULTS -drc 1000;
RESULTS_DB -drc "/home/mseminario2/chips/myshkin/ic/pvs/myshkin/ASIC/DRCGUI/pad_ring.drc_errors.ascii" -ascii;
ABORT_ON_LAYOUT_ERROR yes;
LAYOUT_FORMAT gdsii;
LAYOUT_PATH "/home/mseminario2/chips/myshkin/ic/pvs/myshkin/ASIC/DRCGUI/pad_ring.gds.gz";

########################################################################
Parsing Rule File /home/mseminario2/chips/myshkin/ic/pvs/main25.rul ...
########################################################################
#DEFINE GUIDELINE_RES
#DEFINE GUIDELINE_LUP
#DEFINE GUIDELINE_ESD
#DEFINE NW_SUGGESTED
#DEFINE DATATYPE_WARNING
#DEFINE CHECK_LOW_DENSITY
#DEFINE FRONT_END
#DEFINE BACK_END
#DEFINE FULL_CHIP
#DEFINE WLCSP_SEALRING
#DEFINE Required
#DEFINE Recommended
#DEFINE Analog
#DEFINE Guideline
#DEFINE CHECK_LOW_DENSITY
variable PAD_TEXT ?;
variable VDD_TEXT VDD?;
variable VSS_TEXT VSS?;
variable xLB 0;
variable yLB 0;
variable xRT 1000;
variable yRT 1000;
variable CellsForRRuleRequired *;
variable CellsForRRuleRecommended *;
variable CellsForRRuleAnalog " ";
variable CellsForRRuleGuideline *;
variable ExclCellsForRRuleRequired " ";
variable ExclCellsForRRuleRecommended " ";
variable ExclCellsForRRuleAnalog " ";
variable ExclCellsForRRuleGuideline " ";
INPUT_SCALE 1000;
GRID 5;
LAYOUT_FORMAT gdsii;
[WARN]: LAYOUT_FORMAT at line 227 in file /home/mseminario2/chips/myshkin/ic/pvs/main25.rul is skipped. It is set in control file.
LAYOUT_PATH "GDSFILENAME";
[WARN]: LAYOUT_PATH at line 228 in file /home/mseminario2/chips/myshkin/ic/pvs/main25.rul is skipped. It is set in control file.
LAYOUT_PRIMARY "TOPCELLNAME";
[WARN] Cmd-line override: LAYOUT_PRIMARY "pad_ring";
RESULTS_DB -drc "DRC_RES.db";
[WARN]: RESULTS_DB -ascii at line 231 in file /home/mseminario2/chips/myshkin/ic/pvs/main25.rul is skipped. It is set in control file.
REPORT_SUMMARY -drc "DRC.rep";
[WARN] REPORT_SUMMARY statement at line 232 in file /home/mseminario2/chips/myshkin/ic/pvs/main25.rul is ignored.
       summary file has been specified as pad_ring.sum
KEEP_EMPTY -drc NO;
CHECK_TEXT -drc -all;
MAX_RESULTS -drc -all;
[WARN]: MAX_RESULTS -drc at line 235 in file /home/mseminario2/chips/myshkin/ic/pvs/main25.rul is skipped. It is set in control file.
LAYOUT_INCLUDE_BOX_RECORD YES;
FLAG -offgrid YES;
FLAG -acute YES;
FLAG -skew YES;
FLAG -nonsimple YES;
FLAG -nonsimple_path YES;
variable METAL_LOW_DEN_WINDOW_SIZE 75;
variable METAL_LOW_DEN_WINDOW_STEP 37.5;
variable METAL_HIGH_DEN_WINDOW_SIZE 100;
variable METAL_HIGH_DEN_WINDOW_STEP 50;
variable GRID 0.005;
variable OFFSETX 0.001;
variable DNW_S_1 3.5;
variable DNW_S_2 2.5;
variable DNW_W_1 3;
variable DNW_S_3 1.65;
variable DNW_S_4 1;
variable DNW_S_5 1.2;
variable DNW_EN_3 0.56;
variable DNW_O_1 0.4;
variable OD_W_1 0.08;
variable OD_W_2 0.12;
variable OD_W_3 0.4;
variable OD_W_4 0.18;
variable OD_S_1 0.11;
variable OD_S_1_R 0.14;
variable OD_S_2 0.18;
variable OD_S_3_L 0.2;
variable OD_S_3_W 0.15;
variable OD_S_3 0.13;
variable OD_S_3_1 0.125;
variable OD_S_4 0.18;
variable OD_S_5 0.18;
variable OD_S_6_R 0.35;
variable OD_A_1 0.054;
variable OD_A_2 0.085;
variable OD_L_1 0.5;
variable OD_L_1_W 0.15;
variable OD_L_2 25;
variable OD_L_2_W 0.15;
variable OD_DN_1L 0.25;
variable OD_DN_1H 0.75;
variable OD_DN_2L 0.2;
variable OD_DN_2L_W 150;
variable OD_DN_2L_S 75;
variable OD_DN_2L_E 37.5;
variable OD_DN_2H 0.9;
variable OD_DN_2H_CORE 0.8;
variable OD_DN_2H_W 150;
variable OD_DN_2H_S 75;
variable OD_DN_2H_E 37.5;
variable OD_DN_3L 0.2;
variable OD_DN_3L_W 150;
variable OD_DN_3L_S 75;
variable OD_DN_3L_E 37.5;
variable OD_DN_3H 0.9;
variable OD_DN_3H_CORE 0.8;
variable OD_DN_3H_W 150;
variable OD_DN_3H_S 75;
variable OD_DN_3H_E 37.5;
variable NW_W_1 0.47;
variable NW_W_2 1.8;
variable NW_S_1 0.47;
variable NW_S_2 1;
variable NW_S_3 1.2;
variable NW_S_4 1.2;
variable NW_S_5 0.16;
variable NW_S_6 0.16;
variable NW_S_7 0.31;
variable NW_EN_1 0.16;
variable NW_EN_1_5V 0.17;
variable NW_EN_2 0.16;
variable NW_EN_2_5V 0.8;
variable NW_EN_3 0.31;
variable NW_A_1 0.64;
variable NW_A_2 0.64;
variable NW_A_3 1;
variable NW_A_3_L 0.8;
variable NW_A_4 1;
variable NW_A_4_L 0.8;
variable NWROD_W_1 1.8;
variable NWROD_S_1 1.2;
variable NWROD_S_2 0.3;
variable NWROD_EN_1 1;
variable NWROD_EN_2 0.3;
variable NWROD_O_1 0.4;
variable NWRSTI_EN_1 0.4;
variable NWRSTI_EN_2 0.3;
variable NWRSTI_EN_3 0.3;
variable NWRSTI_EX_1 0.3;
variable NT_N_W_1 0.47;
variable NT_N_S_1 0.47;
variable NT_N_S_2 0.38;
variable NT_N_S_3 1.2;
variable NT_N_EX_1 0.35;
variable NT_N_A_1 0.64;
variable NT_N_A_2 0.64;
variable NT_N_A_3 1;
variable NT_N_A_3_L 0.8;
variable NT_N_A_4 1;
variable NT_N_A_4_L 0.8;
variable NT_N_W_2 0.2;
variable NT_N_W_2_1 0.3;
variable NT_N_W_2_2 0.2;
variable NT_N_W_2_2_E 1;
variable NT_N_W_2_2_M 0.5;
variable NT_N_W_2_3 0.2;
variable NT_N_W_3 1.2;
variable NT_N_W_4 0.8;
variable NT_N_W_5 0.5;
variable NT_N_EN_1_L 0.26;
variable NT_N_EN_1_H 0.285;
variable OD2_W_1 0.47;
variable OD2_W_2 0.47;
variable OD2_W_3 0.47;
variable OD2_S_1 0.47;
variable OD2_S_2 0.27;
variable OD2_S_3 0.34;
variable OD2_S_4 0.47;
variable OD2_S_5 0.47;
variable OD2_S_6 0.47;
variable OD2_S_7 0.47;
variable OD2_S_8 0.47;
variable OD2_EN_1 0.34;
variable OD2_EX_1 0.47;
variable OD2_EX_2 0.47;
variable OD2_EX_3 0.27;
variable OD2_O_1 0.47;
variable OD25_33_W_1 0.5;
variable OD25_33_W_2 0.4;
variable OD25_18_W_1 0.26;
variable PO_W_1 0.06;
variable PO_W_2 0.28;
variable PO_W_3 0.38;
variable PO_W_4 0.2;
variable PO_W_5 0.19;
variable PO_W_5_F 0.08;
variable PO_S_1 0.12;
variable PO_S_2 0.13;
variable PO_S_2_1 0.15;
variable PO_S_2_1_W 0.09;
variable PO_S_3 0.25;
variable PO_S_4 0.05;
variable PO_S_4_1 0.15;
variable PO_S_4_1_A 0.0121;
variable PO_S_5 0.1;
variable PO_S_5_W 0.15;
variable PO_S_6 0.1;
variable PO_S_6_W 0.15;
variable PO_S_7 0.18;
variable PO_S_7_L 0.18;
variable PO_S_7_W 0.13;
variable PO_S_9 0.25;
variable PO_S_10 0.14;
variable PO_S_10_Q 0.09;
variable PO_S_10_E 0.035;
variable PO_EX_1 0.14;
variable PO_EX_2 0.115;
variable PO_EX_3 0.16;
variable PO_EX_3_W 0.15;
variable PO_EX_3_S 0.1;
variable PO_L_1 25;
variable PO_L_1_W 0.13;
variable PO_A_1 0.042;
variable PO_A_1_1 0.051;
variable PO_A_2 0.094;
variable PO_DN_1_L 0.14;
variable PO_DN_1_H 0.4;
variable PO_DN_2 0.001;
variable PO_DN_2_W 20;
variable PO_DN_2_S 10;
variable PO_DN_2_E 5;
variable PO_DN_3 0.14;
variable PO_R_6_U 0.425;
variable PO_R_6_V 0.11;
variable PO_R_6_W 0.255;
variable PO_R_6_X 0.065;
variable PO_S_15 1;
variable PO_S_15_L 0.08;
variable PO_S_15_A 630;
variable PO_S_15_DN 0.7;
variable PO_S_16 0.19;
variable VTH_N_W_1 0.18;
variable VTH_N_S_1 0.18;
variable VTH_N_S_2 0.16;
variable VTH_N_S_2_1 0.185;
variable VTH_N_S_3 0.22;
variable VTH_N_EN_1 0.185;
variable VTH_N_EN_2 0.16;
variable VTH_N_A_1 0.27;
variable VTH_N_A_2 0.27;
variable VTH_N_S_1_W 0.4;
variable VTH_P_W_1 0.18;
variable VTH_P_S_1 0.18;
variable VTH_P_S_2 0.16;
variable VTH_P_S_2_1 0.185;
variable VTH_P_S_3 0.22;
variable VTH_P_EN_1 0.185;
variable VTH_P_EN_2 0.16;
variable VTH_P_A_1 0.27;
variable VTH_P_A_2 0.27;
variable VTH_P_S_1_W 0.4;
variable VTL_N_W_1 0.18;
variable VTL_N_S_1 0.18;
variable VTL_N_S_2 0.16;
variable VTL_N_S_2_1 0.185;
variable VTL_N_S_3 0.22;
variable VTL_N_EN_1 0.185;
variable VTL_N_EN_2 0.16;
variable VTL_N_A_1 0.27;
variable VTL_N_A_2 0.27;
variable VTL_N_S_1_W 0.4;
variable VTL_P_W_1 0.18;
variable VTL_P_S_1 0.18;
variable VTL_P_S_2 0.16;
variable VTL_P_S_2_1 0.185;
variable VTL_P_S_3 0.22;
variable VTL_P_EN_1 0.185;
variable VTL_P_EN_2 0.16;
variable VTL_P_A_1 0.27;
variable VTL_P_A_2 0.27;
variable VTL_P_S_1_W 0.4;
variable mVTL_EN_1 0.05;
variable mVTL_S_1 0.05;
variable PP_W_1 0.18;
variable PP_S_1 0.18;
variable PP_S_2 0.13;
variable PP_S_4 0.02;
variable PP_S_5 0.32;
variable PP_S_6 0.32;
variable PP_S_6_J 0.16;
variable PP_S_7 0.2;
variable PP_EN_1 0.15;
variable PP_EX_1 0.13;
variable PP_EX_2 0.02;
variable PP_EX_3 0.2;
variable PP_EX_4 0.32;
variable PP_O_1 0.13;
variable PP_A_1 0.122;
variable PP_A_2 0.122;
variable PP_A_3 0.04;
variable PP_R_1 0.16;
variable NP_W_1 0.18;
variable NP_S_1 0.18;
variable NP_S_2 0.13;
variable NP_EX_1 0.13;
variable NP_S_4 0.02;
variable NP_S_5 0.32;
variable NP_S_6 0.32;
variable NP_S_6_J 0.16;
variable NP_S_7 0.2;
variable NP_EX_2 0.02;
variable NP_EX_3 0.2;
variable NP_EX_4 0.32;
variable NP_O_1 0.13;
variable NP_A_1 0.122;
variable NP_A_2 0.122;
variable NP_A_3 0.04;
variable NP_R_1 0.16;
variable DCO_W_1 0.4;
variable DCO_S_1 0.4;
variable DCO_S_2 0.055;
variable DCO_S_3 0.185;
variable DCO_S_4 0.16;
variable DCO_S_5 0.18;
variable DCO_S_6 0.4;
variable DCO_EN_1 0.185;
variable DCO_EN_2 0.16;
variable DCO_EX_1 0.18;
variable DCO_EX_2 0.18;
variable DCO_EX_3 0.055;
variable DCO_A_1 1.2;
variable DCO_A_2 1.2;
variable DCO_O_1 0.18;
variable DCO_R_5 0.2;
variable LDN_EX_1 0.18;
variable LDN_O_1 0.18;
variable LDP_EX_1 0.18;
variable LDP_O_2 0.18;
variable VT_S_1 0.18;
variable VT_EX_2 0.18;
variable RPO_W_1 0.43;
variable RPO_S_1 0.43;
variable RPO_S_2 0.22;
variable RPO_S_3 0.22;
variable RPO_S_4 0.38;
variable RPO_S_5 0.3;
variable RPO_EX_1 0.22;
variable RPO_EX_2 0.22;
variable RPO_EX_1_1 0.3;
variable RPO_EX_1_1_W 10;
variable RPO_A_1 1;
variable RPO_A_2 1;
variable RES_8 0.16;
variable RES_11 0.13;
variable VAR_W_1 0.2;
variable VAR_W_2 0.2;
variable VAR_W_3 0.4;
variable VAR_W_4 0.4;
variable VAR_S_1 0.13;
variable VAR_EN_1 0.16;
variable VAR_R_4 0.16;
variable VAR_R_5_1 0.19;
variable VAR_R_5_2 0.13;
variable HVD_N_W_1 0.47;
variable HVD_N_W_2 0.6;
variable HVD_N_S_1 0.47;
variable HVD_N_S_2 1.37;
variable HVD_N_S_3 1.6;
variable HVD_N_S_4 0.3;
variable HVD_N_S_5 0.6;
variable HVD_N_S_6 3;
variable HVD_N_EX_1 0.24;
variable HVD_N_O_1 0.3;
variable HVD_N_L_1 0.85;
variable HVD_N_A_1 0.64;
variable HVD_N_A_2 0.64;
variable HVD_P_W_1 0.47;
variable HVD_P_W_2 0.6;
variable HVD_P_S_1 0.47;
variable HVD_P_S_2 1.2;
variable HVD_P_S_4 0.24;
variable HVD_P_S_5 0.48;
variable HVD_P_EX_1 0.24;
variable HVD_P_EN_1 1.6;
variable HVD_P_O_1 0.25;
variable HVD_P_L_1 0.6;
variable HVD_P_A_1 0.64;
variable HVD_P_A_2 0.64;
variable GR_R_7 2;
variable GR_R_8 4;
variable GR_R_9 28;
variable GR_R_10 2;
variable GR_R_11 2;
variable GR_R_12 65;
variable GR_R_13 10;
variable BV_W_1 10;
variable BV_W_2 50;
variable BV_R_1 64;
variable HVD_N_W_1_N55LP 0.47;
variable HVD_N_W_2_N55LP 1;
variable HVD_N_S_1_N55LP 0.47;
variable HVD_N_S_2_N55LP 1.6;
variable HVD_N_S_3_N55LP 1.6;
variable HVD_N_S_4_N55LP 0.3;
variable HVD_N_S_5_N55LP 0.6;
variable HVD_N_S_6_N55LP 3;
variable HVD_N_EX_1_N55LP 0.24;
variable HVD_N_O_1_N55LP 0.2;
variable HVD_N_L_1_N55LP 0.52;
variable HVD_N_A_1_N55LP 0.64;
variable HVD_N_A_2_N55LP 0.64;
variable HVD_N_W_3_N55LP 0.12;
variable HVD_N_S_7_N55LP 0.13;
variable HVD_N_EX_2_N55LP 0.14;
variable HVD_N_S_8_N55LP 0.34;
variable HVD_N_S_9_N55LP 0.37;
variable HVD_P_W_1_N55LP 0.47;
variable HVD_P_W_2_N55LP 1;
variable HVD_P_S_1_N55LP 0.47;
variable HVD_P_S_2_N55LP 1.6;
variable HVD_P_S_4_N55LP 0.3;
variable HVD_P_S_5_N55LP 0.6;
variable HVD_P_EX_1_N55LP 0.24;
variable HVD_P_EN_1_N55LP 1.6;
variable HVD_P_O_1_N55LP 0.15;
variable HVD_P_L_1_N55LP 0.5;
variable HVD_P_A_1_N55LP 0.64;
variable HVD_P_A_2_N55LP 0.64;
variable HVD_P_EN_2_N55LP 0.4;
variable HVD_P_W_3_N55LP 0.12;
variable HVD_P_S_6_N55LP 0.13;
variable HVD_P_EX_2_N55LP 0.14;
variable HVD_P_S_7_N55LP 0.34;
variable HVD_P_S_8_N55LP 0.37;
variable HVD_DPW_W_1_N55LP 0.5;
variable HVD_DPW_S_1_N55LP 0.5;
variable HVD_DPW_S_2_N55LP 4;
variable HVD_DPW_S_3_N55LP 0.75;
variable BV_W_1_N55LP 50;
variable BV_W_2_N55LP 20;
variable BV_R_1_N55LP 32;
variable GR_R_8_N55LP 2;
variable GR_R_9_N55LP 4;
variable GR_R_10_N55LP 28;
variable GR_R_11_N55LP 2;
variable GR_R_12_N55LP 2;
variable GR_R_13_N55LP 65;
variable CO_W_1 0.09;
variable CO_W_2 0.09;
variable CO_S_1 0.11;
variable CO_S_2 0.14;
variable CO_S_2_N 0.15;
variable CO_S_2_1 0.14;
variable CO_S_2_2 0.12;
variable CO_S_4 0.07;
variable CO_S_5 0.09;
variable CO_S_6 0.06;
variable CO_S_3 0.055;
variable CO_EN_1 0.015;
variable CO_EN_1_1 0.03;
variable CO_EN_1_R 0.04;
variable CO_EN_2 0.01;
variable CO_EN_3 0.04;
variable CO_EN_4 0.03;
variable M1_W_1 0.09;
variable M1_W_2 0.19;
variable M1_W_3 12;
variable M1_S_1 0.09;
variable M1_S_2 0.11;
variable M1_S_2_W 0.2;
variable M1_S_2_L 0.38;
variable M1_S_2_1 0.16;
variable M1_S_2_1_W 0.42;
variable M1_S_2_1_L 0.42;
variable M1_S_3 0.5;
variable M1_S_3_W 1.5;
variable M1_S_3_L 1.5;
variable M1_S_4 1.5;
variable M1_S_4_W 4.5;
variable M1_S_4_L 4.5;
variable M1_S_6 0.19;
variable M1_S_5 0.11;
variable M1_S_5_Q 0.11;
variable M1_S_5_E 0.035;
variable M1_EN_2 0.04;
variable M1_EN_3 0.025;
variable M1_EN_4 0.04;
variable M1_EN_4_W 1;
variable M1_A_1 0.042;
variable M1_A_2 0.2;
variable M1_EN_1 0;
variable M1_DN_1L 0.1;
variable M1_DN_1L_W METAL_LOW_DEN_WINDOW_SIZE;
variable M1_DN_1L_S METAL_LOW_DEN_WINDOW_STEP;
variable M1_DN_1L_E M1_DN_1L_W/4;
variable M1_DN_1H 0.8;
variable M1_DN_1H_W METAL_HIGH_DEN_WINDOW_SIZE;
variable M1_DN_1H_S METAL_HIGH_DEN_WINDOW_STEP;
variable M1_DN_1H_E M1_DN_1H_W/4;
variable M1_DN_2 0.9;
variable M1_DN_2_W 20;
variable M1_DN_2_S 10;
variable M1_DN_2_E 5;
variable M1_DN_4 0.4;
variable M1_DN_4_W 250;
variable VIA1_W_1 0.1;
variable VIA1_W_2 0.1;
variable VIA1_S_1 0.1;
variable VIA1_S_2 0.13;
variable VIA1_S_2_S 0.14;
variable VIA1_S_3 0.13;
variable VIA1_EN_2 0.04;
variable VIA1_EN_3 0.03;
variable VIA1_R_2_S1 0.2;
variable VIA1_R_2_S2 0.25;
variable VIA1_R_2_W 0.3;
variable VIA1_R_3_S1 0.2;
variable VIA1_R_3_S2 0.35;
variable VIA1_R_3_W 0.7;
variable VIA1_R_4_W 0.3;
variable VIA1_R_4_D 0.8;
variable VIA1_R_5_W 2;
variable VIA1_R_5_D 2;
variable VIA1_R_6_W 3;
variable VIA1_R_6_L 10;
variable VIA1_R_6_D 5;
variable VIA1_R_11_L 1;
variable VIA1_R_11_W 0.3;
variable VIA1_R_11_A 5;
variable VIA1_R_11_L2 5;
variable M2_W_1 0.1;
variable M2_S_1 0.1;
variable M2_A_1 0.052;
variable M2_A_2 0.2;
variable M2_W_3 12;
variable M2_S_2 0.12;
variable M2_S_2_W 0.2;
variable M2_S_2_L 0.38;
variable M2_S_2_1 0.16;
variable M2_S_2_1_W 0.4;
variable M2_S_2_1_L 0.4;
variable M2_S_3 0.5;
variable M2_S_3_W 1.5;
variable M2_S_3_L 1.5;
variable M2_S_4 1.5;
variable M2_S_4_W 4.5;
variable M2_S_4_L 4.5;
variable M2_S_5 0.12;
variable M2_S_5_Q 0.12;
variable M2_S_5_E 0.035;
variable M2_EN_2 0.04;
variable M2_EN_3 0.03;
variable M2_W_2 0.19;
variable M2_S_6 0.19;
variable M2_DN_1L 0.1;
variable M2_DN_1L_W METAL_LOW_DEN_WINDOW_SIZE;
variable M2_DN_1L_S METAL_LOW_DEN_WINDOW_STEP;
variable M2_DN_1L_E M2_DN_1L_W/4;
variable M2_DN_1H 0.8;
variable M2_DN_1H_W METAL_HIGH_DEN_WINDOW_SIZE;
variable M2_DN_1H_S METAL_HIGH_DEN_WINDOW_STEP;
variable M2_DN_1H_E M2_DN_1H_W/4;
variable M2_DN_2 0.9;
variable M2_DN_2_W 20;
variable M2_DN_2_S 10;
variable M2_DN_2_E 5;
variable M2_DN_4 0.4;
variable M2_DN_4_W 250;
variable VIA2_W_1 0.1;
variable VIA2_W_2 0.1;
variable VIA2_S_1 0.1;
variable VIA2_S_2 0.13;
variable VIA2_S_2_S 0.14;
variable VIA2_S_3 0.13;
variable VIA2_EN_2 0.04;
variable VIA2_EN_3 0.03;
variable VIA2_R_2_S1 0.2;
variable VIA2_R_2_S2 0.25;
variable VIA2_R_2_W 0.3;
variable VIA2_R_3_S1 0.2;
variable VIA2_R_3_S2 0.35;
variable VIA2_R_3_W 0.7;
variable VIA2_R_4_W 0.3;
variable VIA2_R_4_D 0.8;
variable VIA2_R_5_W 2;
variable VIA2_R_5_D 2;
variable VIA2_R_6_W 3;
variable VIA2_R_6_L 10;
variable VIA2_R_6_D 5;
variable VIA2_R_11_L 1;
variable VIA2_R_11_W 0.3;
variable VIA2_R_11_A 5;
variable VIA2_R_11_L2 5;
variable M3_W_1 0.1;
variable M3_S_1 0.1;
variable M3_A_1 0.052;
variable M3_A_2 0.2;
variable M3_W_3 12;
variable M3_S_2 0.12;
variable M3_S_2_W 0.2;
variable M3_S_2_L 0.38;
variable M3_S_2_1 0.16;
variable M3_S_2_1_W 0.4;
variable M3_S_2_1_L 0.4;
variable M3_S_3 0.5;
variable M3_S_3_W 1.5;
variable M3_S_3_L 1.5;
variable M3_S_4 1.5;
variable M3_S_4_W 4.5;
variable M3_S_4_L 4.5;
variable M3_S_5 0.12;
variable M3_S_5_Q 0.12;
variable M3_S_5_E 0.035;
variable M3_EN_2 0.04;
variable M3_EN_3 0.03;
variable M3_W_2 0.19;
variable M3_S_6 0.19;
variable M3_DN_1L 0.1;
variable M3_DN_1L_W METAL_LOW_DEN_WINDOW_SIZE;
variable M3_DN_1L_S METAL_LOW_DEN_WINDOW_STEP;
variable M3_DN_1L_E M3_DN_1L_W/4;
variable M3_DN_1H 0.8;
variable M3_DN_1H_W METAL_HIGH_DEN_WINDOW_SIZE;
variable M3_DN_1H_S METAL_HIGH_DEN_WINDOW_STEP;
variable M3_DN_1H_E M3_DN_1H_W/4;
variable M3_DN_2 0.9;
variable M3_DN_2_W 20;
variable M3_DN_2_S 10;
variable M3_DN_2_E 5;
variable M3_DN_4 0.4;
variable M3_DN_4_W 250;
variable VIA3_W_1 0.1;
variable VIA3_W_2 0.1;
variable VIA3_S_1 0.1;
variable VIA3_S_2 0.13;
variable VIA3_S_2_S 0.14;
variable VIA3_S_3 0.13;
variable VIA3_EN_2 0.04;
variable VIA3_EN_3 0.03;
variable VIA3_R_2_S1 0.2;
variable VIA3_R_2_S2 0.25;
variable VIA3_R_2_W 0.3;
variable VIA3_R_3_S1 0.2;
variable VIA3_R_3_S2 0.35;
variable VIA3_R_3_W 0.7;
variable VIA3_R_4_W 0.3;
variable VIA3_R_4_D 0.8;
variable VIA3_R_5_W 2;
variable VIA3_R_5_D 2;
variable VIA3_R_6_W 3;
variable VIA3_R_6_L 10;
variable VIA3_R_6_D 5;
variable VIA3_R_11_L 1;
variable VIA3_R_11_W 0.3;
variable VIA3_R_11_A 5;
variable VIA3_R_11_L2 5;
variable M4_W_1 0.1;
variable M4_S_1 0.1;
variable M4_A_1 0.052;
variable M4_A_2 0.2;
variable M4_W_3 12;
variable M4_S_2 0.12;
variable M4_S_2_W 0.2;
variable M4_S_2_L 0.38;
variable M4_S_2_1 0.16;
variable M4_S_2_1_W 0.4;
variable M4_S_2_1_L 0.4;
variable M4_S_3 0.5;
variable M4_S_3_W 1.5;
variable M4_S_3_L 1.5;
variable M4_S_4 1.5;
variable M4_S_4_W 4.5;
variable M4_S_4_L 4.5;
variable M4_S_5 0.12;
variable M4_S_5_Q 0.12;
variable M4_S_5_E 0.035;
variable M4_EN_2 0.04;
variable M4_EN_3 0.03;
variable M4_W_2 0.19;
variable M4_S_6 0.19;
variable M4_DN_1L 0.1;
variable M4_DN_1L_W METAL_LOW_DEN_WINDOW_SIZE;
variable M4_DN_1L_S METAL_LOW_DEN_WINDOW_STEP;
variable M4_DN_1L_E M4_DN_1L_W/4;
variable M4_DN_1H 0.8;
variable M4_DN_1H_W METAL_HIGH_DEN_WINDOW_SIZE;
variable M4_DN_1H_S METAL_HIGH_DEN_WINDOW_STEP;
variable M4_DN_1H_E M4_DN_1H_W/4;
variable M4_DN_2 0.9;
variable M4_DN_2_W 20;
variable M4_DN_2_S 10;
variable M4_DN_2_E 5;
variable M4_DN_4 0.4;
variable M4_DN_4_W 250;
variable VIA4_W_1 0.1;
variable VIA4_W_2 0.1;
variable VIA4_S_1 0.1;
variable VIA4_S_2 0.13;
variable VIA4_S_2_S 0.14;
variable VIA4_S_3 0.13;
variable VIA4_EN_2 0.04;
variable VIA4_EN_3 0.03;
variable VIA4_R_2_S1 0.2;
variable VIA4_R_2_S2 0.25;
variable VIA4_R_2_W 0.3;
variable VIA4_R_3_S1 0.2;
variable VIA4_R_3_S2 0.35;
variable VIA4_R_3_W 0.7;
variable VIA4_R_4_W 0.3;
variable VIA4_R_4_D 0.8;
variable VIA4_R_5_W 2;
variable VIA4_R_5_D 2;
variable VIA4_R_6_W 3;
variable VIA4_R_6_L 10;
variable VIA4_R_6_D 5;
variable VIA4_R_11_L 1;
variable VIA4_R_11_W 0.3;
variable VIA4_R_11_A 5;
variable VIA4_R_11_L2 5;
variable M5_W_1 0.1;
variable M5_S_1 0.1;
variable M5_A_1 0.052;
variable M5_A_2 0.2;
variable M5_W_3 12;
variable M5_S_2 0.12;
variable M5_S_2_W 0.2;
variable M5_S_2_L 0.38;
variable M5_S_2_1 0.16;
variable M5_S_2_1_W 0.4;
variable M5_S_2_1_L 0.4;
variable M5_S_3 0.5;
variable M5_S_3_W 1.5;
variable M5_S_3_L 1.5;
variable M5_S_4 1.5;
variable M5_S_4_W 4.5;
variable M5_S_4_L 4.5;
variable M5_S_5 0.12;
variable M5_S_5_Q 0.12;
variable M5_S_5_E 0.035;
variable M5_EN_2 0.04;
variable M5_EN_3 0.03;
variable M5_W_2 0.19;
variable M5_S_6 0.19;
variable M5_DN_1L 0.1;
variable M5_DN_1L_W METAL_LOW_DEN_WINDOW_SIZE;
variable M5_DN_1L_S METAL_LOW_DEN_WINDOW_STEP;
variable M5_DN_1L_E M5_DN_1L_W/4;
variable M5_DN_1H 0.8;
variable M5_DN_1H_W METAL_HIGH_DEN_WINDOW_SIZE;
variable M5_DN_1H_S METAL_HIGH_DEN_WINDOW_STEP;
variable M5_DN_1H_E M5_DN_1H_W/4;
variable M5_DN_2 0.9;
variable M5_DN_2_W 20;
variable M5_DN_2_S 10;
variable M5_DN_2_E 5;
variable M5_DN_4 0.4;
variable M5_DN_4_W 250;
variable VIA5_W_1 0.1;
variable VIA5_W_2 0.1;
variable VIA5_S_1 0.1;
variable VIA5_S_2 0.13;
variable VIA5_S_2_S 0.14;
variable VIA5_S_3 0.13;
variable VIA5_EN_2 0.04;
variable VIA5_EN_3 0.03;
variable VIA5_R_2_S1 0.2;
variable VIA5_R_2_S2 0.25;
variable VIA5_R_2_W 0.3;
variable VIA5_R_3_S1 0.2;
variable VIA5_R_3_S2 0.35;
variable VIA5_R_3_W 0.7;
variable VIA5_R_4_W 0.3;
variable VIA5_R_4_D 0.8;
variable VIA5_R_5_W 2;
variable VIA5_R_5_D 2;
variable VIA5_R_6_W 3;
variable VIA5_R_6_L 10;
variable VIA5_R_6_D 5;
variable VIA5_R_11_L 1;
variable VIA5_R_11_W 0.3;
variable VIA5_R_11_A 5;
variable VIA5_R_11_L2 5;
variable M6_W_1 0.1;
variable M6_S_1 0.1;
variable M6_A_1 0.052;
variable M6_A_2 0.2;
variable M6_W_3 12;
variable M6_S_2 0.12;
variable M6_S_2_W 0.2;
variable M6_S_2_L 0.38;
variable M6_S_2_1 0.16;
variable M6_S_2_1_W 0.4;
variable M6_S_2_1_L 0.4;
variable M6_S_3 0.5;
variable M6_S_3_W 1.5;
variable M6_S_3_L 1.5;
variable M6_S_4 1.5;
variable M6_S_4_W 4.5;
variable M6_S_4_L 4.5;
variable M6_S_5 0.12;
variable M6_S_5_Q 0.12;
variable M6_S_5_E 0.035;
variable M6_EN_2 0.04;
variable M6_EN_3 0.03;
variable M6_W_2 0.19;
variable M6_S_6 0.19;
variable M6_DN_1L 0.1;
variable M6_DN_1L_W METAL_LOW_DEN_WINDOW_SIZE;
variable M6_DN_1L_S METAL_LOW_DEN_WINDOW_STEP;
variable M6_DN_1L_E M6_DN_1L_W/4;
variable M6_DN_1H 0.8;
variable M6_DN_1H_W METAL_HIGH_DEN_WINDOW_SIZE;
variable M6_DN_1H_S METAL_HIGH_DEN_WINDOW_STEP;
variable M6_DN_1H_E M6_DN_1H_W/4;
variable M6_DN_2 0.9;
variable M6_DN_2_W 20;
variable M6_DN_2_S 10;
variable M6_DN_2_E 5;
variable M6_DN_4 0.4;
variable M6_DN_4_W 250;
variable VIA6_W_1 0.1;
variable VIA6_W_2 0.1;
variable VIA6_S_1 0.1;
variable VIA6_S_2 0.13;
variable VIA6_S_2_S 0.14;
variable VIA6_S_3 0.13;
variable VIA6_EN_2 0.04;
variable VIA6_EN_3 0.03;
variable VIA6_R_2_S1 0.2;
variable VIA6_R_2_S2 0.25;
variable VIA6_R_2_W 0.3;
variable VIA6_R_3_S1 0.2;
variable VIA6_R_3_S2 0.35;
variable VIA6_R_3_W 0.7;
variable VIA6_R_4_W 0.3;
variable VIA6_R_4_D 0.8;
variable VIA6_R_5_W 2;
variable VIA6_R_5_D 2;
variable VIA6_R_6_W 3;
variable VIA6_R_6_L 10;
variable VIA6_R_6_D 5;
variable VIA6_R_11_L 1;
variable VIA6_R_11_W 0.3;
variable VIA6_R_11_A 5;
variable VIA6_R_11_L2 5;
variable M7_W_1 0.1;
variable M7_S_1 0.1;
variable M7_A_1 0.052;
variable M7_A_2 0.2;
variable M7_W_3 12;
variable M7_S_2 0.12;
variable M7_S_2_W 0.2;
variable M7_S_2_L 0.38;
variable M7_S_2_1 0.16;
variable M7_S_2_1_W 0.4;
variable M7_S_2_1_L 0.4;
variable M7_S_3 0.5;
variable M7_S_3_W 1.5;
variable M7_S_3_L 1.5;
variable M7_S_4 1.5;
variable M7_S_4_W 4.5;
variable M7_S_4_L 4.5;
variable M7_S_5 0.12;
variable M7_S_5_Q 0.12;
variable M7_S_5_E 0.035;
variable M7_EN_2 0.04;
variable M7_EN_3 0.03;
variable M7_W_2 0.19;
variable M7_S_6 0.19;
variable M7_DN_1L 0.1;
variable M7_DN_1L_W METAL_LOW_DEN_WINDOW_SIZE;
variable M7_DN_1L_S METAL_LOW_DEN_WINDOW_STEP;
variable M7_DN_1L_E M7_DN_1L_W/4;
variable M7_DN_1H 0.8;
variable M7_DN_1H_W METAL_HIGH_DEN_WINDOW_SIZE;
variable M7_DN_1H_S METAL_HIGH_DEN_WINDOW_STEP;
variable M7_DN_1H_E M7_DN_1H_W/4;
variable M7_DN_2 0.9;
variable M7_DN_2_W 20;
variable M7_DN_2_S 10;
variable M7_DN_2_E 5;
variable M7_DN_4 0.4;
variable M7_DN_4_W 250;
variable VIA7_W_1 0.36;
variable VIA7_W_2 0.36;
variable VIA7_S_1 0.34;
variable VIA7_S_2 0.54;
variable VIA7_S_2_S 0.56;
variable VIA7_EN_1 0.02;
variable VIA7_EN_2 0.08;
variable VIA7_R_2_S 1.7;
variable VIA7_R_2_W 1.8;
variable VIA7_R_3_W 3;
variable VIA7_R_3_L 10;
variable VIA7_R_3_D 5;
variable VIA7_EN_3 0.24;
variable VIA7_EN_4 0.2;
variable VIA7_S_3 0.3;
variable VIA7_S_4 0.54;
variable VIA7_S_5 0.54;
variable M8_W_1 0.4;
variable M8_W_2 12;
variable M8_S_1 0.4;
variable M8_S_2 0.5;
variable M8_S_2_W 1.5;
variable M8_S_2_L 1.5;
variable M8_S_3 1.5;
variable M8_S_3_W 4.5;
variable M8_S_3_L 4.5;
variable M8_EN_1 0.02;
variable M8_EN_2 0.08;
variable M8_A_1 0.565;
variable M8_A_2 0.565;
variable M8_DN_1L 0.2;
variable M8_DN_1L_W METAL_LOW_DEN_WINDOW_SIZE;
variable M8_DN_1L_S METAL_LOW_DEN_WINDOW_STEP;
variable M8_DN_1L_E M8_DN_1L_W/4;
variable M8_DN_1H 0.8;
variable M8_DN_1H_W METAL_HIGH_DEN_WINDOW_SIZE;
variable M8_DN_1H_S METAL_HIGH_DEN_WINDOW_STEP;
variable M8_DN_1H_E M8_DN_1H_W/4;
variable M8_DN_2 0.9;
variable M8_DN_2_W 20;
variable M8_DN_2_S 10;
variable M8_DN_2_E 5;
variable M8_DN_4 0.4;
variable M8_DN_4_W 250;
variable M8_EN_3 0.1;
variable M8_DN_5L 0.5;
variable M8_DN_5L_W 200;
variable M8_DN_5L_S 100;
variable M8_DN_5L_E 2500;
variable M8_DN_5H 0.8;
variable M8_DN_5H_W 100;
variable M8_DN_5H_S 50;
variable M8_DN_5H_E 2500;
variable M8_W_4 0.84;
variable M8_S_4 0.84;
variable VIA8_W_1 0.36;
variable VIA8_W_2 0.36;
variable VIA8_S_1 0.34;
variable VIA8_S_2 0.54;
variable VIA8_S_2_S 0.56;
variable VIA8_EN_1 0.02;
variable VIA8_EN_2 0.08;
variable VIA8_EN_5 0.08;
variable VIA8_R_2_S 1.7;
variable VIA8_R_2_W 1.8;
variable VIA8_R_3_W 3;
variable VIA8_R_3_L 10;
variable VIA8_R_3_D 5;
variable VIA8_R_8_S 1.7;
variable M9_W_1 2;
variable M9_W_2 12;
variable M9_W_3 30;
variable M9_S_1 2;
variable M9_EN_1 0.3;
variable M9_A_1 9;
variable M9_A_2 9;
variable M9_DN_1L 0.2;
variable M9_DN_1H 0.7;
variable M9_DN_2L 0.2;
variable M9_DN_2L_W METAL_LOW_DEN_WINDOW_SIZE;
variable M9_DN_2L_S METAL_LOW_DEN_WINDOW_STEP;
variable M9_DN_2L_E M9_DN_2L_W/4;
variable M9_DN_2H 0.8;
variable M9_DN_2H_W METAL_HIGH_DEN_WINDOW_SIZE;
variable M9_DN_2H_S METAL_HIGH_DEN_WINDOW_STEP;
variable M9_DN_2H_E M9_DN_2H_W/4;
variable CTM_A_1 1000000;
variable CTM_W_1 2;
variable CTM_W_2 100;
variable CTM_S_1 0.8;
variable CTM_EN_1 0.4;
variable CBM_W_1 2.8;
variable CBM_W_2 210;
variable CBM_EN_2 10;
variable CBM_S_3 0.5;
variable CBM_S_1 2;
variable CBM_S_1_A 40000;
variable CBM_S_2 2.6;
variable CBM_S_2_A 40000;
variable Mx_DN_5 0.8;
variable Mx_DN_5_W 50;
variable Mx_DN_5_S 25;
variable MOM_S_1 0.1;
variable MOM_S_2 0.12;
variable MOM_A_1 70100000;
variable MOM_S_3 0.13;
variable MOM_S_4 0.13;
variable MOM_A_2 172000;
variable LOGO_S_1 10;
variable CSR_R_2 2.5;
variable CSR_S_1 0.36;
variable CSR_EN_1 0.53;
variable CSR_S_2 0.35;
variable CSR_EN_2 0.525;
variable CSR_S_3 0.34;
variable CSR_EN_3 0.61;
variable CSR_S_4 0.56;
variable CSR_EN_4 0.61;
variable CSR_S_5 0.89;
variable CSR_EN_9 0.345;
variable CSR_R_3_X 16;
variable CSR_R_3_Y 9;
variable CSR_R_3_Z 4;
variable CSR_R_3_R 4;
variable CSR_W_1 10;
variable CSR_W_2_1 6;
variable CSR_W_2_2 10;
variable CSR_L_1_1 20;
variable CSR_L_1_2 25;
variable CSR_EN_5_1 5;
variable CSR_EN_5_2 9;
variable CSR_EN_6_A 27;
variable CSR_EN_6_B 29;
variable CSR_EN_6_1_L1 17;
variable CSR_EN_6_1_L2 18;
variable CSR_EN_6_2_L1 18.1;
variable CSR_EN_6_2_L2 19.2;
variable CSR_EN_7_X 0.52;
variable CSR_EN_7_Y 0.47;
variable CSR_EN_7_Z 0.58;
variable CSR_EN_7_R 0.345;
variable CSR_EN_8 0.25;
variable SR_EN_1 2;
variable SR_S_1 10;
variable AP_W_4 8;
variable AP_W_5 1.5;
variable AP_W_6 1.5;
variable AP_S_5 3.6;
variable PM_W_5 5.9;
variable PM_W_6 10.9;
variable CB_W_7 2;
variable AP_EN_3 1;
variable AP_EN_3_W 4.5;
variable WLCSP_TOL 0.02;
variable DOD_W_1 0.5;
variable DOD_S_1 0.4;
variable DOD_S_2 0.34;
variable DOD_S_3 0.3;
variable DOD_S_5 0.3;
variable DOD_S_6 1.2;
variable DOD_S_7 1.2;
variable DOD_S_7_1 5;
variable DOD_S_8 0.6;
variable DOD_S_10 1.2;
variable DOD_EN_1 0.3;
variable DOD_EN_2 0.6;
variable DPO_W_1 0.4;
variable DPO_S_1 0.3;
variable DPO_S_2 0.2;
variable DPO_S_3 0.5;
variable DPO_S_5 1.2;
variable DPO_S_6 1.2;
variable DPO_S_6_1 5;
variable DPO_S_9 1.2;
variable DPO_EN_1 0.6;
variable DM1_W_2 3;
variable DM1_S_3 1.5;
variable DM1_S_3_L 4.5;
variable DM1_S_3_W 4.5;
variable DM1_S_3_1 0.5;
variable DM1_S_3_1_L 1.5;
variable DM1_S_3_1_W 1.5;
variable DM1_S_4 5;
variable DM1_S_5 5;
variable DM1_S_5_1 5;
variable DM1_S_8 2.5;
variable DM1_EN_1 2.5;
variable DM2_W_2 3;
variable DM2_S_3 1.5;
variable DM2_S_3_L 4.5;
variable DM2_S_3_W 4.5;
variable DM2_S_3_1 0.5;
variable DM2_S_3_1_L 1.5;
variable DM2_S_3_1_W 1.5;
variable DM2_S_4 5;
variable DM2_S_5 5;
variable DM2_S_5_1 5;
variable DM2_S_8 2.5;
variable DM2_EN_1 2.5;
variable DM3_W_2 3;
variable DM3_S_3 1.5;
variable DM3_S_3_L 4.5;
variable DM3_S_3_W 4.5;
variable DM3_S_3_1 0.5;
variable DM3_S_3_1_L 1.5;
variable DM3_S_3_1_W 1.5;
variable DM3_S_4 5;
variable DM3_S_5 5;
variable DM3_S_5_1 5;
variable DM3_S_8 2.5;
variable DM3_EN_1 2.5;
variable DM4_W_2 3;
variable DM4_S_3 1.5;
variable DM4_S_3_L 4.5;
variable DM4_S_3_W 4.5;
variable DM4_S_3_1 0.5;
variable DM4_S_3_1_L 1.5;
variable DM4_S_3_1_W 1.5;
variable DM4_S_4 5;
variable DM4_S_5 5;
variable DM4_S_5_1 5;
variable DM4_S_8 2.5;
variable DM4_EN_1 2.5;
variable DM5_W_2 3;
variable DM5_S_3 1.5;
variable DM5_S_3_L 4.5;
variable DM5_S_3_W 4.5;
variable DM5_S_3_1 0.5;
variable DM5_S_3_1_L 1.5;
variable DM5_S_3_1_W 1.5;
variable DM5_S_4 5;
variable DM5_S_5 5;
variable DM5_S_5_1 5;
variable DM5_S_8 2.5;
variable DM5_EN_1 2.5;
variable DM6_W_2 3;
variable DM6_S_3 1.5;
variable DM6_S_3_L 4.5;
variable DM6_S_3_W 4.5;
variable DM6_S_3_1 0.5;
variable DM6_S_3_1_L 1.5;
variable DM6_S_3_1_W 1.5;
variable DM6_S_4 5;
variable DM6_S_5 5;
variable DM6_S_5_1 5;
variable DM6_S_8 2.5;
variable DM6_EN_1 2.5;
variable DM7_W_2 3;
variable DM7_S_3 1.5;
variable DM7_S_3_L 4.5;
variable DM7_S_3_W 4.5;
variable DM7_S_3_1 0.5;
variable DM7_S_3_1_L 1.5;
variable DM7_S_3_1_W 1.5;
variable DM7_S_4 5;
variable DM7_S_5 5;
variable DM7_S_5_1 5;
variable DM7_S_8 2.5;
variable DM7_S_9 1.5;
variable DM7_EN_1 2.5;
variable DM8_W_2 3;
variable DM8_S_3 1.5;
variable DM8_S_3_L 4.5;
variable DM8_S_3_W 4.5;
variable DM8_S_3_1 0.5;
variable DM8_S_3_1_L 1.5;
variable DM8_S_3_1_W 1.5;
variable DM8_S_4 5;
variable DM8_S_5 5;
variable DM8_S_5_1 5;
variable DM8_S_8 2.5;
variable DM8_EN_1 2.5;
variable DM9_W_2 3;
variable DM9_S_3 1.5;
variable DM9_S_3_L 4.5;
variable DM9_S_3_W 4.5;
variable DM9_S_3_1 0.5;
variable DM9_S_3_1_L 1.5;
variable DM9_S_3_1_W 1.5;
variable DM9_S_4 5;
variable DM9_S_5 5;
variable DM9_S_5_1 5;
variable DM9_S_8 2.5;
variable DM9_EN_1 2.5;
variable DM1_W_1 0.3;
variable DM1_S_1 0.3;
variable DM1_S_2 0.3;
variable DM1_A_1 0.24;
variable DM1_A_2 80;
variable DM1_S_10 0.4;
variable DM2_W_1 0.3;
variable DM2_S_1 0.3;
variable DM2_S_2 0.3;
variable DM2_A_1 0.24;
variable DM2_A_2 80;
variable DM2_S_10 0.4;
variable DM3_W_1 0.3;
variable DM3_S_1 0.3;
variable DM3_S_2 0.3;
variable DM3_A_1 0.24;
variable DM3_A_2 80;
variable DM3_S_10 0.4;
variable DM4_W_1 0.3;
variable DM4_S_1 0.3;
variable DM4_S_2 0.3;
variable DM4_A_1 0.24;
variable DM4_A_2 80;
variable DM4_S_10 0.4;
variable DM5_W_1 0.3;
variable DM5_S_1 0.3;
variable DM5_S_2 0.3;
variable DM5_A_1 0.24;
variable DM5_A_2 80;
variable DM5_S_10 0.4;
variable DM6_W_1 0.3;
variable DM6_S_1 0.3;
variable DM6_S_2 0.3;
variable DM6_A_1 0.24;
variable DM6_A_2 80;
variable DM6_S_10 0.4;
variable DM7_W_1 0.3;
variable DM7_S_1 0.3;
variable DM7_S_2 0.3;
variable DM7_A_1 0.24;
variable DM7_A_2 80;
variable DM7_S_10 0.4;
variable DM8_W_1 0.4;
variable DM8_S_1 0.4;
variable DM8_S_2 0.6;
variable DM8_A_1 0.565;
variable DM8_A_2 160;
variable DM9_W_1 3;
variable DM9_S_1 3;
variable DM9_S_2 3;
variable DM9_A_1 9;
variable DM9_A_2 600;
variable FU_W_1 1;
variable FU_S_1_1 2;
variable FU_S_4 27;
variable FU_EN_1 8;
variable FU_EN_1_1 2.2;
variable FU_EN_2 13;
variable FU_EN_3 0.8;
variable FU_W_2 21.6;
variable FU_L_1 17.2;
variable FU_L_1_1 8;
variable FU_S_1 5.6;
variable FU_S_2 10.8;
variable FU_S_3 9.6;
variable FU_A_1_L 3;
variable FU_A_1_W 3;
variable PR_W_1_Vx 0.1;
variable PR_W_1_Vy 0.2;
variable PR_W_1_Vz 0.36;
variable PR_W_1_Vr 0.29;
variable PR_S_1 1;
variable PR_S_2 3.2;
variable PR_S_3 0.5;
variable PR_EN_1_Vx 0.6;
variable PR_EN_1_Vy 0.52;
variable PR_EN_1_Vz 0.52;
variable PR_EN_1_Vr 0.52;
variable PR_EX_2 12;
variable LW_W_1_MIN 10;
variable LW_W_1_MAX 20;
variable LW_L_1_MIN 30;
variable LW_L_1_MAX 50;
variable LW_EN_1 12;
variable LW_EN_2 30;
variable LW_S_1 5;
variable LW_S_2 15;
variable RV_W_1 3;
variable RV_S_1 3;
variable RV_S_3 6;
variable RV_EN_1 1.5;
variable AP_W_1 3;
variable AP_W_2 35;
variable AP_W_3 3;
variable AP_S_1 2;
variable AP_S_2 5;
variable AP_S_3 5;
variable AP_EN_1 1.5;
variable AP_EN_2 1;
variable TOL 0.01;
variable AP_DN_1_L 0.1;
variable AP_DN_1_H 0.7;
variable LUP_2 15;
variable LUP_2_S 5;
variable LUP_3_W 0.2;
variable LUP_3_1_1 2;
variable LUP_3_1_2 3;
variable LUP_3_2_1 2.3;
variable LUP_3_2_2 4;
variable LUP_3_3_1 2.6;
variable LUP_3_3_2 5;
variable LUP_3_4_1 4;
variable LUP_3_4_2 8;
variable LUP_3_5_1 10;
variable LUP_3_5_2 15;
variable LUP_4 0.12;
variable LUP_5_1_1 2;
variable LUP_5_1_2 3;
variable LUP_5_2_1 2.3;
variable LUP_5_2_2 4;
variable LUP_5_3_1 2.6;
variable LUP_5_3_2 5;
variable LUP_5_4_1 4;
variable LUP_5_4_2 8;
variable LUP_5_5_1 10;
variable LUP_5_5_2 15;
variable LUP_6 30;
variable LUP_6_SRAM 40;
variable LUP_10 75;
variable LUP_10E 3;
variable LUP_13 15;
variable LUP_14 0.2;
variable ESD_3g_MIN 15;
variable ESD_3g_MAX 60;
variable ESD_6g 2;
variable ESD_7g 2.4;
variable ESD_16g 360;
variable ESD_17g 360;
variable ESD_18g_33V 0.4;
variable ESD_18g_25V 0.35;
variable ESD_18g_18V 0.2;
variable ESD_18g_10V 0.1;
variable ESD_20g 0.06;
variable ESD_21g 1;
variable ESD_22g 1;
variable ESD_23g 0.22;
variable ESD_28g 0.06;
variable ESD_30g 1;
variable ESD_32g 0.22;
variable ESD_33g 0.25;
variable ESD_37g 900;
variable ESD_48g 0.45;
variable ESD_49g 1;
variable ESD_50g 1;
variable ESD_51g 0.22;
variable ESD_56g 1;
variable ESD_57g 0.22;
variable ESD_58g 360;
variable ESD_59g 360;
variable ESD_60g 0.44;
variable ESD_61g_MIN 15;
variable ESD_61g_MAX 60;
variable ESD_63g 0.86;
variable ESD_64g 1.95;
variable ESD_65g 0.1;
variable ESD_66g 0.22;
variable SRAM_WARN_1 8388608;
variable SRAM_W_1 0.28;
variable SRAM_S_1 0.28;
variable SRAM_S_2 0.12;
variable SRAM_EN_1 0.12;
variable SRAM_EX_1 0.28;
variable SRAM_O_1 0.28;
variable SRAM_A_1 0.6;
variable WLD_R_1 0.05;
variable WLD_R_2 0.043;
variable WLD_R_3 0.14;
variable WLD_R_7 200;
LAYER_GRID COi 1;
LAYER_GRID POi 1;
LAYER_DEF DNWi 1;
LAYER_DEF NWi 3211;
LAYER_MAP 3 -datatype lege 0 255 3211;
LAYER_DEF NWi_OTHERS 3549;
LAYER_MAP 3 -datatype lege 1 255 3549;
LAYER_DEF OD_18i 16;
LAYER_DEF OD_25i 18;
LAYER_DEF OD25_33 3550;
LAYER_MAP 18 -datatype 3 3550;
LAYER_DEF OD25_18 3551;
LAYER_MAP 18 -datatype 4 3551;
LAYER_DEF OD_33i 15;
LAYER_DEF OD_DECAP 118;
LAYER_DEF PPi 25;
LAYER_DEF NPi 26;
LAYER_DEF COi 3329;
LAYER_MAP 30 -datatype lege 0 10 3329;
LAYER_MAP 30 -datatype lege 12 255 3329;
LAYER_DEF CO_PUSH 3208;
LAYER_MAP 30 -datatype 11 3208;
LAYER_DEF COi_SRAM 3330;
LAYER_MAP 30 -datatype lege 11 13 3330;
LAYER_DEF COi_OTHERS 3210;
LAYER_MAP 30 -datatype lege 1 10 3210;
LAYER_MAP 30 -datatype lege 12 255 3210;
LAYER_DEF CBi 76;
LAYER_DEF CB2i 86;
LAYER_DEF RPOi 29;
LAYER_DEF NT_Ni 11;
LAYER_DEF NCap_NTNi 3554;
LAYER_MAP 11 -datatype 20 3554;
LAYER_DEF FWALi 3187;
LAYER_MAP 95 -datatype 20 3187;
LAYER_DEF FWCUi 3188;
LAYER_MAP 95 -datatype 0 3188;
OR FWALi FWCUi -outputlayer FWi;
LAYER_DEF POFUSE 3509;
LAYER_MAP 156 -datatype 0 3509;
LAYER_DEF FUSELINK 3510;
LAYER_MAP 156 -datatype 1 3510;
LAYER_DEF PMi 5;
LAYER_DEF PM1i 3185;
LAYER_MAP 5 -datatype 1 3185;
LAYER_DEF PM2i 3186;
LAYER_MAP 5 -datatype 2 3186;
LAYER_DEF SEALRINGi 162;
LAYER_DEF VTH_Ni 67;
LAYER_DEF VTH_Pi 68;
LAYER_DEF VTL_Ni 12;
LAYER_DEF VTL_Pi 13;
LAYER_DEF UHVT_Ni 93;
LAYER_DEF UHVT_Pi 94;
LAYER_DEF CBDi 169;
LAYER_DEF UBMi 170;
LAYER_DEF RH 117;
LAYER_DEF ESD3 147;
LAYER_DEF VARi 143;
LAYER_DEF APi 74;
LAYER_DEF Cu_PPIi 3182;
LAYER_MAP 74 -datatype 10 3182;
LAYER_DEF CBMi 88;
LAYER_DEF CTMi 77;
LAYER_DEF RVi 3286;
LAYER_MAP 85 -datatype 0 3286;
LAYER_DEF DCOi 90;
LAYER_DEF HVD_P 3513;
LAYER_MAP 91 -datatype 2 3513;
LAYER_DEF HVD_N_nw 3375;
LAYER_MAP 91 -datatype 3 3375;
LAYER_DEF SRM_ULL 3631;
LAYER_MAP 50 -datatype 68 3631;
LAYER_DEF BJTDMY 110;
LAYER_DEF NWDMY 114;
LAYER_DEF RPDMY 115;
LAYER_DEF PMDMY 106;
LAYER_DEF SDI 122;
LAYER_DEF ESD1DMY 145;
LAYER_DEF ESD2DMY 146;
LAYER_DEF RODMY 49;
LAYER_DEF LMARK 109;
LAYER_DEF SRM 3568;
LAYER_MAP 50 -datatype 0 3568;
LAYER_DEF CSRDMY 166;
LAYER_DEF CDUDMY 165;
LAYER_DEF TCDDMY 3514;
LAYER_MAP 165 -datatype 1 3514;
LAYER_DEF LOGO 158;
LAYER_DEF INDDMY 3515;
LAYER_MAP 144 -datatype lege 0 14 3515;
LAYER_DEF IND_CTAP 3660;
LAYER_MAP 144 -datatype 34 3660;
LAYER_DEF CTMDMY 3661;
LAYER_MAP 148 -datatype 0 3661;
LAYER_MAP 148 -datatype 10 3661;
LAYER_DEF CTMDMY_10 3662;
LAYER_MAP 148 -datatype 110 3662;
LAYER_DEF CTMDMY_15 3663;
LAYER_MAP 148 -datatype 115 3663;
LAYER_DEF CTMDMY_20 3664;
LAYER_MAP 148 -datatype 120 3664;
LAYER_DEF CTMDMY_21 3665;
LAYER_MAP 148 -datatype 21 3665;
LAYER_DEF MOMDMY_1 3666;
LAYER_MAP 155 -datatype 1 3666;
LAYER_DEF MOMDMY_2 3667;
LAYER_MAP 155 -datatype 2 3667;
LAYER_DEF MOMDMY_3 3668;
LAYER_MAP 155 -datatype 3 3668;
LAYER_DEF MOMDMY_4 3669;
LAYER_MAP 155 -datatype 4 3669;
LAYER_DEF MOMDMY_5 3670;
LAYER_MAP 155 -datatype 5 3670;
LAYER_DEF MOMDMY_6 3671;
LAYER_MAP 155 -datatype 6 3671;
LAYER_DEF MOMDMY_7 3672;
LAYER_MAP 155 -datatype 7 3672;
LAYER_DEF MOMDMY_8 3673;
LAYER_MAP 155 -datatype 8 3673;
LAYER_DEF MOMDMY_9 3674;
LAYER_MAP 155 -datatype 9 3674;
LAYER_DEF MOMDMY_AP 3679;
LAYER_MAP 155 -datatype 20 3679;
LAYER_DEF RTMOMDMY 3680;
LAYER_MAP 155 -datatype 21 3680;
LAYER_DEF MOMDMY 3681;
LAYER_MAP 155 -datatype 0 3681;
LAYER_DEF MOMDMY_2T 3682;
LAYER_MAP 155 -datatype 27 3682;
LAYER_DEF MOMDMY_100 3683;
LAYER_MAP 155 -datatype 100 3683;
LAYER_DEF MOMDMY_ALL 3684;
LAYER_MAP 155 -datatype lege 1 9 3684;
LAYER_MAP 155 -datatype lege 20 21 3684;
LAYER_DEF RFDMY 161;
LAYER_DEF WBDMY 157;
LAYER_DEF DIODMY 119;
LAYER_DEF SRAMDMY 3516;
LAYER_MAP 186 -datatype 0 3516;
LAYER_DEF SRAMDMY_4 3517;
LAYER_MAP 186 -datatype 4 3517;
LAYER_DEF SRAMDMY_5 3518;
LAYER_MAP 186 -datatype 5 3518;
OR SRAMDMY_4 SRAMDMY_5 -outputlayer SRAMDMY_PERI;
LAYER_DEF SRAMDMY_1 3685;
LAYER_MAP 186 -datatype 1 3685;
LAYER_DEF RAM1TDMY 3686;
LAYER_MAP 160 -datatype 0 3686;
LAYER_DEF OD1Ti 27;
LAYER_DEF CLDDi 92;
LAYER_DEF CROWNi 102;
LAYER_DEF P3i 103;
LAYER_DEF SNCTi 101;
LAYER_DEF LUPWDMY 3687;
LAYER_MAP 255 -datatype 1 3687;
LAYER_DEF LUPWDMY_2 3699;
LAYER_MAP 255 -datatype 18 3699;
LAYER_DEF VDDDMY 3700;
LAYER_MAP 255 -datatype 4 3700;
LAYER_DEF VSSDMY 3701;
LAYER_MAP 255 -datatype 5 3701;
LAYER_DEF RES200 3725;
LAYER_MAP 255 -datatype 9 3725;
LAYER_DEF MATCHING 3727;
LAYER_MAP 255 -datatype 10 3727;
NOT MATCHING SRAM_EXCLUDE -outputlayer MATCHINGi;
LAYER_DEF M1i 3932;
LAYER_MAP 31 -datatype 0 3932;
LAYER_MAP 31 -datatype 7 3932;
LAYER_DEF M1_real 3291;
LAYER_MAP 31 -datatype 0 3291;
LAYER_DEF DM1_O 3945;
LAYER_MAP 31 -datatype 7 3945;
LAYER_DEF DUM1 3958;
LAYER_MAP 31 -datatype 1 3958;
LAYER_DEF NOUSEM1 3971;
LAYER_MAP 31 -datatype 20 3971;
LAYER_MAP 31 -datatype 21 3971;
LAYER_MAP 31 -datatype 40 3971;
LAYER_MAP 31 -datatype 41 3971;
LAYER_MAP 31 -datatype 60 3971;
LAYER_MAP 31 -datatype 61 3971;
LAYER_MAP 31 -datatype 80 3971;
LAYER_MAP 31 -datatype 81 3971;
LAYER_DEF NOTUSEM1 3984;
LAYER_MAP 31 -datatype lege 161 165 3984;
LAYER_DEF DM1EXCL 3192;
LAYER_MAP 150 -datatype 1 3192;
LAYER_DEF M2i 3933;
LAYER_MAP 32 -datatype 0 3933;
LAYER_MAP 32 -datatype 7 3933;
LAYER_DEF M2_real 3292;
LAYER_MAP 32 -datatype 0 3292;
LAYER_DEF DM2_O 3946;
LAYER_MAP 32 -datatype 7 3946;
LAYER_DEF DUM2 3959;
LAYER_MAP 32 -datatype 1 3959;
LAYER_DEF NOUSEM2 3972;
LAYER_MAP 32 -datatype 20 3972;
LAYER_MAP 32 -datatype 21 3972;
LAYER_MAP 32 -datatype 40 3972;
LAYER_MAP 32 -datatype 41 3972;
LAYER_MAP 32 -datatype 60 3972;
LAYER_MAP 32 -datatype 61 3972;
LAYER_MAP 32 -datatype 80 3972;
LAYER_MAP 32 -datatype 81 3972;
LAYER_DEF NOTUSEM2 3985;
LAYER_MAP 32 -datatype lege 161 165 3985;
LAYER_DEF DM2EXCL 3193;
LAYER_MAP 150 -datatype 2 3193;
LAYER_DEF M3i 3934;
LAYER_MAP 33 -datatype 0 3934;
LAYER_MAP 33 -datatype 7 3934;
LAYER_DEF M3_real 3293;
LAYER_MAP 33 -datatype 0 3293;
LAYER_DEF DM3_O 3947;
LAYER_MAP 33 -datatype 7 3947;
LAYER_DEF DUM3 3960;
LAYER_MAP 33 -datatype 1 3960;
LAYER_DEF NOUSEM3 3973;
LAYER_MAP 33 -datatype 20 3973;
LAYER_MAP 33 -datatype 21 3973;
LAYER_MAP 33 -datatype 40 3973;
LAYER_MAP 33 -datatype 41 3973;
LAYER_MAP 33 -datatype 60 3973;
LAYER_MAP 33 -datatype 61 3973;
LAYER_MAP 33 -datatype 80 3973;
LAYER_MAP 33 -datatype 81 3973;
LAYER_DEF NOTUSEM3 3986;
LAYER_MAP 33 -datatype lege 161 165 3986;
LAYER_DEF DM3EXCL 3194;
LAYER_MAP 150 -datatype 3 3194;
LAYER_DEF M4i 3935;
LAYER_MAP 34 -datatype 0 3935;
LAYER_MAP 34 -datatype 7 3935;
LAYER_DEF M4_real 3294;
LAYER_MAP 34 -datatype 0 3294;
LAYER_DEF DM4_O 3948;
LAYER_MAP 34 -datatype 7 3948;
LAYER_DEF DUM4 3961;
LAYER_MAP 34 -datatype 1 3961;
LAYER_DEF NOUSEM4 3974;
LAYER_MAP 34 -datatype 20 3974;
LAYER_MAP 34 -datatype 21 3974;
LAYER_MAP 34 -datatype 40 3974;
LAYER_MAP 34 -datatype 41 3974;
LAYER_MAP 34 -datatype 60 3974;
LAYER_MAP 34 -datatype 61 3974;
LAYER_MAP 34 -datatype 80 3974;
LAYER_MAP 34 -datatype 81 3974;
LAYER_DEF NOTUSEM4 3987;
LAYER_MAP 34 -datatype lege 161 165 3987;
LAYER_DEF DM4EXCL 3195;
LAYER_MAP 150 -datatype 4 3195;
LAYER_DEF M5i 3936;
LAYER_MAP 35 -datatype 0 3936;
LAYER_MAP 35 -datatype 7 3936;
LAYER_DEF M5_real 3295;
LAYER_MAP 35 -datatype 0 3295;
LAYER_DEF DM5_O 3949;
LAYER_MAP 35 -datatype 7 3949;
LAYER_DEF DUM5 3962;
LAYER_MAP 35 -datatype 1 3962;
LAYER_DEF NOUSEM5 3975;
LAYER_MAP 35 -datatype 20 3975;
LAYER_MAP 35 -datatype 21 3975;
LAYER_MAP 35 -datatype 40 3975;
LAYER_MAP 35 -datatype 41 3975;
LAYER_MAP 35 -datatype 60 3975;
LAYER_MAP 35 -datatype 61 3975;
LAYER_MAP 35 -datatype 80 3975;
LAYER_MAP 35 -datatype 81 3975;
LAYER_DEF NOTUSEM5 3988;
LAYER_MAP 35 -datatype lege 161 165 3988;
LAYER_DEF DM5EXCL 3196;
LAYER_MAP 150 -datatype 5 3196;
LAYER_DEF M6i 3937;
LAYER_MAP 36 -datatype 0 3937;
LAYER_MAP 36 -datatype 7 3937;
LAYER_DEF M6_real 3296;
LAYER_MAP 36 -datatype 0 3296;
LAYER_DEF DM6_O 3950;
LAYER_MAP 36 -datatype 7 3950;
LAYER_DEF DUM6 3963;
LAYER_MAP 36 -datatype 1 3963;
LAYER_DEF NOUSEM6 3976;
LAYER_MAP 36 -datatype 20 3976;
LAYER_MAP 36 -datatype 21 3976;
LAYER_MAP 36 -datatype 40 3976;
LAYER_MAP 36 -datatype 41 3976;
LAYER_MAP 36 -datatype 60 3976;
LAYER_MAP 36 -datatype 61 3976;
LAYER_MAP 36 -datatype 80 3976;
LAYER_MAP 36 -datatype 81 3976;
LAYER_DEF NOTUSEM6 3989;
LAYER_MAP 36 -datatype lege 161 165 3989;
LAYER_DEF DM6EXCL 3197;
LAYER_MAP 150 -datatype 6 3197;
LAYER_DEF M7i 3938;
LAYER_MAP 37 -datatype 0 3938;
LAYER_MAP 37 -datatype 7 3938;
LAYER_DEF M7_real 3297;
LAYER_MAP 37 -datatype 0 3297;
LAYER_DEF DM7_O 3951;
LAYER_MAP 37 -datatype 7 3951;
LAYER_DEF DUM7 3964;
LAYER_MAP 37 -datatype 1 3964;
LAYER_DEF NOUSEM7 3977;
LAYER_MAP 37 -datatype 20 3977;
LAYER_MAP 37 -datatype 21 3977;
LAYER_MAP 37 -datatype 40 3977;
LAYER_MAP 37 -datatype 41 3977;
LAYER_MAP 37 -datatype 60 3977;
LAYER_MAP 37 -datatype 61 3977;
LAYER_MAP 37 -datatype 80 3977;
LAYER_MAP 37 -datatype 81 3977;
LAYER_DEF NOTUSEM7 3990;
LAYER_MAP 37 -datatype lege 161 165 3990;
LAYER_DEF DM7EXCL 3198;
LAYER_MAP 150 -datatype 7 3198;
LAYER_DEF M8_OLD 3298;
LAYER_MAP 38 -datatype 0 3298;
LAYER_DEF M8_NEW 3801;
LAYER_MAP 38 -datatype 40 3801;
COPY M8_NEW -outputlayer M8i;
LAYER_DEF DUM8_OLD 3965;
LAYER_MAP 38 -datatype 1 3965;
LAYER_DEF DUM8_NEW 4069;
LAYER_MAP 38 -datatype 41 4069;
COPY DUM8_NEW -outputlayer DUM8;
LAYER_DEF NOUSEM8_NEW 4043;
LAYER_MAP 38 -datatype 0 4043;
LAYER_MAP 38 -datatype 1 4043;
LAYER_DEF NOUSEM8_OLD 4079;
LAYER_MAP 38 -datatype 7 4079;
LAYER_MAP 38 -datatype 20 4079;
LAYER_MAP 38 -datatype 21 4079;
LAYER_MAP 38 -datatype 60 4079;
LAYER_MAP 38 -datatype 61 4079;
LAYER_MAP 38 -datatype 80 4079;
LAYER_MAP 38 -datatype 81 4079;
OR NOUSEM8_NEW NOUSEM8_OLD -outputlayer NOUSEM8;
LAYER_DEF NOTUSEM8 3991;
LAYER_MAP 38 -datatype lege 161 165 3991;
LAYER_DEF DM8EXCL 3199;
LAYER_MAP 150 -datatype 8 3199;
LAYER_DEF M9_OLD 3299;
LAYER_MAP 39 -datatype 0 3299;
LAYER_DEF M9_NEW 4145;
LAYER_MAP 39 -datatype 60 4145;
COPY M9_NEW -outputlayer M9i;
LAYER_DEF DUM9_OLD 3966;
LAYER_MAP 39 -datatype 1 3966;
LAYER_DEF DUM9_NEW 4158;
LAYER_MAP 39 -datatype 61 4158;
COPY DUM9_NEW -outputlayer DUM9;
LAYER_DEF NOUSEM9_NEW 4044;
LAYER_MAP 39 -datatype 0 4044;
LAYER_MAP 39 -datatype 1 4044;
LAYER_DEF NOUSEM9_OLD 4171;
LAYER_MAP 39 -datatype 7 4171;
LAYER_MAP 39 -datatype 20 4171;
LAYER_MAP 39 -datatype 21 4171;
LAYER_MAP 39 -datatype 40 4171;
LAYER_MAP 39 -datatype 41 4171;
LAYER_MAP 39 -datatype 80 4171;
LAYER_MAP 39 -datatype 81 4171;
OR NOUSEM9_NEW NOUSEM9_OLD -outputlayer NOUSEM9;
LAYER_DEF NOTUSEM9 3992;
LAYER_MAP 39 -datatype lege 161 165 3992;
LAYER_DEF DM9EXCL 3200;
LAYER_MAP 150 -datatype 9 3200;
LAYER_DEF VIA1i 3026;
LAYER_MAP 51 -datatype 0 3026;
LAYER_DEF NOUSEV1 3039;
LAYER_MAP 51 -datatype 20 3039;
LAYER_MAP 51 -datatype 40 3039;
LAYER_MAP 51 -datatype 80 3039;
LAYER_DEF VIA2i 3027;
LAYER_MAP 52 -datatype 0 3027;
LAYER_DEF NOUSEV2 3040;
LAYER_MAP 52 -datatype 20 3040;
LAYER_MAP 52 -datatype 40 3040;
LAYER_MAP 52 -datatype 80 3040;
LAYER_DEF VIA3i 3028;
LAYER_MAP 53 -datatype 0 3028;
LAYER_DEF NOUSEV3 3041;
LAYER_MAP 53 -datatype 20 3041;
LAYER_MAP 53 -datatype 40 3041;
LAYER_MAP 53 -datatype 80 3041;
LAYER_DEF VIA4i 3029;
LAYER_MAP 54 -datatype 0 3029;
LAYER_DEF NOUSEV4 3042;
LAYER_MAP 54 -datatype 20 3042;
LAYER_MAP 54 -datatype 40 3042;
LAYER_MAP 54 -datatype 80 3042;
LAYER_DEF VIA5i 3030;
LAYER_MAP 55 -datatype 0 3030;
LAYER_DEF NOUSEV5 3043;
LAYER_MAP 55 -datatype 20 3043;
LAYER_MAP 55 -datatype 40 3043;
LAYER_MAP 55 -datatype 80 3043;
LAYER_DEF VIA6i 3031;
LAYER_MAP 56 -datatype 0 3031;
LAYER_DEF NOUSEV6 3044;
LAYER_MAP 56 -datatype 20 3044;
LAYER_MAP 56 -datatype 40 3044;
LAYER_MAP 56 -datatype 80 3044;
LAYER_DEF VIA7_OLD 3032;
LAYER_MAP 57 -datatype 0 3032;
LAYER_DEF VIA7_NEW 3149;
LAYER_MAP 57 -datatype 40 3149;
COPY VIA7_NEW -outputlayer VIA7i;
COPY VIA7_OLD -outputlayer NOUSEV7_NEW;
LAYER_DEF NOUSEV7_OLD 3175;
LAYER_MAP 57 -datatype 20 3175;
LAYER_MAP 57 -datatype 80 3175;
OR NOUSEV7_NEW NOUSEV7_OLD -outputlayer NOUSEV7;
LAYER_DEF VIA8_OLD 3033;
LAYER_MAP 58 -datatype 0 3033;
LAYER_DEF VIA8_NEW 3150;
LAYER_MAP 58 -datatype 40 3150;
COPY VIA8_NEW -outputlayer VIA8i;
COPY VIA8_OLD -outputlayer NOUSEV8_NEW;
LAYER_DEF NOUSEV8_OLD 3176;
LAYER_MAP 58 -datatype 20 3176;
LAYER_MAP 58 -datatype 80 3176;
OR NOUSEV8_NEW NOUSEV8_OLD -outputlayer NOUSEV8;
LAYER_DEF ODi 3189 7 8;
LAYER_MAP 6 -datatype 0 3189;
LAYER_MAP 6 -datatype 2 3189;
LAYER_MAP 6 -datatype lege 4 160 3189;
LAYER_MAP 6 -datatype lege 166 255 3189;
LAYER_DEF ODi_RFDRAIN 3331;
LAYER_MAP 6 -datatype 3 3331;
LAYER_DEF ODi_SRAM 3332;
LAYER_MAP 6 -datatype 11 3332;
LAYER_MAP 6 -datatype 12 3332;
LAYER_MAP 6 -datatype 13 3332;
LAYER_DEF ODi_OTHERS 3333 7 8;
LAYER_MAP 6 -datatype 2 3333;
LAYER_MAP 6 -datatype lege 4 160 3333;
LAYER_MAP 6 -datatype lege 166 255 3333;
LAYER_DEF DOD 3334;
LAYER_MAP 6 -datatype 1 3334;
LAYER_DEF NOTUSEOD 3335;
LAYER_MAP 6 -datatype lege 161 165 3335;
LAYER_DEF POi 3336;
LAYER_MAP 17 -datatype 0 3336;
LAYER_MAP 17 -datatype lege 2 50 3336;
LAYER_MAP 17 -datatype lege 52 160 3336;
LAYER_MAP 17 -datatype lege 166 255 3336;
LAYER_DEF POi_SRAM 3337;
LAYER_MAP 17 -datatype 11 3337;
LAYER_MAP 17 -datatype 12 3337;
LAYER_MAP 17 -datatype 13 3337;
LAYER_DEF POi_OTHERS 3338;
LAYER_MAP 17 -datatype lege 2 50 3338;
LAYER_MAP 17 -datatype lege 52 160 3338;
LAYER_MAP 17 -datatype lege 166 255 3338;
LAYER_DEF DPO 3339;
LAYER_MAP 17 -datatype 1 3339;
LAYER_DEF mVTLi 3546;
LAYER_MAP 17 -datatype 51 3546;
LAYER_DEF NOTUSEPO 3547;
LAYER_MAP 17 -datatype lege 161 165 3547;
LAYER_DEF ODBLK 3340;
LAYER_MAP 150 -datatype 20 3340;
LAYER_DEF POBLK 3341;
LAYER_MAP 150 -datatype 21 3341;
LAYER_DEF RRuleRequired 3786;
LAYER_MAP 182 -datatype 1 3786;
LAYER_DEF RRuleRecommended 3787;
LAYER_MAP 182 -datatype 2 3787;
LAYER_DEF RRuleAnalog 3788;
LAYER_MAP 182 -datatype 3 3788;
LAYER_DEF RRuleGuideline 3789;
LAYER_MAP 182 -datatype 4 3789;
LAYER_DEF excludeRRuleRequired 3790;
LAYER_MAP 182 -datatype 11 3790;
LAYER_DEF excludeRRuleRecommended 3791;
LAYER_MAP 182 -datatype 12 3791;
LAYER_DEF excludeRRuleAnalog 3792;
LAYER_MAP 182 -datatype 13 3792;
LAYER_DEF excludeRRuleGuideline 3793;
LAYER_MAP 182 -datatype 14 3793;
LAYER_DEF RMDMY1 3572;
LAYER_MAP 116 -datatype 1 3572;
LAYER_DEF RMDMY2 3573;
LAYER_MAP 116 -datatype 2 3573;
LAYER_DEF RMDMY3 3574;
LAYER_MAP 116 -datatype 3 3574;
LAYER_DEF RMDMY4 3575;
LAYER_MAP 116 -datatype 4 3575;
LAYER_DEF RMDMY5 3576;
LAYER_MAP 116 -datatype 5 3576;
LAYER_DEF RMDMY6 3577;
LAYER_MAP 116 -datatype 6 3577;
LAYER_DEF RMDMY7 3578;
LAYER_MAP 116 -datatype 7 3578;
LAYER_DEF RMDMY8 3579;
LAYER_MAP 116 -datatype 8 3579;
LAYER_DEF RMDMY9 3639;
LAYER_MAP 116 -datatype 9 3639;
LAYER_DEF RMDMYAP 3580;
LAYER_MAP 116 -datatype 16 3580;
OR ODi DOD -outputlayer ALL_OD;
OR POi DPO -outputlayer ALL_POLY;
OR M1i DUM1 -outputlayer M1x;
OR M2i DUM2 -outputlayer M2x;
OR M3i DUM3 -outputlayer M3x;
OR M4i DUM4 -outputlayer M4x;
OR M5i DUM5 -outputlayer M5x;
OR M6i DUM6 -outputlayer M6x;
OR M7i DUM7 -outputlayer M7x;
OR M8i DUM8 -outputlayer M8x;
OR M9i DUM9 -outputlayer M9x;
BASE_LAYER OD_18i OD_25i OD_33i DCOi NT_Ni VTH_Ni VTH_Pi VTL_Ni VTL_Pi;
BASE_LAYER DNWi NWi ODi POi PPi NPi COi;
TOP_LAYER VIA1i M2i;
TOP_LAYER VIA2i M3i;
TOP_LAYER VIA3i M4i;
TOP_LAYER VIA4i M5i;
TOP_LAYER VIA5i M6i;
TOP_LAYER VIA6i M7i;
TOP_LAYER VIA7_OLD VIA7_NEW M8_OLD M8_NEW;
TOP_LAYER VIA8_OLD VIA8_NEW M9_OLD M9_NEW;
TOP_LAYER CBi CBDi UBMi WBDMY FWALi FWCUi PMi APi PMDMY LMARK SEALRINGi CSRDMY;
TOP_LAYER NWDMY SDI;
TOP_LAYER SDI ESD1DMY ESD2DMY ESD3 SRM SRAMDMY LOGO;
TOP_LAYER DOD DPO ODBLK POBLK;
TOP_LAYER CBMi CTMi CTMDMY INDDMY VARi;
TOP_LAYER DUM1 DM1EXCL;
TOP_LAYER DUM2 DM2EXCL;
TOP_LAYER DUM3 DM3EXCL;
TOP_LAYER DUM4 DM4EXCL;
TOP_LAYER DUM5 DM5EXCL;
TOP_LAYER DUM6 DM6EXCL;
TOP_LAYER DUM7 DM7EXCL;
TOP_LAYER DUM8_OLD DUM8_NEW DM8EXCL;
TOP_LAYER DUM9_OLD DUM9_NEW DM9EXCL;
COPY SRAMDMY -outputlayer SRAM_EXCLUDE;
EXTENT -layer DNWi -outputlayer DNWi_EXTENT;
EXTENT -layer NWi -outputlayer NWi_EXTENT;
EXTENT -layer OD_18i -outputlayer OD_18i_EXTENT;
EXTENT -layer OD_25i -outputlayer OD_25i_EXTENT;
EXTENT -layer OD_33i -outputlayer OD_33i_EXTENT;
EXTENT -layer OD_DECAP -outputlayer OD_DECAP_EXTENT;
EXTENT -layer PPi -outputlayer PPi_EXTENT;
EXTENT -layer NPi -outputlayer NPi_EXTENT;
EXTENT -layer CBi -outputlayer CBi_EXTENT;
EXTENT -layer CB2i -outputlayer CB2i_EXTENT;
EXTENT -layer RPOi -outputlayer RPOi_EXTENT;
EXTENT -layer NT_Ni -outputlayer NT_Ni_EXTENT;
EXTENT -layer FWALi -outputlayer FWALi_EXTENT;
EXTENT -layer FWCUi -outputlayer FWCUi_EXTENT;
EXTENT -layer POFUSE -outputlayer POFUSE_EXTENT;
EXTENT -layer FUSELINK -outputlayer FUSELINK_EXTENT;
EXTENT -layer PMi -outputlayer PMi_EXTENT;
EXTENT -layer PM1i -outputlayer PM1i_EXTENT;
EXTENT -layer PM2i -outputlayer PM2i_EXTENT;
EXTENT -layer VTH_Ni -outputlayer VTH_Ni_EXTENT;
EXTENT -layer VTH_Pi -outputlayer VTH_Pi_EXTENT;
EXTENT -layer VTL_Ni -outputlayer VTL_Ni_EXTENT;
EXTENT -layer VTL_Pi -outputlayer VTL_Pi_EXTENT;
EXTENT -layer UHVT_Ni -outputlayer UHVT_Ni_EXTENT;
EXTENT -layer UHVT_Pi -outputlayer UHVT_Pi_EXTENT;
EXTENT -layer CBDi -outputlayer CBDi_EXTENT;
EXTENT -layer UBMi -outputlayer UBMi_EXTENT;
EXTENT -layer RH -outputlayer RH_EXTENT;
EXTENT -layer ESD3 -outputlayer ESD3_EXTENT;
EXTENT -layer VARi -outputlayer VARi_EXTENT;
EXTENT -layer APi -outputlayer APi_EXTENT;
EXTENT -layer Cu_PPIi -outputlayer Cu_PPIi_EXTENT;
EXTENT -layer CBMi -outputlayer CBMi_EXTENT;
EXTENT -layer CTMi -outputlayer CTMi_EXTENT;
EXTENT -layer RVi -outputlayer RVi_EXTENT;
EXTENT -layer DCOi -outputlayer DCOi_EXTENT;
EXTENT -layer HVD_P -outputlayer HVD_P_EXTENT;
EXTENT -layer HVD_N_nw -outputlayer HVD_N_nw_EXTENT;
EXTENT -layer SRM_ULL -outputlayer SRM_ULL_EXTENT;
EXTENT -layer BJTDMY -outputlayer BJTDMY_EXTENT;
EXTENT -layer RODMY -outputlayer RODMY_EXTENT;
EXTENT -layer LMARK -outputlayer LMARK_EXTENT;
EXTENT -layer SRM -outputlayer SRM_EXTENT;
EXTENT -layer TCDDMY -outputlayer TCDDMY_EXTENT;
EXTENT -layer SRAMDMY -outputlayer SRAMDMY_EXTENT;
EXTENT -layer SRAMDMY_4 -outputlayer SRAMDMY_4_EXTENT;
EXTENT -layer SRAMDMY_5 -outputlayer SRAMDMY_5_EXTENT;
EXTENT -layer SRAMDMY_1 -outputlayer SRAMDMY_1_EXTENT;
EXTENT -layer OD1Ti -outputlayer OD1Ti_EXTENT;
EXTENT -layer CLDDi -outputlayer CLDDi_EXTENT;
EXTENT -layer CROWNi -outputlayer CROWNi_EXTENT;
EXTENT -layer P3i -outputlayer P3i_EXTENT;
EXTENT -layer SNCTi -outputlayer SNCTi_EXTENT;
EXTENT -layer LUPWDMY -outputlayer LUPWDMY_EXTENT;
EXTENT -layer LUPWDMY_2 -outputlayer LUPWDMY_2_EXTENT;
EXTENT -layer VDDDMY -outputlayer VDDDMY_EXTENT;
EXTENT -layer VSSDMY -outputlayer VSSDMY_EXTENT;
EXTENT -layer RES200 -outputlayer RES200_EXTENT;
EXTENT -layer MATCHING -outputlayer MATCHING_EXTENT;
EXTENT -layer M1i -outputlayer M1i_EXTENT;
EXTENT -layer M1_real -outputlayer M1_real_EXTENT;
EXTENT -layer DM1_O -outputlayer DM1_O_EXTENT;
EXTENT -layer DUM1 -outputlayer DUM1_EXTENT;
EXTENT -layer M2i -outputlayer M2i_EXTENT;
EXTENT -layer M2_real -outputlayer M2_real_EXTENT;
EXTENT -layer DM2_O -outputlayer DM2_O_EXTENT;
EXTENT -layer DUM2 -outputlayer DUM2_EXTENT;
EXTENT -layer M3i -outputlayer M3i_EXTENT;
EXTENT -layer M3_real -outputlayer M3_real_EXTENT;
EXTENT -layer DM3_O -outputlayer DM3_O_EXTENT;
EXTENT -layer DUM3 -outputlayer DUM3_EXTENT;
EXTENT -layer M4i -outputlayer M4i_EXTENT;
EXTENT -layer M4_real -outputlayer M4_real_EXTENT;
EXTENT -layer DM4_O -outputlayer DM4_O_EXTENT;
EXTENT -layer DUM4 -outputlayer DUM4_EXTENT;
EXTENT -layer M5i -outputlayer M5i_EXTENT;
EXTENT -layer M5_real -outputlayer M5_real_EXTENT;
EXTENT -layer DM5_O -outputlayer DM5_O_EXTENT;
EXTENT -layer DUM5 -outputlayer DUM5_EXTENT;
EXTENT -layer M6i -outputlayer M6i_EXTENT;
EXTENT -layer M6_real -outputlayer M6_real_EXTENT;
EXTENT -layer DM6_O -outputlayer DM6_O_EXTENT;
EXTENT -layer DUM6 -outputlayer DUM6_EXTENT;
EXTENT -layer M7i -outputlayer M7i_EXTENT;
EXTENT -layer M7_real -outputlayer M7_real_EXTENT;
EXTENT -layer DM7_O -outputlayer DM7_O_EXTENT;
EXTENT -layer DUM7 -outputlayer DUM7_EXTENT;
EXTENT -layer M8_OLD -outputlayer M8_OLD_EXTENT;
EXTENT -layer M8_NEW -outputlayer M8_NEW_EXTENT;
EXTENT -layer DUM8_OLD -outputlayer DUM8_OLD_EXTENT;
EXTENT -layer DUM8_NEW -outputlayer DUM8_NEW_EXTENT;
EXTENT -layer M9_OLD -outputlayer M9_OLD_EXTENT;
EXTENT -layer M9_NEW -outputlayer M9_NEW_EXTENT;
EXTENT -layer DUM9_OLD -outputlayer DUM9_OLD_EXTENT;
EXTENT -layer DUM9_NEW -outputlayer DUM9_NEW_EXTENT;
EXTENT -layer ODi -outputlayer ODi_EXTENT;
EXTENT -layer DOD -outputlayer DOD_EXTENT;
EXTENT -layer POi -outputlayer POi_EXTENT;
EXTENT -layer DPO -outputlayer DPO_EXTENT;
EXTENT -layer mVTLi -outputlayer mVTLi_EXTENT;
EXTENT -layer RMDMY1 -outputlayer RMDMY1_EXTENT;
EXTENT -layer RMDMY2 -outputlayer RMDMY2_EXTENT;
EXTENT -layer RMDMY3 -outputlayer RMDMY3_EXTENT;
EXTENT -layer RMDMY4 -outputlayer RMDMY4_EXTENT;
EXTENT -layer RMDMY5 -outputlayer RMDMY5_EXTENT;
EXTENT -layer RMDMY6 -outputlayer RMDMY6_EXTENT;
EXTENT -layer RMDMY7 -outputlayer RMDMY7_EXTENT;
EXTENT -layer RMDMY8 -outputlayer RMDMY8_EXTENT;
EXTENT -layer RMDMY9 -outputlayer RMDMY9_EXTENT;
EXTENT -layer RMDMYAP -outputlayer RMDMYAP_EXTENT;
OR DNWi_EXTENT NWi_EXTENT -outputlayer _EPTMPL262283;
OR _EPTMPL262283 OD_18i_EXTENT -outputlayer _EPTMPL262284;
OR _EPTMPL262284 OD_25i_EXTENT -outputlayer _EPTMPL262285;
OR _EPTMPL262285 OD_33i_EXTENT -outputlayer _EPTMPL262286;
OR _EPTMPL262286 OD_DECAP_EXTENT -outputlayer _EPTMPL262287;
OR _EPTMPL262287 PPi_EXTENT -outputlayer _EPTMPL262288;
OR _EPTMPL262288 NPi_EXTENT -outputlayer _EPTMPL262289;
OR _EPTMPL262289 CBi_EXTENT -outputlayer _EPTMPL262290;
OR _EPTMPL262290 CB2i_EXTENT -outputlayer _EPTMPL262291;
OR _EPTMPL262291 RPOi_EXTENT -outputlayer _EPTMPL262292;
OR _EPTMPL262292 NT_Ni_EXTENT -outputlayer _EPTMPL262293;
OR _EPTMPL262293 FWALi_EXTENT -outputlayer _EPTMPL262294;
OR _EPTMPL262294 FWCUi_EXTENT -outputlayer _EPTMPL262295;
OR _EPTMPL262295 POFUSE_EXTENT -outputlayer _EPTMPL262296;
OR _EPTMPL262296 FUSELINK_EXTENT -outputlayer _EPTMPL262297;
OR _EPTMPL262297 PMi_EXTENT -outputlayer _EPTMPL262298;
OR _EPTMPL262298 PM1i_EXTENT -outputlayer _EPTMPL262299;
OR _EPTMPL262299 PM2i_EXTENT -outputlayer _EPTMPL262300;
OR _EPTMPL262300 VTH_Ni_EXTENT -outputlayer _EPTMPL262301;
OR _EPTMPL262301 VTH_Pi_EXTENT -outputlayer _EPTMPL262302;
OR _EPTMPL262302 VTL_Ni_EXTENT -outputlayer _EPTMPL262303;
OR _EPTMPL262303 VTL_Pi_EXTENT -outputlayer _EPTMPL262304;
OR _EPTMPL262304 UHVT_Ni_EXTENT -outputlayer _EPTMPL262305;
OR _EPTMPL262305 UHVT_Pi_EXTENT -outputlayer _EPTMPL262306;
OR _EPTMPL262306 CBDi_EXTENT -outputlayer _EPTMPL262307;
OR _EPTMPL262307 UBMi_EXTENT -outputlayer _EPTMPL262308;
OR _EPTMPL262308 RH_EXTENT -outputlayer _EPTMPL262309;
OR _EPTMPL262309 ESD3_EXTENT -outputlayer _EPTMPL262310;
OR _EPTMPL262310 VARi_EXTENT -outputlayer _EPTMPL262311;
OR _EPTMPL262311 APi_EXTENT -outputlayer _EPTMPL262312;
OR _EPTMPL262312 Cu_PPIi_EXTENT -outputlayer _EPTMPL262313;
OR _EPTMPL262313 CBMi_EXTENT -outputlayer _EPTMPL262314;
OR _EPTMPL262314 CTMi_EXTENT -outputlayer _EPTMPL262315;
OR _EPTMPL262315 RVi_EXTENT -outputlayer _EPTMPL262316;
OR _EPTMPL262316 DCOi_EXTENT -outputlayer _EPTMPL262317;
OR _EPTMPL262317 HVD_P_EXTENT -outputlayer _EPTMPL262318;
OR _EPTMPL262318 HVD_N_nw_EXTENT -outputlayer _EPTMPL262319;
OR _EPTMPL262319 SRM_ULL_EXTENT -outputlayer _EPTMPL262320;
OR _EPTMPL262320 BJTDMY_EXTENT -outputlayer _EPTMPL262321;
OR _EPTMPL262321 RODMY_EXTENT -outputlayer _EPTMPL262322;
OR _EPTMPL262322 LMARK_EXTENT -outputlayer _EPTMPL262323;
OR _EPTMPL262323 SRM_EXTENT -outputlayer _EPTMPL262324;
OR _EPTMPL262324 TCDDMY_EXTENT -outputlayer _EPTMPL262325;
OR _EPTMPL262325 SRAMDMY_EXTENT -outputlayer _EPTMPL262326;
OR _EPTMPL262326 SRAMDMY_4_EXTENT -outputlayer _EPTMPL262327;
OR _EPTMPL262327 SRAMDMY_5_EXTENT -outputlayer _EPTMPL262328;
OR _EPTMPL262328 SRAMDMY_1_EXTENT -outputlayer _EPTMPL262329;
OR _EPTMPL262329 OD1Ti_EXTENT -outputlayer _EPTMPL262330;
OR _EPTMPL262330 CLDDi_EXTENT -outputlayer _EPTMPL262331;
OR _EPTMPL262331 CROWNi_EXTENT -outputlayer _EPTMPL262332;
OR _EPTMPL262332 P3i_EXTENT -outputlayer _EPTMPL262333;
OR _EPTMPL262333 SNCTi_EXTENT -outputlayer _EPTMPL262334;
OR _EPTMPL262334 LUPWDMY_EXTENT -outputlayer _EPTMPL262335;
OR _EPTMPL262335 LUPWDMY_2_EXTENT -outputlayer _EPTMPL262336;
OR _EPTMPL262336 VDDDMY_EXTENT -outputlayer _EPTMPL262337;
OR _EPTMPL262337 VSSDMY_EXTENT -outputlayer _EPTMPL262338;
OR _EPTMPL262338 RES200_EXTENT -outputlayer _EPTMPL262339;
OR _EPTMPL262339 MATCHING_EXTENT -outputlayer _EPTMPL262340;
OR _EPTMPL262340 M1i_EXTENT -outputlayer _EPTMPL262341;
OR _EPTMPL262341 M1_real_EXTENT -outputlayer _EPTMPL262342;
OR _EPTMPL262342 DM1_O_EXTENT -outputlayer _EPTMPL262343;
OR _EPTMPL262343 DUM1_EXTENT -outputlayer _EPTMPL262344;
OR _EPTMPL262344 M2i_EXTENT -outputlayer _EPTMPL262345;
OR _EPTMPL262345 M2_real_EXTENT -outputlayer _EPTMPL262346;
OR _EPTMPL262346 DM2_O_EXTENT -outputlayer _EPTMPL262347;
OR _EPTMPL262347 DUM2_EXTENT -outputlayer _EPTMPL262348;
OR _EPTMPL262348 M3i_EXTENT -outputlayer _EPTMPL262349;
OR _EPTMPL262349 M3_real_EXTENT -outputlayer _EPTMPL262350;
OR _EPTMPL262350 DM3_O_EXTENT -outputlayer _EPTMPL262351;
OR _EPTMPL262351 DUM3_EXTENT -outputlayer _EPTMPL262352;
OR _EPTMPL262352 M4i_EXTENT -outputlayer _EPTMPL262353;
OR _EPTMPL262353 M4_real_EXTENT -outputlayer _EPTMPL262354;
OR _EPTMPL262354 DM4_O_EXTENT -outputlayer _EPTMPL262355;
OR _EPTMPL262355 DUM4_EXTENT -outputlayer _EPTMPL262356;
OR _EPTMPL262356 M5i_EXTENT -outputlayer _EPTMPL262357;
OR _EPTMPL262357 M5_real_EXTENT -outputlayer _EPTMPL262358;
OR _EPTMPL262358 DM5_O_EXTENT -outputlayer _EPTMPL262359;
OR _EPTMPL262359 DUM5_EXTENT -outputlayer _EPTMPL262360;
OR _EPTMPL262360 M6i_EXTENT -outputlayer _EPTMPL262361;
OR _EPTMPL262361 M6_real_EXTENT -outputlayer _EPTMPL262362;
OR _EPTMPL262362 DM6_O_EXTENT -outputlayer _EPTMPL262363;
OR _EPTMPL262363 DUM6_EXTENT -outputlayer _EPTMPL262364;
OR _EPTMPL262364 M7i_EXTENT -outputlayer _EPTMPL262365;
OR _EPTMPL262365 M7_real_EXTENT -outputlayer _EPTMPL262366;
OR _EPTMPL262366 DM7_O_EXTENT -outputlayer _EPTMPL262367;
OR _EPTMPL262367 DUM7_EXTENT -outputlayer _EPTMPL262368;
OR _EPTMPL262368 M8_OLD_EXTENT -outputlayer _EPTMPL262369;
OR _EPTMPL262369 M8_NEW_EXTENT -outputlayer _EPTMPL262370;
OR _EPTMPL262370 DUM8_OLD_EXTENT -outputlayer _EPTMPL262371;
OR _EPTMPL262371 DUM8_NEW_EXTENT -outputlayer _EPTMPL262372;
OR _EPTMPL262372 M9_OLD_EXTENT -outputlayer _EPTMPL262373;
OR _EPTMPL262373 M9_NEW_EXTENT -outputlayer _EPTMPL262374;
OR _EPTMPL262374 DUM9_OLD_EXTENT -outputlayer _EPTMPL262375;
OR _EPTMPL262375 DUM9_NEW_EXTENT -outputlayer _EPTMPL262376;
OR _EPTMPL262376 ODi_EXTENT -outputlayer _EPTMPL262377;
OR _EPTMPL262377 DOD_EXTENT -outputlayer _EPTMPL262378;
OR _EPTMPL262378 POi_EXTENT -outputlayer _EPTMPL262379;
OR _EPTMPL262379 DPO_EXTENT -outputlayer _EPTMPL262380;
OR _EPTMPL262380 mVTLi_EXTENT -outputlayer _EPTMPL262381;
OR _EPTMPL262381 RMDMY1_EXTENT -outputlayer _EPTMPL262382;
OR _EPTMPL262382 RMDMY2_EXTENT -outputlayer _EPTMPL262383;
OR _EPTMPL262383 RMDMY3_EXTENT -outputlayer _EPTMPL262384;
OR _EPTMPL262384 RMDMY4_EXTENT -outputlayer _EPTMPL262385;
OR _EPTMPL262385 RMDMY5_EXTENT -outputlayer _EPTMPL262386;
OR _EPTMPL262386 RMDMY6_EXTENT -outputlayer _EPTMPL262387;
OR _EPTMPL262387 RMDMY7_EXTENT -outputlayer _EPTMPL262388;
OR _EPTMPL262388 RMDMY8_EXTENT -outputlayer _EPTMPL262389;
OR _EPTMPL262389 RMDMY9_EXTENT -outputlayer _EPTMPL262390;
OR _EPTMPL262390 RMDMYAP_EXTENT -outputlayer MT_LAYERS;
EXTENT -layer MT_LAYERS -outputlayer CHIP;
LAYER_DEF EMPTYi 999;
MERGE CHIP -outputlayer CHIPx;
SIZE CHIP -by 1 -outputlayer BULK;
NOT BULK NWi -outputlayer PWELi;
NOT PWELi SRAM_EXCLUDE -outputlayer PWEL;
SELECT -inside -not NWi SRAM_EXCLUDE -outputlayer NWEL;
SELECT -inside -not DNWi SRAM_EXCLUDE -outputlayer DNW;
NOT ODi SRAM_EXCLUDE -outputlayer OD;
SELECT -inside -not ODi SRAM_EXCLUDE -outputlayer ODs;
NOT OD_18i SRAM_EXCLUDE -outputlayer OD_18;
NOT OD_25i SRAM_EXCLUDE -outputlayer OD_25;
NOT OD_33i SRAM_EXCLUDE -outputlayer OD_33;
NOT POi SRAM_EXCLUDE -outputlayer POLY;
SELECT -inside -not POi SRAM_EXCLUDE -outputlayer POLYs;
SELECT -inside -not PPi SRAM_EXCLUDE -outputlayer PP;
SELECT -inside -not NPi SRAM_EXCLUDE -outputlayer NP;
NOT VTH_Ni SRAM_EXCLUDE -outputlayer VTHN;
SELECT -inside -not VTH_Ni SRAM_EXCLUDE -outputlayer VTHNs;
NOT VTH_Pi SRAM_EXCLUDE -outputlayer VTHP;
SELECT -inside -not VTH_Pi SRAM_EXCLUDE -outputlayer VTHPs;
NOT VTL_Ni SRAM_EXCLUDE -outputlayer VTLN;
SELECT -inside -not VTL_Ni SRAM_EXCLUDE -outputlayer VTLNs;
NOT VTL_Pi SRAM_EXCLUDE -outputlayer VTLP;
SELECT -inside -not VTL_Pi SRAM_EXCLUDE -outputlayer VTLPs;
NOT RPOi SRAM_EXCLUDE -outputlayer RPO;
SELECT -inside -not RPOi SRAM_EXCLUDE -outputlayer RPOs;
NOT NT_Ni SRAM_EXCLUDE -outputlayer NTN;
SELECT -inside -not NT_Ni SRAM_EXCLUDE -outputlayer NTNs;
NOT NCap_NTNi SRAM_EXCLUDE -outputlayer NCap_NTN;
NOT COi SRAM_EXCLUDE -outputlayer CO;
SELECT -inside -not COi SRAM_EXCLUDE -outputlayer COs;
NOT M1i SRAM_EXCLUDE -outputlayer M1;
SELECT -inside -not M1i SRAM_EXCLUDE -outputlayer M1s;
NOT VIA1i SRAM_EXCLUDE -outputlayer VIA1;
SELECT -inside -not VIA1i SRAM_EXCLUDE -outputlayer VIA1s;
NOT DCOi SRAM_EXCLUDE -outputlayer DCO;
SELECT -inside -not DCOi SRAM_EXCLUDE -outputlayer DCOs;
COPY M2i -outputlayer M2;
COPY VIA2i -outputlayer VIA2;
COPY M3i -outputlayer M3;
COPY VIA3i -outputlayer VIA3;
COPY M4i -outputlayer M4;
COPY VIA4i -outputlayer VIA4;
COPY M5i -outputlayer M5;
COPY VIA5i -outputlayer VIA5;
COPY M6i -outputlayer M6;
COPY VIA6i -outputlayer VIA6;
COPY M7i -outputlayer M7;
COPY VIA7i -outputlayer VIA7;
COPY M8i -outputlayer M8;
COPY VIA8i -outputlayer VIA8;
COPY M9i -outputlayer M9;
COPY APi -outputlayer AP;
COPY CBi -outputlayer CB;
COPY CB2i -outputlayer CB2;
COPY CBDi -outputlayer CBD;
COPY UBMi -outputlayer UBM;
COPY RVi -outputlayer RV;
COPY FWi -outputlayer FW;
COPY FWALi -outputlayer FW_AP;
COPY FWCUi -outputlayer FW_Cu;
COPY PMi -outputlayer PM;
COPY CBMi -outputlayer CBM;
COPY CTMi -outputlayer CTM;
COPY VARi -outputlayer VAR;
COPY mVTLi -outputlayer mVTL;
OR CBi CBDi -outputlayer _EPTMPL262458;
OR _EPTMPL262458 RVi -outputlayer ALL_PAD;
SELECT -interact UBMi CBDi -outputlayer _EPTMPL262460;
SELECT -interact -not _EPTMPL262460 Cu_PPIi -outputlayer UBM_MT_WIDTH;
SELECT -interact UBMi CBDi -outputlayer UBM_MT;
SIZE UBM_MT -by 5 -inside_of M9i -step "M9_S_1*0.7" -outputlayer UBM_EXC;
SIZE CBi -by 5 -inside_of M9i -step "M9_S_1*0.7" -outputlayer CBMT;
SIZE CBi -by 5 -inside_of M8i -step "M8_S_1*0.7" -outputlayer CBMT2;
OR CBMT UBM_EXC -outputlayer MTOP_EXC;
SIZE UBM_MT_WIDTH -by 5 -inside_of M9i -step "M9_S_1*0.7" -outputlayer UBM_EXC_WIDTH;
SELECT -interact -not CBi CU_PPIi -outputlayer CBMT_PRE;
SIZE CBMT_PRE -by 5 -inside_of M9i -step "M9_S_1*0.7" -outputlayer CBMT_WIDTH;
NOT CBi WBDMY -outputlayer _EPTMPL262470;
SELECT -interact -not _EPTMPL262470 CU_PPIi -outputlayer CBMT2_PRE;
SIZE CBMT2_PRE -by 5 -inside_of M8i -step "M8_S_1*0.7" -outputlayer CBMT2_WIDTH;
OR CBDi CBi -outputlayer _EPTMPL262473;
AND _EPTMPL262473 CB2i -outputlayer _EPTMPL262474;
SELECT -interact _EPTMPL262474 CU_PPIi -outputlayer _EPTMPL262475;
AND M9i _EPTMPL262475 -outputlayer WLCSP_EXC_WIDTH;
OR CBMT_WIDTH UBM_EXC_WIDTH -outputlayer _EPTMPL262477;
OR _EPTMPL262477 WLCSP_EXC_WIDTH -outputlayer MTOP_EXC_WIDTH;
SELECT -interact -not CB WBDMY -outputlayer CB_NON_CUP;
AND M9i LMARK -outputlayer LMARK_METAL;
HOLES LMARK_METAL -empty -outputlayer LSLOT;
SELECT -interact -not LMARK_METAL LSLOT -outputlayer LSOLID;
SELECT -interact LMARK LSLOT -outputlayer LMARK_SLOT;
SELECT -interact LMARK LSOLID -outputlayer LMARK_SOLID;
SIZE INDDMY -by 18 -outputlayer IND_EXD;
NOT M8 CBMT2_WIDTH -outputlayer _EPTMPL262486;
NOT _EPTMPL262486 WBDMY -outputlayer _EPTMPL262487;
NOT _EPTMPL262487 IND_EXD -outputlayer M8_MAX_WIDTH_M;
NOT M8 WBDMY -outputlayer _EPTMPL262489;
NOT _EPTMPL262489 IND_EXD -outputlayer M8_MAX_WIDTH;
NOT M9 MTOP_EXC_WIDTH -outputlayer _EPTMPL262491;
NOT _EPTMPL262491 LMARK -outputlayer _EPTMPL262492;
NOT _EPTMPL262492 IND_EXD -outputlayer M9_MAX_WIDTH_M;
OR OD_18 OD_25 -outputlayer _EPTMPL262494;
OR _EPTMPL262494 OD_33 -outputlayer OD2;
OR OD_18i OD_25i -outputlayer _EPTMPL262496;
OR _EPTMPL262496 OD_33i -outputlayer OD2i;
OR NPi PPi -outputlayer IMP;
AND OD NP -outputlayer NPOD;
AND OD PP -outputlayer PPOD;
AND CO OD -outputlayer COOD;
NOT CO OD -outputlayer COPO;
SELECT -interact NWEL NWDMY -outputlayer RNWEL;
SELECT -interact RNWEL RPO -outputlayer NWRES;
NOT NWEL RNWEL -outputlayer NONWR;
SELECT -interact OD NWRES -outputlayer ODWR;
SELECT -interact NP NWRES -outputlayer NPWR;
SELECT -interact COOD NWRES -outputlayer COWR;
NOT ODWR RPO -outputlayer RHWR;
SELECT -interact -not RNWEL RPO -outputlayer NWRES_STI;
SELECT -interact OD NWRES_STI -outputlayer ODWR_STI;
SELECT -interact NP NWRES_STI -outputlayer NPWR_STI;
SELECT -interact COOD NWRES_STI -outputlayer COWR_STI;
AND NPOD NONWR -outputlayer NSTP;
NOT NPOD NWEL -outputlayer NACT;
AND PPOD NWEL -outputlayer PACT;
NOT PPOD NWEL -outputlayer PSTP;
SELECT -interact NACT OD2 -outputlayer NACT2;
SELECT -interact PACT OD2 -outputlayer PACT2;
OR NACT PACT -outputlayer DACT;
OR NSTP PSTP -outputlayer DSTP;
AND POLY OD -outputlayer GATE;
SELECT -enclose DACT GATE -outputlayer _EPTMPL262523;
NOT _EPTMPL262523 GATE -outputlayer SD;
NOT POLY OD -outputlayer FPO1;
AND GATE OD2 -outputlayer HV_GATE;
NOT GATE OD2 -outputlayer LV_GATE;
SELECT -interact -not POLY CO -outputlayer _EPTMPL262528;
SELECT -interact GATE _EPTMPL262528 -outputlayer DUMMY_GATE;
SELECT -inside DUMMY_GATE RFDMY -outputlayer RF_DUMMY_GATE;
AND GATE NP -outputlayer GATE_NP;
AND GATE PP -outputlayer GATE_PP;
EDGE_BOOLEAN -coincident_only -inside POLY GATE -outputlayer GATE_W;
EDGE_BOOLEAN -coincident_only -inside -not GATE POLY -outputlayer GATE_L;
EDGE_BOOLEAN -inside GATE_W NP -outputlayer GATEN_W;
EDGE_BOOLEAN -inside GATE_W PP -outputlayer GATEP_W;
EDGE_BOOLEAN -inside GATE_W OD2 -outputlayer HV_GATE_W;
EDGE_BOOLEAN -inside -not GATE_W OD2 -outputlayer LV_GATE_W;
EDGE_BOOLEAN -inside HV_GATE_W OD_18 -outputlayer 18V_GATE_W;
EDGE_BOOLEAN -inside HV_GATE_W OD_25 -outputlayer 25V_GATE_W;
EDGE_BOOLEAN -inside HV_GATE_W OD_33 -outputlayer 33V_GATE_W;
SELECT -interact -not RPDMY RPOi -outputlayer RPDMYi;
OR RPOi RPDMYi -outputlayer RPO_RPDMY;
NOT POLY RPO_RPDMY -outputlayer ILP1;
NOT RPO SDI -outputlayer _EPTMPL262545;
NOT _EPTMPL262545 BJTDMY -outputlayer _EPTMPL262546;
SELECT -outside _EPTMPL262546 INDDMY -outputlayer ODPO_RES_MARK;
AND FPO1 ODPO_RES_MARK -outputlayer PORES;
SELECT -interact -not PORES SDI -outputlayer PORESg;
NOT OD RPO_RPDMY -outputlayer INOD;
SELECT -outside OD NWDMY -outputlayer _EPTMPL262551;
NOT _EPTMPL262551 GATE -outputlayer FOD;
AND FOD ODPO_RES_MARK -outputlayer ODRES;
OR RH RPDMY -outputlayer _EPTMPL262554;
AND ODRES _EPTMPL262554 -outputlayer ODRES_a;
OR RH RPDMY -outputlayer _EPTMPL262556;
AND PORESg _EPTMPL262556 -outputlayer PORES_a;
NOT RPDMY SDI -outputlayer _EPTMPL262558;
NOT _EPTMPL262558 BJTDMY -outputlayer _EPTMPL262559;
SELECT -outside _EPTMPL262559 INDDMY -outputlayer ODPO_RES_MARK_noRPO;
AND FOD ODPO_RES_MARK_noRPO -outputlayer _EPTMPL262561;
SELECT -interact -not _EPTMPL262561 RPO -outputlayer ODRES_noRPO;
OR ODRES_a ODRES_noRPO -outputlayer ODRES_ALL;
OR ODRES PORES -outputlayer AYRE;
AND NP AYRE -outputlayer NYRE;
AND PP AYRE -outputlayer PYRE;
EDGE_BOOLEAN -coincident_only -outside NPOD PPOD -outputlayer NP_PP_BTE;
SELECT -touch PSTP NACT -outputlayer BUTT_PSTP;
SELECT -touch NSTP PACT -outputlayer BUTT_NSTP;
AND PACT BJTDMY -outputlayer PP_EMOD;
AND NACT BJTDMY -outputlayer NP_EMOD;
OR PP_EMOD NP_EMOD -outputlayer EMOD;
NOT PMDMY FW -outputlayer RNGX;
NOT SEALRINGi RNGX -outputlayer SEALRING;
COPY SEALRINGi -outputlayer VIA_EXD;
NOT VIA1 VIA_EXD -outputlayer VIA1_EXD;
NOT VIA2 VIA_EXD -outputlayer VIA2_EXD;
NOT VIA3 VIA_EXD -outputlayer VIA3_EXD;
NOT VIA4 VIA_EXD -outputlayer VIA4_EXD;
NOT VIA5 VIA_EXD -outputlayer VIA5_EXD;
NOT VIA6 VIA_EXD -outputlayer VIA6_EXD;
NOT VIA7 VIA_EXD -outputlayer VIA7_EXD;
NOT VIA8 VIA_EXD -outputlayer VIA8_EXD;
SIZE CHIPx -by -20 -outputlayer CHIP_CORE;
HOLES ALL_PAD -outputlayer PADH_pre;
SIZE PADH_pre -by "(CB_W_7/2 + WLCSP_TOL)" -overunder -outputlayer PADH;
SELECT -inside CHIP_CORE PADH -outputlayer SCORE;
SELECT -interact CHIPx SCORE -outputlayer CHIP_WISR;
SELECT -interact ODi SEALRING -outputlayer SROD;
HOLES SROD -inner -outputlayer SRODH;
SELECT -interact -not SRODH CSRDMY -outputlayer _EPTMPL262591;
SIZE _EPTMPL262591 -by -10 -outputlayer SCORE_WLCSP;
NOT CHIP_WISR SCORE_WLCSP -outputlayer SR_EDGE;
SELECT -interact -not CHIP SR_EDGE -outputlayer CHIP_NOSR;
OR CHIP_NOSR SCORE -outputlayer CHIP_EDGE;
EXTE SR_EDGE -lt 73.87 -abut -eq 90 -output region -intersecting ONLY -outputlayer SR_EXC;
OR SR_EDGE SR_EXC -outputlayer SRCSR;
NOT CHIP_WISR SRCSR -outputlayer _EPTMPL262598;
SIZE _EPTMPL262598 -by 10 -outputlayer _EPTMPL262599;
NOT CHIP_WISR _EPTMPL262599 -outputlayer SR_RING;
INTE CHIP_NOSR -lt 74 -abut -eq 90 -output region -intersecting ONLY -outputlayer EMPTY_AREA;
NOT CHIP EMPTY_AREA -outputlayer CHIP_CHAMFERED;
OR FWi LMARK -outputlayer _EPTMPL262603;
OR _EPTMPL262603 LOGO -outputlayer _EPTMPL262604;
OR _EPTMPL262604 INDDMY -outputlayer _EPTMPL262605;
OR _EPTMPL262605 EMPTY_AREA -outputlayer DEN_EXC_LOW;
OR FWi LMARK -outputlayer _EPTMPL262607;
OR _EPTMPL262607 LOGO -outputlayer _EPTMPL262608;
OR _EPTMPL262608 INDDMY -outputlayer _EPTMPL262609;
OR _EPTMPL262609 CSRDMY -outputlayer _EPTMPL262610;
OR _EPTMPL262610 EMPTY_AREA -outputlayer DEN_EXC;
COPY DEN_EXC_LOW -outputlayer METAL_EXC_LOW;
COPY DEN_EXC -outputlayer METAL_EXC;
COPY METAL_EXC_LOW -outputlayer M1_EXC_LOW;
COPY METAL_EXC -outputlayer M1_EXC;
COPY METAL_EXC_LOW -outputlayer M2_EXC_LOW;
COPY METAL_EXC -outputlayer M2_EXC;
COPY METAL_EXC_LOW -outputlayer M3_EXC_LOW;
COPY METAL_EXC -outputlayer M3_EXC;
COPY METAL_EXC_LOW -outputlayer M4_EXC_LOW;
COPY METAL_EXC -outputlayer M4_EXC;
COPY METAL_EXC_LOW -outputlayer M5_EXC_LOW;
COPY METAL_EXC -outputlayer M5_EXC;
COPY METAL_EXC_LOW -outputlayer M6_EXC_LOW;
COPY METAL_EXC -outputlayer M6_EXC;
SIZE CBM -by 1.5 -outputlayer _EPTMPL262626;
OR METAL_EXC_LOW _EPTMPL262626 -outputlayer M7_EXC_LOW;
COPY METAL_EXC -outputlayer M7_EXC;
COPY METAL_EXC_LOW -outputlayer M8_EXC_LOW;
COPY METAL_EXC -outputlayer M8_EXC;
COPY METAL_EXC_LOW -outputlayer M9_EXC_LOW;
COPY METAL_EXC -outputlayer M9_EXC;
SELECT -interact M1 SEALRING -outputlayer SR_M1;
SELECT -interact M2 SEALRING -outputlayer SR_M2;
SELECT -interact M3 SEALRING -outputlayer SR_M3;
SELECT -interact M4 SEALRING -outputlayer SR_M4;
SELECT -interact M5 SEALRING -outputlayer SR_M5;
SELECT -interact M6 SEALRING -outputlayer SR_M6;
SELECT -interact M7 SEALRING -outputlayer SR_M7;
SELECT -interact M8 SEALRING -outputlayer SR_M8;
SELECT -interact M9 SEALRING -outputlayer SR_M9;
SELECT -interact CO SEALRINGi -outputlayer CO_BAR;
SELECT -interact VIA1 SEALRINGi -outputlayer VIA1_BAR;
SELECT -interact VIA2 SEALRINGi -outputlayer VIA2_BAR;
SELECT -interact VIA3 SEALRINGi -outputlayer VIA3_BAR;
SELECT -interact VIA4 SEALRINGi -outputlayer VIA4_BAR;
SELECT -interact VIA5 SEALRINGi -outputlayer VIA5_BAR;
SELECT -interact VIA6 SEALRINGi -outputlayer VIA6_BAR;
SELECT -interact VIA7 SEALRINGi -outputlayer VIA7_BAR;
SELECT -interact VIA8 SEALRINGi -outputlayer VIA8_BAR;
SELECT -interact CO_BAR SEALRING -outputlayer SR_CO;
SELECT -interact VIA1_BAR SEALRING -outputlayer SR_VIA1;
SELECT -interact VIA2_BAR SEALRING -outputlayer SR_VIA2;
SELECT -interact VIA3_BAR SEALRING -outputlayer SR_VIA3;
SELECT -interact VIA4_BAR SEALRING -outputlayer SR_VIA4;
SELECT -interact VIA5_BAR SEALRING -outputlayer SR_VIA5;
SELECT -interact VIA6_BAR SEALRING -outputlayer SR_VIA6;
SELECT -interact VIA7_BAR SEALRING -outputlayer SR_VIA7;
SELECT -interact VIA8_BAR SEALRING -outputlayer SR_VIA8;
OR PMDMY LOGO -outputlayer _EPTMPL262660;
OR _EPTMPL262660 SRCSR -outputlayer _EPTMPL262661;
OR _EPTMPL262661 LMARK -outputlayer Block;
variable BIG_AREA 4000000;
NOT POi RPO_RPDMY -outputlayer ILP1i;
SELECT -cut -not NWi NWDMY -outputlayer NONWRi;
SELECT -cut NWi NWDMY -outputlayer _EPTMPL262665;
NOT _EPTMPL262665 NWDMY -outputlayer NWRiT;
SELECT -inside PWELi DNWi -outputlayer RWi;
AND NPi ODi -outputlayer NPODi;
AND PPi ODi -outputlayer PPODi;
NOT NPODi NWi -outputlayer NACTi;
AND PPODi NWi -outputlayer PACTi;
NOT NACTi POi -outputlayer NSDi;
NOT PACTi POi -outputlayer PSDi;
NOT NSDi RPO_RPDMY -outputlayer NSDc;
NOT PSDi RPO_RPDMY -outputlayer PSDc;
AND NPODi NONWRi -outputlayer NSTPi;
NOT PPODi NWi -outputlayer PSTPi;
SELECT -interact -not UBMi Cu_PPIi -outputlayer UBMn;
SELECT -interact UBMi Cu_PPIi -outputlayer UBMd;
CONNECT NWEL DNW;
CONNECT NSTPi NWi;
CONNECT NSTPi PSDc;
CONNECT PSTPi RWi;
CONNECT PSTPi PWELi;
CONNECT PSTPi NSDc;
CONNECT COi PSDc;
CONNECT COi NSDc;
CONNECT COi ILP1i;
CONNECT M1i ILP1i NSTPi PSTPi PSDc NSDc NWRiT -by COi;
CONNECT M2i M1i -by VIA1i;
CONNECT M3i M2i -by VIA2i;
CONNECT M4i M3i -by VIA3i;
CONNECT M5i M4i -by VIA4i;
CONNECT M6i M5i -by VIA5i;
CONNECT M7i M6i -by VIA6i;
CONNECT M8i CTMi CBMi M7i -by VIA7i;
CONNECT M9i M8i -by VIA8i;
CONNECT CBi M9i;
CONNECT M9i APi -by RVi;
CONNECT M9i APi -by CBi;
CONNECT M9i APi -by CBDi;
CONNECT CB2i APi;
CONNECT CB2i PM1i;
CONNECT PM1i Cu_PPIi;
CONNECT UBMn APi;
CONNECT UBMn M9i -by CBDi;
CONNECT UBMd Cu_PPIi -by PM2i;
SIZE CHIP -by 2 -outputlayer _EPTMPL262708;
NOT CHIP _EPTMPL262708 -outputlayer EMPTYu;
OR EMPTYu NWRiT -outputlayer NWRuT;
AND NPODi NWi -outputlayer NSTPu;
OR EMPTYu NWi -outputlayer NWu;
OR EMPTYu RWi -outputlayer RWu;
OR EMPTYu PWELi -outputlayer PWELu;
OR EMPTYu POi -outputlayer POu;
OR EMPTYu NSDi -outputlayer NSDu;
OR EMPTYu PSDi -outputlayer PSDu;
OR EMPTYu PSTPi -outputlayer PSTPu;
OR EMPTYu COi -outputlayer COu;
OR EMPTYu M1i -outputlayer M1u;
OR EMPTYu VIA1i -outputlayer VIA1u;
OR EMPTYu M2i -outputlayer M2u;
OR EMPTYu VIA2i -outputlayer VIA2u;
OR EMPTYu M3i -outputlayer M3u;
OR EMPTYu VIA3i -outputlayer VIA3u;
OR EMPTYu M4i -outputlayer M4u;
OR EMPTYu VIA4i -outputlayer VIA4u;
OR EMPTYu M5i -outputlayer M5u;
OR EMPTYu VIA5i -outputlayer VIA5u;
OR EMPTYu M6i -outputlayer M6u;
OR EMPTYu VIA6i -outputlayer VIA6u;
OR EMPTYu M7i -outputlayer M7u;
OR EMPTYu VIA7i -outputlayer VIA7u;
OR EMPTYu M8i -outputlayer M8u;
OR EMPTYu VIA8i -outputlayer VIA8u;
OR EMPTYu M9i -outputlayer M9u;
OR EMPTYu CBMi -outputlayer CBMu;
OR EMPTYu CTMi -outputlayer CTMu;
OR EMPTYu RVi -outputlayer RVu;
OR EMPTYu CBi -outputlayer CBu;
OR EMPTYu CBDi -outputlayer CBDu;
OR EMPTYu CB2i -outputlayer CB2u;
OR EMPTYu APi -outputlayer APu;
OR EMPTYu Cu_PPIi -outputlayer Cu_PPIu;
OR EMPTYu PM1i -outputlayer PM1u;
OR EMPTYu PM2i -outputlayer PM2u;
OR EMPTYu UBMn -outputlayer UBMnu;
OR EMPTYu UBMd -outputlayer UBMdu;
CONNECT NSTPu NWu;
CONNECT NSTPu PSDu;
CONNECT PSTPu RWu;
CONNECT PSTPu PWELu;
CONNECT PSTPu NSDu;
CONNECT COu PSDu;
CONNECT COu NSDu;
CONNECT COu POu;
CONNECT M1u POu NSTPu PSTPu PSDu NSDu -by COu;
CONNECT M1u NWRuT -by COu;
CONNECT M2u M1u -by VIA1u;
CONNECT M3u M2u -by VIA2u;
CONNECT M4u M3u -by VIA3u;
CONNECT M5u M4u -by VIA4u;
CONNECT M6u M5u -by VIA5u;
CONNECT M7u M6u -by VIA6u;
CONNECT M8u CTMu CBMu M7u -by VIA7u;
CONNECT M9u M8u -by VIA8u;
CONNECT CBu M9u;
CONNECT M9u APu -by RVu;
CONNECT M9u APu -by CBu;
CONNECT M9u APu -by CBDu;
CONNECT CB2u APu;
CONNECT CB2u PM1u;
CONNECT PM1u Cu_PPIu;
CONNECT UBMnu APu;
CONNECT UBMnu M9u -by CBDu;
CONNECT UBMdu Cu_PPIu -by PM2u;
SIZE CHIP -by 4 -outputlayer _EPTMPL262777;
NOT CHIP _EPTMPL262777 -outputlayer EMPTYj;
AND ODi RPDMY -outputlayer _EPTMPL262779;
AND _EPTMPL262779 RES200 -outputlayer OD_RES_200ohm;
AND POi RPDMY -outputlayer _EPTMPL262781;
AND _EPTMPL262781 RES200 -outputlayer PO_RES_200ohm;
AND NWi NWDMY -outputlayer _EPTMPL262783;
AND _EPTMPL262783 RES200 -outputlayer NW_RES_200ohm;
OR EMPTYj NWRiT -outputlayer NWRjT;
AND NPODi NWi -outputlayer _EPTMPL262786;
OR EMPTYj _EPTMPL262786 -outputlayer NSTPj;
NOT NWi NW_RES_200ohm -outputlayer NWj;
NOT POi PO_RES_200ohm -outputlayer POj;
NOT NSDi OD_RES_200ohm -outputlayer NSDj;
NOT PSDi OD_RES_200ohm -outputlayer PSDj;
OR EMPTYj RWi -outputlayer RWj;
OR EMPTYj PWELi -outputlayer PWELj;
OR EMPTYj PSTPi -outputlayer PSTPj;
OR EMPTYj COi -outputlayer COj;
OR EMPTYj M1i -outputlayer M1j;
OR EMPTYj VIA1i -outputlayer VIA1j;
OR EMPTYj M2i -outputlayer M2j;
OR EMPTYj VIA2i -outputlayer VIA2j;
OR EMPTYj M3i -outputlayer M3j;
OR EMPTYj VIA3i -outputlayer VIA3j;
OR EMPTYj M4i -outputlayer M4j;
OR EMPTYj VIA4i -outputlayer VIA4j;
OR EMPTYj M5i -outputlayer M5j;
OR EMPTYj VIA5i -outputlayer VIA5j;
OR EMPTYj M6i -outputlayer M6j;
OR EMPTYj VIA6i -outputlayer VIA6j;
OR EMPTYj M7i -outputlayer M7j;
OR EMPTYj VIA7i -outputlayer VIA7j;
OR EMPTYj M8i -outputlayer M8j;
OR EMPTYj VIA8i -outputlayer VIA8j;
OR EMPTYj M9i -outputlayer M9j;
OR EMPTYj CBMi -outputlayer CBMj;
OR EMPTYj CTMi -outputlayer CTMj;
OR EMPTYj RVi -outputlayer RVj;
OR EMPTYj CBi -outputlayer CBj;
OR EMPTYj CBDi -outputlayer CBDj;
OR EMPTYj CB2i -outputlayer CB2j;
OR EMPTYj APi -outputlayer APj;
OR EMPTYj Cu_PPIi -outputlayer Cu_PPIj;
OR EMPTYj PM1i -outputlayer PM1j;
OR EMPTYj PM2i -outputlayer PM2j;
OR EMPTYj UBMn -outputlayer UBMnj;
OR EMPTYj UBMd -outputlayer UBMdj;
CONNECT NSTPj NWj;
CONNECT NSTPj PSDj;
CONNECT PSTPj RWj;
CONNECT PSTPj PWELj;
CONNECT PSTPj NSDj;
CONNECT COj PSDj;
CONNECT COj NSDj;
CONNECT COj POj;
CONNECT M1j POj NSTPj PSTPj PSDj NSDj -by COj;
CONNECT M1j NWRjT -by COj;
CONNECT M2j M1j -by VIA1j;
CONNECT M3j M2j -by VIA2j;
CONNECT M4j M3j -by VIA3j;
CONNECT M5j M4j -by VIA4j;
CONNECT M6j M5j -by VIA5j;
CONNECT M7j M6j -by VIA6j;
CONNECT M8j M7j -by VIA7j;
CONNECT M9j M8j -by VIA8j;
CONNECT CBj M9j;
CONNECT M9j APj -by RVj;
CONNECT M9j APj -by CBj;
CONNECT M9j APj -by CBDj;
CONNECT CB2j APj;
CONNECT CB2j PM1j;
CONNECT PM1j Cu_PPIj;
CONNECT UBMnj APj;
CONNECT UBMnj M9j -by CBDj;
CONNECT UBMdj Cu_PPIj -by PM2j;
SIZE CHIP -by 3 -outputlayer _EPTMPL262853;
NOT CHIP _EPTMPL262853 -outputlayer EMPTYm;
OR EMPTYm M1i -outputlayer M1_m;
OR EMPTYm VIA1i -outputlayer VIA1_m;
OR EMPTYm M2i -outputlayer M2_m;
OR EMPTYm VIA2i -outputlayer VIA2_m;
OR EMPTYm M3i -outputlayer M3_m;
OR EMPTYm VIA3i -outputlayer VIA3_m;
OR EMPTYm M4i -outputlayer M4_m;
OR EMPTYm VIA4i -outputlayer VIA4_m;
OR EMPTYm M5i -outputlayer M5_m;
OR EMPTYm VIA5i -outputlayer VIA5_m;
OR EMPTYm M6i -outputlayer M6_m;
OR EMPTYm VIA6i -outputlayer VIA6_m;
OR EMPTYm M7i -outputlayer M7_m;
OR EMPTYm VIA7i -outputlayer VIA7_m;
OR EMPTYm M8i -outputlayer M8_m;
OR EMPTYm VIA8i -outputlayer VIA8_m;
OR EMPTYm M9i -outputlayer M9_m;
OR EMPTYm CTMi -outputlayer CTM_m;
OR EMPTYm CBMi -outputlayer CBM_m;
OR EMPTYm RVi -outputlayer RV_m;
OR EMPTYm CBi -outputlayer CB_m;
OR EMPTYm CBDi -outputlayer CBD_m;
OR EMPTYm APi -outputlayer AP_m;
OR EMPTYm CB2i -outputlayer CB2_m;
OR EMPTYm Cu_PPIi -outputlayer Cu_PPI_m;
OR EMPTYm PM1i -outputlayer PM1_m;
OR EMPTYm PM2i -outputlayer PM2_m;
OR EMPTYm UBMn -outputlayer UBMn_m;
OR EMPTYm UBMd -outputlayer UBMd_m;
CONNECT M2_m M1_m -by VIA1_m;
CONNECT M3_m M2_m -by VIA2_m;
CONNECT M4_m M3_m -by VIA3_m;
CONNECT M5_m M4_m -by VIA4_m;
CONNECT M6_m M5_m -by VIA5_m;
CONNECT M7_m M6_m -by VIA6_m;
AND VIA7_m CTM_m -outputlayer VCAP_CTM7_m;
NOT VIA7_m CTM_m -outputlayer _EPTMPL262891;
AND _EPTMPL262891 CBM_m -outputlayer VCAP_CBM7_m;
NOT VIA7_m CBM_m -outputlayer VCAP_M7_m;
CONNECT VCAP_M7_m VIA7_m;
CONNECT M8_m M7_m -by VIA7_m;
CONNECT M8_m VIA7_m;
CONNECT M9_m M8_m -by VIA8_m;
CONNECT CB_m M9_m;
CONNECT M9_m AP_m -by RV_m;
CONNECT M9_m AP_m -by CB_m;
CONNECT M9_m AP_m -by CBD_m;
CONNECT CB2_m AP_m;
CONNECT CB2_m PM1_m;
CONNECT PM1_m Cu_PPI_m;
CONNECT UBMn_m AP_m;
CONNECT UBMn_m M9_m -by CBD_m;
CONNECT UBMd_m Cu_PPI_m -by PM2_m;
NOT NWi NSTPi -outputlayer NW_inside_guard_ring_pre1;
EDGE_BOOLEAN -coincident_only -outside -not NW_inside_guard_ring_pre1 NSTPi -outputlayer NW_inside_guard_ring_pre2;
SELECT -with_edge -not NW_inside_guard_ring_pre1 NW_inside_guard_ring_pre2 -outputlayer NW_inside_guard_ring;
NOT PWELi PSTPi -outputlayer PW_inside_guard_ring_pre1;
EDGE_BOOLEAN -coincident_only -outside -not PW_inside_guard_ring_pre1 PSTPi -outputlayer PW_inside_guard_ring_pre2;
SELECT -with_edge -not PW_inside_guard_ring_pre1 PW_inside_guard_ring_pre2 -outputlayer PW_inside_guard_ring;
HOLES NSTPi -inner -outputlayer _EPTMPL262914;
SELECT -inside _EPTMPL262914 NWi -outputlayer _EPTMPL262915;
OR _EPTMPL262915 NW_inside_guard_ring -outputlayer NTAP_guard_ring_hole;
HOLES PSTPi -inner -outputlayer _EPTMPL262917;
SELECT -inside _EPTMPL262917 PWELi -outputlayer _EPTMPL262918;
OR _EPTMPL262918 PW_inside_guard_ring -outputlayer PTAP_guard_ring_hole;

RULE G.1:DNWi {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID DNWi 5 ; // -outputlayer _EPTMPL262920
}

RULE G.1:NWi {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID NWi 5 ; // -outputlayer _EPTMPL262921
}

RULE G.1:OD_18i {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID OD_18i 5 ; // -outputlayer _EPTMPL262922
}

RULE G.1:OD_25i {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID OD_25i 5 ; // -outputlayer _EPTMPL262923
}

RULE G.1:OD25_33 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID OD25_33 5 ; // -outputlayer _EPTMPL262924
}

RULE G.1:OD25_18 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID OD25_18 5 ; // -outputlayer _EPTMPL262925
}

RULE G.1:OD_33i {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID OD_33i 5 ; // -outputlayer _EPTMPL262926
}

RULE G.1:OD_DECAP {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID OD_DECAP 5 ; // -outputlayer _EPTMPL262927
}

RULE G.1:PPi {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID PPi 5 ; // -outputlayer _EPTMPL262928
}

RULE G.1:NPi {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID NPi 5 ; // -outputlayer _EPTMPL262929
}

RULE G.1:CBi {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID CBi 5 ; // -outputlayer _EPTMPL262930
}

RULE G.1:RPOi {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID RPOi 5 ; // -outputlayer _EPTMPL262931
}

RULE G.1:NT_Ni {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID NT_Ni 5 ; // -outputlayer _EPTMPL262932
}

RULE G.1:NCap_NTNi {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID NCap_NTNi 5 ; // -outputlayer _EPTMPL262933
}

RULE G.1:FWALi {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID FWALi 5 ; // -outputlayer _EPTMPL262934
}

RULE G.1:FWCUi {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID FWCUi 5 ; // -outputlayer _EPTMPL262935
}

RULE G.1:POFUSE {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID POFUSE 5 ; // -outputlayer _EPTMPL262936
}

RULE G.1:FUSELINK {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID FUSELINK 5 ; // -outputlayer _EPTMPL262937
}

RULE G.1:SEALRINGi {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID SEALRINGi 5 ; // -outputlayer _EPTMPL262938
}

RULE G.1:VTH_Ni {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID VTH_Ni 5 ; // -outputlayer _EPTMPL262939
}

RULE G.1:VTH_Pi {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID VTH_Pi 5 ; // -outputlayer _EPTMPL262940
}

RULE G.1:VTL_Ni {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID VTL_Ni 5 ; // -outputlayer _EPTMPL262941
}

RULE G.1:VTL_Pi {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID VTL_Pi 5 ; // -outputlayer _EPTMPL262942
}

RULE G.1:UHVT_Ni {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID UHVT_Ni 5 ; // -outputlayer _EPTMPL262943
}

RULE G.1:UHVT_Pi {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID UHVT_Pi 5 ; // -outputlayer _EPTMPL262944
}

RULE G.1:RH {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID RH 5 ; // -outputlayer _EPTMPL262945
}

RULE G.1:ESD3 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID ESD3 5 ; // -outputlayer _EPTMPL262946
}

RULE G.1:VARi {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID VARi 5 ; // -outputlayer _EPTMPL262947
}

RULE G.1:APi {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID APi 5 ; // -outputlayer _EPTMPL262948
}

RULE G.1:CBMi {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID CBMi 5 ; // -outputlayer _EPTMPL262949
}

RULE G.1:CTMi {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID CTMi 5 ; // -outputlayer _EPTMPL262950
}

RULE G.1:RVi {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID RVi 5 ; // -outputlayer _EPTMPL262951
}

RULE G.1:DCOi {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID DCOi 5 ; // -outputlayer _EPTMPL262952
}

RULE G.1:HVD_P {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID HVD_P 5 ; // -outputlayer _EPTMPL262953
}

RULE G.1:HVD_N_nw {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID HVD_N_nw 5 ; // -outputlayer _EPTMPL262954
}

RULE G.1:SRM_ULL {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID SRM_ULL 5 ; // -outputlayer _EPTMPL262955
}

RULE G.1:BJTDMY {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID BJTDMY 5 ; // -outputlayer _EPTMPL262956
}

RULE G.1:NWDMY {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID NWDMY 5 ; // -outputlayer _EPTMPL262957
}

RULE G.1:RPDMY {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID RPDMY 5 ; // -outputlayer _EPTMPL262958
}

RULE G.1:PMDMY {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID PMDMY 5 ; // -outputlayer _EPTMPL262959
}

RULE G.1:SDI {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID SDI 5 ; // -outputlayer _EPTMPL262960
}

RULE G.1:ESD1DMY {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID ESD1DMY 5 ; // -outputlayer _EPTMPL262961
}

RULE G.1:ESD2DMY {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID ESD2DMY 5 ; // -outputlayer _EPTMPL262962
}

RULE G.1:RODMY {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID RODMY 5 ; // -outputlayer _EPTMPL262963
}

RULE G.1:SRM {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID SRM 5 ; // -outputlayer _EPTMPL262964
}

RULE G.1:CDUDMY {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID CDUDMY 5 ; // -outputlayer _EPTMPL262965
}

RULE G.1:TCDDMY {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID TCDDMY 5 ; // -outputlayer _EPTMPL262966
}

RULE G.1:LOGO {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID LOGO 5 ; // -outputlayer _EPTMPL262967
}

RULE G.1:INDDMY {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID INDDMY 5 ; // -outputlayer _EPTMPL262968
}

RULE G.1:CTMDMY {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID CTMDMY 5 ; // -outputlayer _EPTMPL262969
}

RULE G.1:CTMDMY_10 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID CTMDMY_10 5 ; // -outputlayer _EPTMPL262970
}

RULE G.1:CTMDMY_15 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID CTMDMY_15 5 ; // -outputlayer _EPTMPL262971
}

RULE G.1:CTMDMY_20 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID CTMDMY_20 5 ; // -outputlayer _EPTMPL262972
}

RULE G.1:CTMDMY_21 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID CTMDMY_21 5 ; // -outputlayer _EPTMPL262973
}

RULE G.1:MOMDMY_1 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID MOMDMY_1 5 ; // -outputlayer _EPTMPL262974
}

RULE G.1:MOMDMY_2 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID MOMDMY_2 5 ; // -outputlayer _EPTMPL262975
}

RULE G.1:MOMDMY_3 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID MOMDMY_3 5 ; // -outputlayer _EPTMPL262976
}

RULE G.1:MOMDMY_4 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID MOMDMY_4 5 ; // -outputlayer _EPTMPL262977
}

RULE G.1:MOMDMY_5 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID MOMDMY_5 5 ; // -outputlayer _EPTMPL262978
}

RULE G.1:MOMDMY_6 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID MOMDMY_6 5 ; // -outputlayer _EPTMPL262979
}

RULE G.1:MOMDMY_7 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID MOMDMY_7 5 ; // -outputlayer _EPTMPL262980
}

RULE G.1:MOMDMY_8 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID MOMDMY_8 5 ; // -outputlayer _EPTMPL262981
}

RULE G.1:MOMDMY_9 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID MOMDMY_9 5 ; // -outputlayer _EPTMPL262982
}

RULE G.1:MOMDMY_AP {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID MOMDMY_AP 5 ; // -outputlayer _EPTMPL262983
}

RULE G.1:RTMOMDMY {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID RTMOMDMY 5 ; // -outputlayer _EPTMPL262984
}

RULE G.1:MOMDMY {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID MOMDMY 5 ; // -outputlayer _EPTMPL262985
}

RULE G.1:MOMDMY_2T {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID MOMDMY_2T 5 ; // -outputlayer _EPTMPL262986
}

RULE G.1:MOMDMY_100 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID MOMDMY_100 5 ; // -outputlayer _EPTMPL262987
}

RULE G.1:RFDMY {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID RFDMY 5 ; // -outputlayer _EPTMPL262988
}

RULE G.1:WBDMY {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID WBDMY 5 ; // -outputlayer _EPTMPL262989
}

RULE G.1:DIODMY {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID DIODMY 5 ; // -outputlayer _EPTMPL262990
}

RULE G.1:SRAMDMY {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID SRAMDMY 5 ; // -outputlayer _EPTMPL262991
}

RULE G.1:SRAMDMY_4 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID SRAMDMY_4 5 ; // -outputlayer _EPTMPL262992
}

RULE G.1:SRAMDMY_5 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID SRAMDMY_5 5 ; // -outputlayer _EPTMPL262993
}

RULE G.1:SRAMDMY_1 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID SRAMDMY_1 5 ; // -outputlayer _EPTMPL262994
}

RULE G.1:OD1Ti {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID OD1Ti 5 ; // -outputlayer _EPTMPL262995
}

RULE G.1:CLDDi {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID CLDDi 5 ; // -outputlayer _EPTMPL262996
}

RULE G.1:CROWNi {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID CROWNi 5 ; // -outputlayer _EPTMPL262997
}

RULE G.1:P3i {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID P3i 5 ; // -outputlayer _EPTMPL262998
}

RULE G.1:SNCTi {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID SNCTi 5 ; // -outputlayer _EPTMPL262999
}

RULE G.1:LUPWDMY {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID LUPWDMY 5 ; // -outputlayer _EPTMPL263000
}

RULE G.1:LUPWDMY_2 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID LUPWDMY_2 5 ; // -outputlayer _EPTMPL263001
}

RULE G.1:VDDDMY {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID VDDDMY 5 ; // -outputlayer _EPTMPL263002
}

RULE G.1:VSSDMY {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID VSSDMY 5 ; // -outputlayer _EPTMPL263003
}

RULE G.1:RES200 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID RES200 5 ; // -outputlayer _EPTMPL263004
}

RULE G.1:MATCHING {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID MATCHING 5 ; // -outputlayer _EPTMPL263005
}

RULE G.1:M1i {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID M1i 5 ; // -outputlayer _EPTMPL263006
}

RULE G.1:M1_real {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID M1_real 5 ; // -outputlayer _EPTMPL263007
}

RULE G.1:DM1_O {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID DM1_O 5 ; // -outputlayer _EPTMPL263008
}

RULE G.1:DUM1 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID DUM1 5 ; // -outputlayer _EPTMPL263009
}

RULE G.1:M2i {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID M2i 5 ; // -outputlayer _EPTMPL263010
}

RULE G.1:M2_real {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID M2_real 5 ; // -outputlayer _EPTMPL263011
}

RULE G.1:DM2_O {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID DM2_O 5 ; // -outputlayer _EPTMPL263012
}

RULE G.1:DUM2 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID DUM2 5 ; // -outputlayer _EPTMPL263013
}

RULE G.1:M3i {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID M3i 5 ; // -outputlayer _EPTMPL263014
}

RULE G.1:M3_real {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID M3_real 5 ; // -outputlayer _EPTMPL263015
}

RULE G.1:DM3_O {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID DM3_O 5 ; // -outputlayer _EPTMPL263016
}

RULE G.1:DUM3 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID DUM3 5 ; // -outputlayer _EPTMPL263017
}

RULE G.1:M4i {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID M4i 5 ; // -outputlayer _EPTMPL263018
}

RULE G.1:M4_real {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID M4_real 5 ; // -outputlayer _EPTMPL263019
}

RULE G.1:DM4_O {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID DM4_O 5 ; // -outputlayer _EPTMPL263020
}

RULE G.1:DUM4 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID DUM4 5 ; // -outputlayer _EPTMPL263021
}

RULE G.1:M5i {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID M5i 5 ; // -outputlayer _EPTMPL263022
}

RULE G.1:M5_real {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID M5_real 5 ; // -outputlayer _EPTMPL263023
}

RULE G.1:DM5_O {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID DM5_O 5 ; // -outputlayer _EPTMPL263024
}

RULE G.1:DUM5 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID DUM5 5 ; // -outputlayer _EPTMPL263025
}

RULE G.1:M6i {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID M6i 5 ; // -outputlayer _EPTMPL263026
}

RULE G.1:M6_real {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID M6_real 5 ; // -outputlayer _EPTMPL263027
}

RULE G.1:DM6_O {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID DM6_O 5 ; // -outputlayer _EPTMPL263028
}

RULE G.1:DUM6 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID DUM6 5 ; // -outputlayer _EPTMPL263029
}

RULE G.1:M7i {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID M7i 5 ; // -outputlayer _EPTMPL263030
}

RULE G.1:M7_real {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID M7_real 5 ; // -outputlayer _EPTMPL263031
}

RULE G.1:DM7_O {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID DM7_O 5 ; // -outputlayer _EPTMPL263032
}

RULE G.1:DUM7 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID DUM7 5 ; // -outputlayer _EPTMPL263033
}

RULE G.1:M8_OLD {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID M8_OLD 5 ; // -outputlayer _EPTMPL263034
}

RULE G.1:M8_NEW {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID M8_NEW 5 ; // -outputlayer _EPTMPL263035
}

RULE G.1:DUM8_OLD {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID DUM8_OLD 5 ; // -outputlayer _EPTMPL263036
}

RULE G.1:DUM8_NEW {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID DUM8_NEW 5 ; // -outputlayer _EPTMPL263037
}

RULE G.1:M9_OLD {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID M9_OLD 5 ; // -outputlayer _EPTMPL263038
}

RULE G.1:M9_NEW {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID M9_NEW 5 ; // -outputlayer _EPTMPL263039
}

RULE G.1:DUM9_OLD {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID DUM9_OLD 5 ; // -outputlayer _EPTMPL263040
}

RULE G.1:DUM9_NEW {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID DUM9_NEW 5 ; // -outputlayer _EPTMPL263041
}

RULE G.1:VIA1i {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID VIA1i 5 ; // -outputlayer _EPTMPL263042
}

RULE G.1:VIA2i {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID VIA2i 5 ; // -outputlayer _EPTMPL263043
}

RULE G.1:VIA3i {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID VIA3i 5 ; // -outputlayer _EPTMPL263044
}

RULE G.1:VIA4i {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID VIA4i 5 ; // -outputlayer _EPTMPL263045
}

RULE G.1:VIA5i {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID VIA5i 5 ; // -outputlayer _EPTMPL263046
}

RULE G.1:VIA6i {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID VIA6i 5 ; // -outputlayer _EPTMPL263047
}

RULE G.1:VIA7_OLD {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID VIA7_OLD 5 ; // -outputlayer _EPTMPL263048
}

RULE G.1:VIA7_NEW {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID VIA7_NEW 5 ; // -outputlayer _EPTMPL263049
}

RULE G.1:VIA8_OLD {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID VIA8_OLD 5 ; // -outputlayer _EPTMPL263050
}

RULE G.1:VIA8_NEW {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID VIA8_NEW 5 ; // -outputlayer _EPTMPL263051
}

RULE G.1:ODi {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID ODi 5 ; // -outputlayer _EPTMPL263052
}

RULE G.1:DOD {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID DOD 5 ; // -outputlayer _EPTMPL263053
}

RULE G.1:DPO {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID DPO 5 ; // -outputlayer _EPTMPL263054
}

RULE G.1:mVTLi {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID mVTLi 5 ; // -outputlayer _EPTMPL263055
}

RULE G.1:RMDMY1 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID RMDMY1 5 ; // -outputlayer _EPTMPL263056
}

RULE G.1:RMDMY2 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID RMDMY2 5 ; // -outputlayer _EPTMPL263057
}

RULE G.1:RMDMY3 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID RMDMY3 5 ; // -outputlayer _EPTMPL263058
}

RULE G.1:RMDMY4 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID RMDMY4 5 ; // -outputlayer _EPTMPL263059
}

RULE G.1:RMDMY5 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID RMDMY5 5 ; // -outputlayer _EPTMPL263060
}

RULE G.1:RMDMY6 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID RMDMY6 5 ; // -outputlayer _EPTMPL263061
}

RULE G.1:RMDMY7 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID RMDMY7 5 ; // -outputlayer _EPTMPL263062
}

RULE G.1:RMDMY8 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID RMDMY8 5 ; // -outputlayer _EPTMPL263063
}

RULE G.1:RMDMY9 {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID RMDMY9 5 ; // -outputlayer _EPTMPL263064
}

RULE G.1:RMDMYAP {
    CAPTION "grid must be an integer multiple of 0.005 um";
    OFFGRID RMDMYAP 5 ; // -outputlayer _EPTMPL263065
}

RULE G.1:CO {
    CAPTION "5nm grid is required for CO except CO inside layer 186,5";
    NOT COi SRAMDMY_5 -outputlayer X;
    OFFGRID X 5 ; // -outputlayer _EPTMPL263067
}

RULE G.1:PO {
    CAPTION "5nm grid is required for PO except PO inside layer 186,5";
    NOT POi SRAMDMY_5 -outputlayer X;
    OFFGRID X 5 ; // -outputlayer _EPTMPL263069
}

RULE G.2:DNWi {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE DNWi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263070
    EXTE DNWi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263071
}

RULE G.2:NWi {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE NWi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263072
    EXTE NWi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263073
}

RULE G.2:OD_18i {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE OD_18i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263074
    EXTE OD_18i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263075
}

RULE G.2:OD_25i {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE OD_25i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263076
    EXTE OD_25i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263077
}

RULE G.2:OD25_33 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE OD25_33 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263078
    EXTE OD25_33 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263079
}

RULE G.2:OD25_18 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE OD25_18 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263080
    EXTE OD25_18 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263081
}

RULE G.2:OD_33i {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE OD_33i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263082
    EXTE OD_33i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263083
}

RULE G.2:OD_DECAP {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE OD_DECAP -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263084
    EXTE OD_DECAP -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263085
}

RULE G.2:PPi {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE PPi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263086
    EXTE PPi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263087
}

RULE G.2:NPi {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE NPi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263088
    EXTE NPi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263089
}

RULE G.2:COi {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE COi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263090
    EXTE COi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263091
}

RULE G.2:CO_PUSH {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE CO_PUSH -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263092
    EXTE CO_PUSH -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263093
}

RULE G.2:CBi {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE CBi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263094
    EXTE CBi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263095
}

RULE G.2:CB2i {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE CB2i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263096
    EXTE CB2i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263097
}

RULE G.2:RPOi {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE RPOi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263098
    EXTE RPOi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263099
}

RULE G.2:NT_Ni {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE NT_Ni -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263100
    EXTE NT_Ni -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263101
}

RULE G.2:NCap_NTNi {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE NCap_NTNi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263102
    EXTE NCap_NTNi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263103
}

RULE G.2:FWALi {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE FWALi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263104
    EXTE FWALi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263105
}

RULE G.2:FWCUi {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE FWCUi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263106
    EXTE FWCUi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263107
}

RULE G.2:POFUSE {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE POFUSE -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263108
    EXTE POFUSE -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263109
}

RULE G.2:FUSELINK {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE FUSELINK -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263110
    EXTE FUSELINK -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263111
}

RULE G.2:PMi {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE PMi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263112
    EXTE PMi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263113
}

RULE G.2:PM1i {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE PM1i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263114
    EXTE PM1i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263115
}

RULE G.2:PM2i {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE PM2i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263116
    EXTE PM2i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263117
}

RULE G.2:SEALRINGi {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE SEALRINGi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263118
    EXTE SEALRINGi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263119
}

RULE G.2:VTH_Ni {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE VTH_Ni -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263120
    EXTE VTH_Ni -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263121
}

RULE G.2:VTH_Pi {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE VTH_Pi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263122
    EXTE VTH_Pi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263123
}

RULE G.2:VTL_Ni {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE VTL_Ni -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263124
    EXTE VTL_Ni -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263125
}

RULE G.2:VTL_Pi {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE VTL_Pi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263126
    EXTE VTL_Pi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263127
}

RULE G.2:UHVT_Ni {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE UHVT_Ni -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263128
    EXTE UHVT_Ni -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263129
}

RULE G.2:UHVT_Pi {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE UHVT_Pi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263130
    EXTE UHVT_Pi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263131
}

RULE G.2:CBDi {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE CBDi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263132
    EXTE CBDi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263133
}

RULE G.2:UBMi {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE UBMi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263134
    EXTE UBMi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263135
}

RULE G.2:RH {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE RH -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263136
    EXTE RH -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263137
}

RULE G.2:ESD3 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE ESD3 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263138
    EXTE ESD3 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263139
}

RULE G.2:VARi {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE VARi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263140
    EXTE VARi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263141
}

RULE G.2:APi {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE APi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263142
    EXTE APi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263143
}

RULE G.2:Cu_PPIi {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE Cu_PPIi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263144
    EXTE Cu_PPIi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263145
}

RULE G.2:CBMi {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE CBMi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263146
    EXTE CBMi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263147
}

RULE G.2:CTMi {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE CTMi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263148
    EXTE CTMi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263149
}

RULE G.2:RVi {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE RVi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263150
    EXTE RVi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263151
}

RULE G.2:DCOi {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE DCOi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263152
    EXTE DCOi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263153
}

RULE G.2:HVD_P {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE HVD_P -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263154
    EXTE HVD_P -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263155
}

RULE G.2:HVD_N_nw {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE HVD_N_nw -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263156
    EXTE HVD_N_nw -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263157
}

RULE G.2:SRM_ULL {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE SRM_ULL -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263158
    EXTE SRM_ULL -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263159
}

RULE G.2:BJTDMY {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE BJTDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263160
    EXTE BJTDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263161
}

RULE G.2:NWDMY {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE NWDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263162
    EXTE NWDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263163
}

RULE G.2:RPDMY {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE RPDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263164
    EXTE RPDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263165
}

RULE G.2:PMDMY {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE PMDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263166
    EXTE PMDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263167
}

RULE G.2:SDI {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE SDI -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263168
    EXTE SDI -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263169
}

RULE G.2:ESD1DMY {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE ESD1DMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263170
    EXTE ESD1DMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263171
}

RULE G.2:ESD2DMY {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE ESD2DMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263172
    EXTE ESD2DMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263173
}

RULE G.2:RODMY {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE RODMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263174
    EXTE RODMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263175
}

RULE G.2:SRM {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE SRM -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263176
    EXTE SRM -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263177
}

RULE G.2:CDUDMY {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE CDUDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263178
    EXTE CDUDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263179
}

RULE G.2:TCDDMY {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE TCDDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263180
    EXTE TCDDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263181
}

RULE G.2:LOGO {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE LOGO -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263182
    EXTE LOGO -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263183
}

RULE G.2:INDDMY {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE INDDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263184
    EXTE INDDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263185
}

RULE G.2:CTMDMY {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE CTMDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263186
    EXTE CTMDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263187
}

RULE G.2:CTMDMY_10 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE CTMDMY_10 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263188
    EXTE CTMDMY_10 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263189
}

RULE G.2:CTMDMY_15 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE CTMDMY_15 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263190
    EXTE CTMDMY_15 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263191
}

RULE G.2:CTMDMY_20 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE CTMDMY_20 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263192
    EXTE CTMDMY_20 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263193
}

RULE G.2:CTMDMY_21 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE CTMDMY_21 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263194
    EXTE CTMDMY_21 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263195
}

RULE G.2:MOMDMY_1 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE MOMDMY_1 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263196
    EXTE MOMDMY_1 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263197
}

RULE G.2:MOMDMY_2 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE MOMDMY_2 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263198
    EXTE MOMDMY_2 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263199
}

RULE G.2:MOMDMY_3 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE MOMDMY_3 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263200
    EXTE MOMDMY_3 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263201
}

RULE G.2:MOMDMY_4 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE MOMDMY_4 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263202
    EXTE MOMDMY_4 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263203
}

RULE G.2:MOMDMY_5 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE MOMDMY_5 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263204
    EXTE MOMDMY_5 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263205
}

RULE G.2:MOMDMY_6 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE MOMDMY_6 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263206
    EXTE MOMDMY_6 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263207
}

RULE G.2:MOMDMY_7 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE MOMDMY_7 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263208
    EXTE MOMDMY_7 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263209
}

RULE G.2:MOMDMY_8 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE MOMDMY_8 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263210
    EXTE MOMDMY_8 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263211
}

RULE G.2:MOMDMY_9 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE MOMDMY_9 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263212
    EXTE MOMDMY_9 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263213
}

RULE G.2:MOMDMY_AP {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE MOMDMY_AP -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263214
    EXTE MOMDMY_AP -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263215
}

RULE G.2:RTMOMDMY {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE RTMOMDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263216
    EXTE RTMOMDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263217
}

RULE G.2:MOMDMY {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE MOMDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263218
    EXTE MOMDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263219
}

RULE G.2:MOMDMY_2T {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE MOMDMY_2T -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263220
    EXTE MOMDMY_2T -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263221
}

RULE G.2:MOMDMY_100 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE MOMDMY_100 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263222
    EXTE MOMDMY_100 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263223
}

RULE G.2:RFDMY {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE RFDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263224
    EXTE RFDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263225
}

RULE G.2:WBDMY {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE WBDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263226
    EXTE WBDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263227
}

RULE G.2:DIODMY {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE DIODMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263228
    EXTE DIODMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263229
}

RULE G.2:SRAMDMY {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE SRAMDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263230
    EXTE SRAMDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263231
}

RULE G.2:SRAMDMY_4 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE SRAMDMY_4 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263232
    EXTE SRAMDMY_4 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263233
}

RULE G.2:SRAMDMY_5 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE SRAMDMY_5 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263234
    EXTE SRAMDMY_5 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263235
}

RULE G.2:SRAMDMY_1 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE SRAMDMY_1 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263236
    EXTE SRAMDMY_1 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263237
}

RULE G.2:RAM1TDMY {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE RAM1TDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263238
    EXTE RAM1TDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263239
}

RULE G.2:OD1Ti {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE OD1Ti -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263240
    EXTE OD1Ti -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263241
}

RULE G.2:CLDDi {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE CLDDi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263242
    EXTE CLDDi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263243
}

RULE G.2:CROWNi {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE CROWNi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263244
    EXTE CROWNi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263245
}

RULE G.2:P3i {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE P3i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263246
    EXTE P3i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263247
}

RULE G.2:SNCTi {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE SNCTi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263248
    EXTE SNCTi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263249
}

RULE G.2:LUPWDMY {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE LUPWDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263250
    EXTE LUPWDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263251
}

RULE G.2:LUPWDMY_2 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE LUPWDMY_2 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263252
    EXTE LUPWDMY_2 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263253
}

RULE G.2:VDDDMY {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE VDDDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263254
    EXTE VDDDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263255
}

RULE G.2:VSSDMY {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE VSSDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263256
    EXTE VSSDMY -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263257
}

RULE G.2:RES200 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE RES200 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263258
    EXTE RES200 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263259
}

RULE G.2:MATCHING {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE MATCHING -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263260
    EXTE MATCHING -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263261
}

RULE G.2:M1i {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE M1i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263262
    EXTE M1i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263263
}

RULE G.2:M1_real {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE M1_real -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263264
    EXTE M1_real -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263265
}

RULE G.2:DM1_O {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE DM1_O -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263266
    EXTE DM1_O -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263267
}

RULE G.2:DUM1 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE DUM1 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263268
    EXTE DUM1 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263269
}

RULE G.2:M2i {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE M2i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263270
    EXTE M2i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263271
}

RULE G.2:M2_real {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE M2_real -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263272
    EXTE M2_real -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263273
}

RULE G.2:DM2_O {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE DM2_O -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263274
    EXTE DM2_O -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263275
}

RULE G.2:DUM2 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE DUM2 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263276
    EXTE DUM2 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263277
}

RULE G.2:M3i {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE M3i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263278
    EXTE M3i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263279
}

RULE G.2:M3_real {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE M3_real -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263280
    EXTE M3_real -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263281
}

RULE G.2:DM3_O {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE DM3_O -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263282
    EXTE DM3_O -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263283
}

RULE G.2:DUM3 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE DUM3 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263284
    EXTE DUM3 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263285
}

RULE G.2:M4i {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE M4i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263286
    EXTE M4i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263287
}

RULE G.2:M4_real {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE M4_real -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263288
    EXTE M4_real -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263289
}

RULE G.2:DM4_O {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE DM4_O -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263290
    EXTE DM4_O -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263291
}

RULE G.2:DUM4 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE DUM4 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263292
    EXTE DUM4 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263293
}

RULE G.2:M5i {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE M5i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263294
    EXTE M5i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263295
}

RULE G.2:M5_real {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE M5_real -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263296
    EXTE M5_real -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263297
}

RULE G.2:DM5_O {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE DM5_O -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263298
    EXTE DM5_O -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263299
}

RULE G.2:DUM5 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE DUM5 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263300
    EXTE DUM5 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263301
}

RULE G.2:M6i {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE M6i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263302
    EXTE M6i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263303
}

RULE G.2:M6_real {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE M6_real -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263304
    EXTE M6_real -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263305
}

RULE G.2:DM6_O {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE DM6_O -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263306
    EXTE DM6_O -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263307
}

RULE G.2:DUM6 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE DUM6 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263308
    EXTE DUM6 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263309
}

RULE G.2:M7i {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE M7i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263310
    EXTE M7i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263311
}

RULE G.2:M7_real {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE M7_real -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263312
    EXTE M7_real -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263313
}

RULE G.2:DM7_O {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE DM7_O -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263314
    EXTE DM7_O -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263315
}

RULE G.2:DUM7 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE DUM7 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263316
    EXTE DUM7 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263317
}

RULE G.2:M8_OLD {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE M8_OLD -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263318
    EXTE M8_OLD -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263319
}

RULE G.2:M8_NEW {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE M8_NEW -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263320
    EXTE M8_NEW -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263321
}

RULE G.2:DUM8_OLD {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE DUM8_OLD -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263322
    EXTE DUM8_OLD -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263323
}

RULE G.2:DUM8_NEW {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE DUM8_NEW -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263324
    EXTE DUM8_NEW -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263325
}

RULE G.2:M9_OLD {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE M9_OLD -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263326
    EXTE M9_OLD -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263327
}

RULE G.2:M9_NEW {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE M9_NEW -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263328
    EXTE M9_NEW -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263329
}

RULE G.2:DUM9_OLD {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE DUM9_OLD -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263330
    EXTE DUM9_OLD -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263331
}

RULE G.2:DUM9_NEW {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE DUM9_NEW -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263332
    EXTE DUM9_NEW -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263333
}

RULE G.2:VIA1i {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE VIA1i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263334
    EXTE VIA1i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263335
}

RULE G.2:VIA2i {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE VIA2i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263336
    EXTE VIA2i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263337
}

RULE G.2:VIA3i {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE VIA3i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263338
    EXTE VIA3i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263339
}

RULE G.2:VIA4i {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE VIA4i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263340
    EXTE VIA4i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263341
}

RULE G.2:VIA5i {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE VIA5i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263342
    EXTE VIA5i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263343
}

RULE G.2:VIA6i {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE VIA6i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263344
    EXTE VIA6i -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263345
}

RULE G.2:VIA7_OLD {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE VIA7_OLD -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263346
    EXTE VIA7_OLD -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263347
}

RULE G.2:VIA7_NEW {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE VIA7_NEW -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263348
    EXTE VIA7_NEW -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263349
}

RULE G.2:VIA8_OLD {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE VIA8_OLD -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263350
    EXTE VIA8_OLD -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263351
}

RULE G.2:VIA8_NEW {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE VIA8_NEW -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263352
    EXTE VIA8_NEW -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263353
}

RULE G.2:ODi {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE ODi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263354
    EXTE ODi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263355
}

RULE G.2:DOD {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE DOD -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263356
    EXTE DOD -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263357
}

RULE G.2:POi {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE POi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263358
    EXTE POi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263359
}

RULE G.2:DPO {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE DPO -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263360
    EXTE DPO -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263361
}

RULE G.2:mVTLi {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE mVTLi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263362
    EXTE mVTLi -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263363
}

RULE G.2:RMDMY1 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE RMDMY1 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263364
    EXTE RMDMY1 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263365
}

RULE G.2:RMDMY2 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE RMDMY2 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263366
    EXTE RMDMY2 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263367
}

RULE G.2:RMDMY3 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE RMDMY3 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263368
    EXTE RMDMY3 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263369
}

RULE G.2:RMDMY4 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE RMDMY4 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263370
    EXTE RMDMY4 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263371
}

RULE G.2:RMDMY5 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE RMDMY5 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263372
    EXTE RMDMY5 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263373
}

RULE G.2:RMDMY6 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE RMDMY6 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263374
    EXTE RMDMY6 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263375
}

RULE G.2:RMDMY7 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE RMDMY7 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263376
    EXTE RMDMY7 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263377
}

RULE G.2:RMDMY8 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE RMDMY8 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263378
    EXTE RMDMY8 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263379
}

RULE G.2:RMDMY9 {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE RMDMY9 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263380
    EXTE RMDMY9 -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263381
}

RULE G.2:RMDMYAP {
    CAPTION "LAYERS Shapes with acute angles between line segments are not allowed.";
    INTE RMDMYAP -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263382
    EXTE RMDMYAP -lt 0.1 -abut -lt 90 -intersecting ONLY ; // -outputlayer _EPTMPL263383
}

RULE G.3:DNWi {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE DNWi -ltgt 0 45 ; // -outputlayer _EPTMPL263384
    ANGLE DNWi -ltgt 45 90 ; // -outputlayer _EPTMPL263385
}

RULE G.3:NWi {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE NWi -ltgt 0 45 ; // -outputlayer _EPTMPL263386
    ANGLE NWi -ltgt 45 90 ; // -outputlayer _EPTMPL263387
}

RULE G.3:OD_18i {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE OD_18i -ltgt 0 45 ; // -outputlayer _EPTMPL263388
    ANGLE OD_18i -ltgt 45 90 ; // -outputlayer _EPTMPL263389
}

RULE G.3:OD_25i {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE OD_25i -ltgt 0 45 ; // -outputlayer _EPTMPL263390
    ANGLE OD_25i -ltgt 45 90 ; // -outputlayer _EPTMPL263391
}

RULE G.3:OD25_33 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE OD25_33 -ltgt 0 45 ; // -outputlayer _EPTMPL263392
    ANGLE OD25_33 -ltgt 45 90 ; // -outputlayer _EPTMPL263393
}

RULE G.3:OD25_18 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE OD25_18 -ltgt 0 45 ; // -outputlayer _EPTMPL263394
    ANGLE OD25_18 -ltgt 45 90 ; // -outputlayer _EPTMPL263395
}

RULE G.3:OD_33i {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE OD_33i -ltgt 0 45 ; // -outputlayer _EPTMPL263396
    ANGLE OD_33i -ltgt 45 90 ; // -outputlayer _EPTMPL263397
}

RULE G.3:OD_DECAP {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE OD_DECAP -ltgt 0 45 ; // -outputlayer _EPTMPL263398
    ANGLE OD_DECAP -ltgt 45 90 ; // -outputlayer _EPTMPL263399
}

RULE G.3:PPi {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE PPi -ltgt 0 45 ; // -outputlayer _EPTMPL263400
    ANGLE PPi -ltgt 45 90 ; // -outputlayer _EPTMPL263401
}

RULE G.3:NPi {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE NPi -ltgt 0 45 ; // -outputlayer _EPTMPL263402
    ANGLE NPi -ltgt 45 90 ; // -outputlayer _EPTMPL263403
}

RULE G.3:COi {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE COi -ltgt 0 45 ; // -outputlayer _EPTMPL263404
    ANGLE COi -ltgt 45 90 ; // -outputlayer _EPTMPL263405
}

RULE G.3:CO_PUSH {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE CO_PUSH -ltgt 0 45 ; // -outputlayer _EPTMPL263406
    ANGLE CO_PUSH -ltgt 45 90 ; // -outputlayer _EPTMPL263407
}

RULE G.3:CBi {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE CBi -ltgt 0 45 ; // -outputlayer _EPTMPL263408
    ANGLE CBi -ltgt 45 90 ; // -outputlayer _EPTMPL263409
}

RULE G.3:RPOi {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE RPOi -ltgt 0 45 ; // -outputlayer _EPTMPL263410
    ANGLE RPOi -ltgt 45 90 ; // -outputlayer _EPTMPL263411
}

RULE G.3:NT_Ni {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE NT_Ni -ltgt 0 45 ; // -outputlayer _EPTMPL263412
    ANGLE NT_Ni -ltgt 45 90 ; // -outputlayer _EPTMPL263413
}

RULE G.3:NCap_NTNi {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE NCap_NTNi -ltgt 0 45 ; // -outputlayer _EPTMPL263414
    ANGLE NCap_NTNi -ltgt 45 90 ; // -outputlayer _EPTMPL263415
}

RULE G.3:FWALi {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE FWALi -ltgt 0 45 ; // -outputlayer _EPTMPL263416
    ANGLE FWALi -ltgt 45 90 ; // -outputlayer _EPTMPL263417
}

RULE G.3:FWCUi {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE FWCUi -ltgt 0 45 ; // -outputlayer _EPTMPL263418
    ANGLE FWCUi -ltgt 45 90 ; // -outputlayer _EPTMPL263419
}

RULE G.3:POFUSE {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE POFUSE -ltgt 0 45 ; // -outputlayer _EPTMPL263420
    ANGLE POFUSE -ltgt 45 90 ; // -outputlayer _EPTMPL263421
}

RULE G.3:FUSELINK {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE FUSELINK -ltgt 0 45 ; // -outputlayer _EPTMPL263422
    ANGLE FUSELINK -ltgt 45 90 ; // -outputlayer _EPTMPL263423
}

RULE G.3:SEALRINGi {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE SEALRINGi -ltgt 0 45 ; // -outputlayer _EPTMPL263424
    ANGLE SEALRINGi -ltgt 45 90 ; // -outputlayer _EPTMPL263425
}

RULE G.3:VTH_Ni {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE VTH_Ni -ltgt 0 45 ; // -outputlayer _EPTMPL263426
    ANGLE VTH_Ni -ltgt 45 90 ; // -outputlayer _EPTMPL263427
}

RULE G.3:VTH_Pi {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE VTH_Pi -ltgt 0 45 ; // -outputlayer _EPTMPL263428
    ANGLE VTH_Pi -ltgt 45 90 ; // -outputlayer _EPTMPL263429
}

RULE G.3:VTL_Ni {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE VTL_Ni -ltgt 0 45 ; // -outputlayer _EPTMPL263430
    ANGLE VTL_Ni -ltgt 45 90 ; // -outputlayer _EPTMPL263431
}

RULE G.3:VTL_Pi {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE VTL_Pi -ltgt 0 45 ; // -outputlayer _EPTMPL263432
    ANGLE VTL_Pi -ltgt 45 90 ; // -outputlayer _EPTMPL263433
}

RULE G.3:UHVT_Ni {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE UHVT_Ni -ltgt 0 45 ; // -outputlayer _EPTMPL263434
    ANGLE UHVT_Ni -ltgt 45 90 ; // -outputlayer _EPTMPL263435
}

RULE G.3:UHVT_Pi {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE UHVT_Pi -ltgt 0 45 ; // -outputlayer _EPTMPL263436
    ANGLE UHVT_Pi -ltgt 45 90 ; // -outputlayer _EPTMPL263437
}

RULE G.3:RH {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE RH -ltgt 0 45 ; // -outputlayer _EPTMPL263438
    ANGLE RH -ltgt 45 90 ; // -outputlayer _EPTMPL263439
}

RULE G.3:ESD3 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE ESD3 -ltgt 0 45 ; // -outputlayer _EPTMPL263440
    ANGLE ESD3 -ltgt 45 90 ; // -outputlayer _EPTMPL263441
}

RULE G.3:VARi {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE VARi -ltgt 0 45 ; // -outputlayer _EPTMPL263442
    ANGLE VARi -ltgt 45 90 ; // -outputlayer _EPTMPL263443
}

RULE G.3:APi {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE APi -ltgt 0 45 ; // -outputlayer _EPTMPL263444
    ANGLE APi -ltgt 45 90 ; // -outputlayer _EPTMPL263445
}

RULE G.3:CBMi {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE CBMi -ltgt 0 45 ; // -outputlayer _EPTMPL263446
    ANGLE CBMi -ltgt 45 90 ; // -outputlayer _EPTMPL263447
}

RULE G.3:CTMi {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE CTMi -ltgt 0 45 ; // -outputlayer _EPTMPL263448
    ANGLE CTMi -ltgt 45 90 ; // -outputlayer _EPTMPL263449
}

RULE G.3:RVi {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE RVi -ltgt 0 45 ; // -outputlayer _EPTMPL263450
    ANGLE RVi -ltgt 45 90 ; // -outputlayer _EPTMPL263451
}

RULE G.3:DCOi {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE DCOi -ltgt 0 45 ; // -outputlayer _EPTMPL263452
    ANGLE DCOi -ltgt 45 90 ; // -outputlayer _EPTMPL263453
}

RULE G.3:HVD_P {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE HVD_P -ltgt 0 45 ; // -outputlayer _EPTMPL263454
    ANGLE HVD_P -ltgt 45 90 ; // -outputlayer _EPTMPL263455
}

RULE G.3:HVD_N_nw {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE HVD_N_nw -ltgt 0 45 ; // -outputlayer _EPTMPL263456
    ANGLE HVD_N_nw -ltgt 45 90 ; // -outputlayer _EPTMPL263457
}

RULE G.3:SRM_ULL {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE SRM_ULL -ltgt 0 45 ; // -outputlayer _EPTMPL263458
    ANGLE SRM_ULL -ltgt 45 90 ; // -outputlayer _EPTMPL263459
}

RULE G.3:BJTDMY {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE BJTDMY -ltgt 0 45 ; // -outputlayer _EPTMPL263460
    ANGLE BJTDMY -ltgt 45 90 ; // -outputlayer _EPTMPL263461
}

RULE G.3:NWDMY {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE NWDMY -ltgt 0 45 ; // -outputlayer _EPTMPL263462
    ANGLE NWDMY -ltgt 45 90 ; // -outputlayer _EPTMPL263463
}

RULE G.3:RPDMY {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE RPDMY -ltgt 0 45 ; // -outputlayer _EPTMPL263464
    ANGLE RPDMY -ltgt 45 90 ; // -outputlayer _EPTMPL263465
}

RULE G.3:SDI {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE SDI -ltgt 0 45 ; // -outputlayer _EPTMPL263466
    ANGLE SDI -ltgt 45 90 ; // -outputlayer _EPTMPL263467
}

RULE G.3:ESD1DMY {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE ESD1DMY -ltgt 0 45 ; // -outputlayer _EPTMPL263468
    ANGLE ESD1DMY -ltgt 45 90 ; // -outputlayer _EPTMPL263469
}

RULE G.3:ESD2DMY {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE ESD2DMY -ltgt 0 45 ; // -outputlayer _EPTMPL263470
    ANGLE ESD2DMY -ltgt 45 90 ; // -outputlayer _EPTMPL263471
}

RULE G.3:RODMY {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE RODMY -ltgt 0 45 ; // -outputlayer _EPTMPL263472
    ANGLE RODMY -ltgt 45 90 ; // -outputlayer _EPTMPL263473
}

RULE G.3:SRM {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE SRM -ltgt 0 45 ; // -outputlayer _EPTMPL263474
    ANGLE SRM -ltgt 45 90 ; // -outputlayer _EPTMPL263475
}

RULE G.3:CDUDMY {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE CDUDMY -ltgt 0 45 ; // -outputlayer _EPTMPL263476
    ANGLE CDUDMY -ltgt 45 90 ; // -outputlayer _EPTMPL263477
}

RULE G.3:TCDDMY {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE TCDDMY -ltgt 0 45 ; // -outputlayer _EPTMPL263478
    ANGLE TCDDMY -ltgt 45 90 ; // -outputlayer _EPTMPL263479
}

RULE G.3:LOGO {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE LOGO -ltgt 0 45 ; // -outputlayer _EPTMPL263480
    ANGLE LOGO -ltgt 45 90 ; // -outputlayer _EPTMPL263481
}

RULE G.3:INDDMY {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE INDDMY -ltgt 0 45 ; // -outputlayer _EPTMPL263482
    ANGLE INDDMY -ltgt 45 90 ; // -outputlayer _EPTMPL263483
}

RULE G.3:CTMDMY {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE CTMDMY -ltgt 0 45 ; // -outputlayer _EPTMPL263484
    ANGLE CTMDMY -ltgt 45 90 ; // -outputlayer _EPTMPL263485
}

RULE G.3:CTMDMY_10 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE CTMDMY_10 -ltgt 0 45 ; // -outputlayer _EPTMPL263486
    ANGLE CTMDMY_10 -ltgt 45 90 ; // -outputlayer _EPTMPL263487
}

RULE G.3:CTMDMY_15 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE CTMDMY_15 -ltgt 0 45 ; // -outputlayer _EPTMPL263488
    ANGLE CTMDMY_15 -ltgt 45 90 ; // -outputlayer _EPTMPL263489
}

RULE G.3:CTMDMY_20 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE CTMDMY_20 -ltgt 0 45 ; // -outputlayer _EPTMPL263490
    ANGLE CTMDMY_20 -ltgt 45 90 ; // -outputlayer _EPTMPL263491
}

RULE G.3:CTMDMY_21 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE CTMDMY_21 -ltgt 0 45 ; // -outputlayer _EPTMPL263492
    ANGLE CTMDMY_21 -ltgt 45 90 ; // -outputlayer _EPTMPL263493
}

RULE G.3:MOMDMY_1 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE MOMDMY_1 -ltgt 0 45 ; // -outputlayer _EPTMPL263494
    ANGLE MOMDMY_1 -ltgt 45 90 ; // -outputlayer _EPTMPL263495
}

RULE G.3:MOMDMY_2 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE MOMDMY_2 -ltgt 0 45 ; // -outputlayer _EPTMPL263496
    ANGLE MOMDMY_2 -ltgt 45 90 ; // -outputlayer _EPTMPL263497
}

RULE G.3:MOMDMY_3 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE MOMDMY_3 -ltgt 0 45 ; // -outputlayer _EPTMPL263498
    ANGLE MOMDMY_3 -ltgt 45 90 ; // -outputlayer _EPTMPL263499
}

RULE G.3:MOMDMY_4 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE MOMDMY_4 -ltgt 0 45 ; // -outputlayer _EPTMPL263500
    ANGLE MOMDMY_4 -ltgt 45 90 ; // -outputlayer _EPTMPL263501
}

RULE G.3:MOMDMY_5 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE MOMDMY_5 -ltgt 0 45 ; // -outputlayer _EPTMPL263502
    ANGLE MOMDMY_5 -ltgt 45 90 ; // -outputlayer _EPTMPL263503
}

RULE G.3:MOMDMY_6 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE MOMDMY_6 -ltgt 0 45 ; // -outputlayer _EPTMPL263504
    ANGLE MOMDMY_6 -ltgt 45 90 ; // -outputlayer _EPTMPL263505
}

RULE G.3:MOMDMY_7 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE MOMDMY_7 -ltgt 0 45 ; // -outputlayer _EPTMPL263506
    ANGLE MOMDMY_7 -ltgt 45 90 ; // -outputlayer _EPTMPL263507
}

RULE G.3:MOMDMY_8 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE MOMDMY_8 -ltgt 0 45 ; // -outputlayer _EPTMPL263508
    ANGLE MOMDMY_8 -ltgt 45 90 ; // -outputlayer _EPTMPL263509
}

RULE G.3:MOMDMY_9 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE MOMDMY_9 -ltgt 0 45 ; // -outputlayer _EPTMPL263510
    ANGLE MOMDMY_9 -ltgt 45 90 ; // -outputlayer _EPTMPL263511
}

RULE G.3:MOMDMY_AP {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE MOMDMY_AP -ltgt 0 45 ; // -outputlayer _EPTMPL263512
    ANGLE MOMDMY_AP -ltgt 45 90 ; // -outputlayer _EPTMPL263513
}

RULE G.3:RTMOMDMY {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE RTMOMDMY -ltgt 0 45 ; // -outputlayer _EPTMPL263514
    ANGLE RTMOMDMY -ltgt 45 90 ; // -outputlayer _EPTMPL263515
}

RULE G.3:MOMDMY {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE MOMDMY -ltgt 0 45 ; // -outputlayer _EPTMPL263516
    ANGLE MOMDMY -ltgt 45 90 ; // -outputlayer _EPTMPL263517
}

RULE G.3:MOMDMY_2T {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE MOMDMY_2T -ltgt 0 45 ; // -outputlayer _EPTMPL263518
    ANGLE MOMDMY_2T -ltgt 45 90 ; // -outputlayer _EPTMPL263519
}

RULE G.3:MOMDMY_100 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE MOMDMY_100 -ltgt 0 45 ; // -outputlayer _EPTMPL263520
    ANGLE MOMDMY_100 -ltgt 45 90 ; // -outputlayer _EPTMPL263521
}

RULE G.3:RFDMY {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE RFDMY -ltgt 0 45 ; // -outputlayer _EPTMPL263522
    ANGLE RFDMY -ltgt 45 90 ; // -outputlayer _EPTMPL263523
}

RULE G.3:WBDMY {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE WBDMY -ltgt 0 45 ; // -outputlayer _EPTMPL263524
    ANGLE WBDMY -ltgt 45 90 ; // -outputlayer _EPTMPL263525
}

RULE G.3:DIODMY {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE DIODMY -ltgt 0 45 ; // -outputlayer _EPTMPL263526
    ANGLE DIODMY -ltgt 45 90 ; // -outputlayer _EPTMPL263527
}

RULE G.3:SRAMDMY {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE SRAMDMY -ltgt 0 45 ; // -outputlayer _EPTMPL263528
    ANGLE SRAMDMY -ltgt 45 90 ; // -outputlayer _EPTMPL263529
}

RULE G.3:SRAMDMY_4 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE SRAMDMY_4 -ltgt 0 45 ; // -outputlayer _EPTMPL263530
    ANGLE SRAMDMY_4 -ltgt 45 90 ; // -outputlayer _EPTMPL263531
}

RULE G.3:SRAMDMY_5 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE SRAMDMY_5 -ltgt 0 45 ; // -outputlayer _EPTMPL263532
    ANGLE SRAMDMY_5 -ltgt 45 90 ; // -outputlayer _EPTMPL263533
}

RULE G.3:SRAMDMY_1 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE SRAMDMY_1 -ltgt 0 45 ; // -outputlayer _EPTMPL263534
    ANGLE SRAMDMY_1 -ltgt 45 90 ; // -outputlayer _EPTMPL263535
}

RULE G.3:RAM1TDMY {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE RAM1TDMY -ltgt 0 45 ; // -outputlayer _EPTMPL263536
    ANGLE RAM1TDMY -ltgt 45 90 ; // -outputlayer _EPTMPL263537
}

RULE G.3:OD1Ti {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE OD1Ti -ltgt 0 45 ; // -outputlayer _EPTMPL263538
    ANGLE OD1Ti -ltgt 45 90 ; // -outputlayer _EPTMPL263539
}

RULE G.3:CLDDi {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE CLDDi -ltgt 0 45 ; // -outputlayer _EPTMPL263540
    ANGLE CLDDi -ltgt 45 90 ; // -outputlayer _EPTMPL263541
}

RULE G.3:CROWNi {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE CROWNi -ltgt 0 45 ; // -outputlayer _EPTMPL263542
    ANGLE CROWNi -ltgt 45 90 ; // -outputlayer _EPTMPL263543
}

RULE G.3:P3i {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE P3i -ltgt 0 45 ; // -outputlayer _EPTMPL263544
    ANGLE P3i -ltgt 45 90 ; // -outputlayer _EPTMPL263545
}

RULE G.3:SNCTi {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE SNCTi -ltgt 0 45 ; // -outputlayer _EPTMPL263546
    ANGLE SNCTi -ltgt 45 90 ; // -outputlayer _EPTMPL263547
}

RULE G.3:LUPWDMY {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE LUPWDMY -ltgt 0 45 ; // -outputlayer _EPTMPL263548
    ANGLE LUPWDMY -ltgt 45 90 ; // -outputlayer _EPTMPL263549
}

RULE G.3:LUPWDMY_2 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE LUPWDMY_2 -ltgt 0 45 ; // -outputlayer _EPTMPL263550
    ANGLE LUPWDMY_2 -ltgt 45 90 ; // -outputlayer _EPTMPL263551
}

RULE G.3:VDDDMY {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE VDDDMY -ltgt 0 45 ; // -outputlayer _EPTMPL263552
    ANGLE VDDDMY -ltgt 45 90 ; // -outputlayer _EPTMPL263553
}

RULE G.3:VSSDMY {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE VSSDMY -ltgt 0 45 ; // -outputlayer _EPTMPL263554
    ANGLE VSSDMY -ltgt 45 90 ; // -outputlayer _EPTMPL263555
}

RULE G.3:RES200 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE RES200 -ltgt 0 45 ; // -outputlayer _EPTMPL263556
    ANGLE RES200 -ltgt 45 90 ; // -outputlayer _EPTMPL263557
}

RULE G.3:MATCHING {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE MATCHING -ltgt 0 45 ; // -outputlayer _EPTMPL263558
    ANGLE MATCHING -ltgt 45 90 ; // -outputlayer _EPTMPL263559
}

RULE G.3:M1i {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE M1i -ltgt 0 45 ; // -outputlayer _EPTMPL263560
    ANGLE M1i -ltgt 45 90 ; // -outputlayer _EPTMPL263561
}

RULE G.3:M1_real {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE M1_real -ltgt 0 45 ; // -outputlayer _EPTMPL263562
    ANGLE M1_real -ltgt 45 90 ; // -outputlayer _EPTMPL263563
}

RULE G.3:DM1_O {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE DM1_O -ltgt 0 45 ; // -outputlayer _EPTMPL263564
    ANGLE DM1_O -ltgt 45 90 ; // -outputlayer _EPTMPL263565
}

RULE G.3:DUM1 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE DUM1 -ltgt 0 45 ; // -outputlayer _EPTMPL263566
    ANGLE DUM1 -ltgt 45 90 ; // -outputlayer _EPTMPL263567
}

RULE G.3:M2i {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE M2i -ltgt 0 45 ; // -outputlayer _EPTMPL263568
    ANGLE M2i -ltgt 45 90 ; // -outputlayer _EPTMPL263569
}

RULE G.3:M2_real {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE M2_real -ltgt 0 45 ; // -outputlayer _EPTMPL263570
    ANGLE M2_real -ltgt 45 90 ; // -outputlayer _EPTMPL263571
}

RULE G.3:DM2_O {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE DM2_O -ltgt 0 45 ; // -outputlayer _EPTMPL263572
    ANGLE DM2_O -ltgt 45 90 ; // -outputlayer _EPTMPL263573
}

RULE G.3:DUM2 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE DUM2 -ltgt 0 45 ; // -outputlayer _EPTMPL263574
    ANGLE DUM2 -ltgt 45 90 ; // -outputlayer _EPTMPL263575
}

RULE G.3:M3i {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE M3i -ltgt 0 45 ; // -outputlayer _EPTMPL263576
    ANGLE M3i -ltgt 45 90 ; // -outputlayer _EPTMPL263577
}

RULE G.3:M3_real {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE M3_real -ltgt 0 45 ; // -outputlayer _EPTMPL263578
    ANGLE M3_real -ltgt 45 90 ; // -outputlayer _EPTMPL263579
}

RULE G.3:DM3_O {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE DM3_O -ltgt 0 45 ; // -outputlayer _EPTMPL263580
    ANGLE DM3_O -ltgt 45 90 ; // -outputlayer _EPTMPL263581
}

RULE G.3:DUM3 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE DUM3 -ltgt 0 45 ; // -outputlayer _EPTMPL263582
    ANGLE DUM3 -ltgt 45 90 ; // -outputlayer _EPTMPL263583
}

RULE G.3:M4i {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE M4i -ltgt 0 45 ; // -outputlayer _EPTMPL263584
    ANGLE M4i -ltgt 45 90 ; // -outputlayer _EPTMPL263585
}

RULE G.3:M4_real {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE M4_real -ltgt 0 45 ; // -outputlayer _EPTMPL263586
    ANGLE M4_real -ltgt 45 90 ; // -outputlayer _EPTMPL263587
}

RULE G.3:DM4_O {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE DM4_O -ltgt 0 45 ; // -outputlayer _EPTMPL263588
    ANGLE DM4_O -ltgt 45 90 ; // -outputlayer _EPTMPL263589
}

RULE G.3:DUM4 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE DUM4 -ltgt 0 45 ; // -outputlayer _EPTMPL263590
    ANGLE DUM4 -ltgt 45 90 ; // -outputlayer _EPTMPL263591
}

RULE G.3:M5i {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE M5i -ltgt 0 45 ; // -outputlayer _EPTMPL263592
    ANGLE M5i -ltgt 45 90 ; // -outputlayer _EPTMPL263593
}

RULE G.3:M5_real {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE M5_real -ltgt 0 45 ; // -outputlayer _EPTMPL263594
    ANGLE M5_real -ltgt 45 90 ; // -outputlayer _EPTMPL263595
}

RULE G.3:DM5_O {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE DM5_O -ltgt 0 45 ; // -outputlayer _EPTMPL263596
    ANGLE DM5_O -ltgt 45 90 ; // -outputlayer _EPTMPL263597
}

RULE G.3:DUM5 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE DUM5 -ltgt 0 45 ; // -outputlayer _EPTMPL263598
    ANGLE DUM5 -ltgt 45 90 ; // -outputlayer _EPTMPL263599
}

RULE G.3:M6i {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE M6i -ltgt 0 45 ; // -outputlayer _EPTMPL263600
    ANGLE M6i -ltgt 45 90 ; // -outputlayer _EPTMPL263601
}

RULE G.3:M6_real {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE M6_real -ltgt 0 45 ; // -outputlayer _EPTMPL263602
    ANGLE M6_real -ltgt 45 90 ; // -outputlayer _EPTMPL263603
}

RULE G.3:DM6_O {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE DM6_O -ltgt 0 45 ; // -outputlayer _EPTMPL263604
    ANGLE DM6_O -ltgt 45 90 ; // -outputlayer _EPTMPL263605
}

RULE G.3:DUM6 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE DUM6 -ltgt 0 45 ; // -outputlayer _EPTMPL263606
    ANGLE DUM6 -ltgt 45 90 ; // -outputlayer _EPTMPL263607
}

RULE G.3:M7i {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE M7i -ltgt 0 45 ; // -outputlayer _EPTMPL263608
    ANGLE M7i -ltgt 45 90 ; // -outputlayer _EPTMPL263609
}

RULE G.3:M7_real {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE M7_real -ltgt 0 45 ; // -outputlayer _EPTMPL263610
    ANGLE M7_real -ltgt 45 90 ; // -outputlayer _EPTMPL263611
}

RULE G.3:DM7_O {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE DM7_O -ltgt 0 45 ; // -outputlayer _EPTMPL263612
    ANGLE DM7_O -ltgt 45 90 ; // -outputlayer _EPTMPL263613
}

RULE G.3:DUM7 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE DUM7 -ltgt 0 45 ; // -outputlayer _EPTMPL263614
    ANGLE DUM7 -ltgt 45 90 ; // -outputlayer _EPTMPL263615
}

RULE G.3:M8_OLD {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE M8_OLD -ltgt 0 45 ; // -outputlayer _EPTMPL263616
    ANGLE M8_OLD -ltgt 45 90 ; // -outputlayer _EPTMPL263617
}

RULE G.3:M8_NEW {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE M8_NEW -ltgt 0 45 ; // -outputlayer _EPTMPL263618
    ANGLE M8_NEW -ltgt 45 90 ; // -outputlayer _EPTMPL263619
}

RULE G.3:DUM8_OLD {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE DUM8_OLD -ltgt 0 45 ; // -outputlayer _EPTMPL263620
    ANGLE DUM8_OLD -ltgt 45 90 ; // -outputlayer _EPTMPL263621
}

RULE G.3:DUM8_NEW {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE DUM8_NEW -ltgt 0 45 ; // -outputlayer _EPTMPL263622
    ANGLE DUM8_NEW -ltgt 45 90 ; // -outputlayer _EPTMPL263623
}

RULE G.3:M9_OLD {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE M9_OLD -ltgt 0 45 ; // -outputlayer _EPTMPL263624
    ANGLE M9_OLD -ltgt 45 90 ; // -outputlayer _EPTMPL263625
}

RULE G.3:M9_NEW {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE M9_NEW -ltgt 0 45 ; // -outputlayer _EPTMPL263626
    ANGLE M9_NEW -ltgt 45 90 ; // -outputlayer _EPTMPL263627
}

RULE G.3:DUM9_OLD {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE DUM9_OLD -ltgt 0 45 ; // -outputlayer _EPTMPL263628
    ANGLE DUM9_OLD -ltgt 45 90 ; // -outputlayer _EPTMPL263629
}

RULE G.3:DUM9_NEW {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE DUM9_NEW -ltgt 0 45 ; // -outputlayer _EPTMPL263630
    ANGLE DUM9_NEW -ltgt 45 90 ; // -outputlayer _EPTMPL263631
}

RULE G.3:VIA1i {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE VIA1i -ltgt 0 45 ; // -outputlayer _EPTMPL263632
    ANGLE VIA1i -ltgt 45 90 ; // -outputlayer _EPTMPL263633
}

RULE G.3:VIA2i {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE VIA2i -ltgt 0 45 ; // -outputlayer _EPTMPL263634
    ANGLE VIA2i -ltgt 45 90 ; // -outputlayer _EPTMPL263635
}

RULE G.3:VIA3i {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE VIA3i -ltgt 0 45 ; // -outputlayer _EPTMPL263636
    ANGLE VIA3i -ltgt 45 90 ; // -outputlayer _EPTMPL263637
}

RULE G.3:VIA4i {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE VIA4i -ltgt 0 45 ; // -outputlayer _EPTMPL263638
    ANGLE VIA4i -ltgt 45 90 ; // -outputlayer _EPTMPL263639
}

RULE G.3:VIA5i {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE VIA5i -ltgt 0 45 ; // -outputlayer _EPTMPL263640
    ANGLE VIA5i -ltgt 45 90 ; // -outputlayer _EPTMPL263641
}

RULE G.3:VIA6i {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE VIA6i -ltgt 0 45 ; // -outputlayer _EPTMPL263642
    ANGLE VIA6i -ltgt 45 90 ; // -outputlayer _EPTMPL263643
}

RULE G.3:VIA7_OLD {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE VIA7_OLD -ltgt 0 45 ; // -outputlayer _EPTMPL263644
    ANGLE VIA7_OLD -ltgt 45 90 ; // -outputlayer _EPTMPL263645
}

RULE G.3:VIA7_NEW {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE VIA7_NEW -ltgt 0 45 ; // -outputlayer _EPTMPL263646
    ANGLE VIA7_NEW -ltgt 45 90 ; // -outputlayer _EPTMPL263647
}

RULE G.3:VIA8_OLD {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE VIA8_OLD -ltgt 0 45 ; // -outputlayer _EPTMPL263648
    ANGLE VIA8_OLD -ltgt 45 90 ; // -outputlayer _EPTMPL263649
}

RULE G.3:VIA8_NEW {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE VIA8_NEW -ltgt 0 45 ; // -outputlayer _EPTMPL263650
    ANGLE VIA8_NEW -ltgt 45 90 ; // -outputlayer _EPTMPL263651
}

RULE G.3:ODi {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE ODi -ltgt 0 45 ; // -outputlayer _EPTMPL263652
    ANGLE ODi -ltgt 45 90 ; // -outputlayer _EPTMPL263653
}

RULE G.3:DOD {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE DOD -ltgt 0 45 ; // -outputlayer _EPTMPL263654
    ANGLE DOD -ltgt 45 90 ; // -outputlayer _EPTMPL263655
}

RULE G.3:POi {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE POi -ltgt 0 45 ; // -outputlayer _EPTMPL263656
    ANGLE POi -ltgt 45 90 ; // -outputlayer _EPTMPL263657
}

RULE G.3:DPO {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE DPO -ltgt 0 45 ; // -outputlayer _EPTMPL263658
    ANGLE DPO -ltgt 45 90 ; // -outputlayer _EPTMPL263659
}

RULE G.3:mVTLi {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE mVTLi -ltgt 0 45 ; // -outputlayer _EPTMPL263660
    ANGLE mVTLi -ltgt 45 90 ; // -outputlayer _EPTMPL263661
}

RULE G.3:RMDMY1 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE RMDMY1 -ltgt 0 45 ; // -outputlayer _EPTMPL263662
    ANGLE RMDMY1 -ltgt 45 90 ; // -outputlayer _EPTMPL263663
}

RULE G.3:RMDMY2 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE RMDMY2 -ltgt 0 45 ; // -outputlayer _EPTMPL263664
    ANGLE RMDMY2 -ltgt 45 90 ; // -outputlayer _EPTMPL263665
}

RULE G.3:RMDMY3 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE RMDMY3 -ltgt 0 45 ; // -outputlayer _EPTMPL263666
    ANGLE RMDMY3 -ltgt 45 90 ; // -outputlayer _EPTMPL263667
}

RULE G.3:RMDMY4 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE RMDMY4 -ltgt 0 45 ; // -outputlayer _EPTMPL263668
    ANGLE RMDMY4 -ltgt 45 90 ; // -outputlayer _EPTMPL263669
}

RULE G.3:RMDMY5 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE RMDMY5 -ltgt 0 45 ; // -outputlayer _EPTMPL263670
    ANGLE RMDMY5 -ltgt 45 90 ; // -outputlayer _EPTMPL263671
}

RULE G.3:RMDMY6 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE RMDMY6 -ltgt 0 45 ; // -outputlayer _EPTMPL263672
    ANGLE RMDMY6 -ltgt 45 90 ; // -outputlayer _EPTMPL263673
}

RULE G.3:RMDMY7 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE RMDMY7 -ltgt 0 45 ; // -outputlayer _EPTMPL263674
    ANGLE RMDMY7 -ltgt 45 90 ; // -outputlayer _EPTMPL263675
}

RULE G.3:RMDMY8 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE RMDMY8 -ltgt 0 45 ; // -outputlayer _EPTMPL263676
    ANGLE RMDMY8 -ltgt 45 90 ; // -outputlayer _EPTMPL263677
}

RULE G.3:RMDMY9 {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE RMDMY9 -ltgt 0 45 ; // -outputlayer _EPTMPL263678
    ANGLE RMDMY9 -ltgt 45 90 ; // -outputlayer _EPTMPL263679
}

RULE G.3:RMDMYAP {
    CAPTION "Shapes must be orthogonal or on a 45 degree angle.";
    ANGLE RMDMYAP -ltgt 0 45 ; // -outputlayer _EPTMPL263680
    ANGLE RMDMYAP -ltgt 45 90 ; // -outputlayer _EPTMPL263681
}

RULE G.4:ODi {
    CAPTION "Adjacent edges with length less than min. width is not allowed.";
    SELECT -inside -not ODi SRAM_EXCLUDE -outputlayer ODia;
    EDGE_LENGTH ODia -lt "OD_W_1" -outputlayer X;
    EDGE_EXPAND X -by 0.01 -outputlayer ODi_ShortExp;
    VERTEX ODi_ShortExp -gt 4 -outputlayer _EPTMPL263685;
    SELECT -inside -not _EPTMPL263685 SRAM_EXCLUDE -outputlayer ODi_SmallJog;
    EDGE_BOOLEAN -inside ODi ODi_SmallJog ; // -outputlayer _EPTMPL263687
}

RULE G.4:POi {
    CAPTION "Adjacent edges with length less than min. width is not allowed.";
    SELECT -inside -not POi SRAM_EXCLUDE -outputlayer POia;
    EDGE_LENGTH POia -lt "PO_W_1" -outputlayer X;
    EDGE_EXPAND X -by 0.01 -outputlayer POi_ShortExp;
    VERTEX POi_ShortExp -gt 4 -outputlayer _EPTMPL263691;
    SELECT -inside -not _EPTMPL263691 SRAM_EXCLUDE -outputlayer POi_SmallJog;
    EDGE_BOOLEAN -inside POi POi_SmallJog ; // -outputlayer _EPTMPL263693
}

RULE G.4:VTH_Ni {
    CAPTION "Adjacent edges with length less than min. width is not allowed.";
    SELECT -inside -not VTH_Ni SRAM_EXCLUDE -outputlayer VTH_Nia;
    EDGE_LENGTH VTH_Nia -lt "VTH_N_W_1" -outputlayer X;
    EDGE_EXPAND X -by 0.01 -outputlayer VTH_Ni_ShortExp;
    VERTEX VTH_Ni_ShortExp -gt 4 -outputlayer _EPTMPL263697;
    SELECT -inside -not _EPTMPL263697 SRAM_EXCLUDE -outputlayer VTH_Ni_SmallJog;
    EDGE_BOOLEAN -inside VTH_Ni VTH_Ni_SmallJog ; // -outputlayer _EPTMPL263699
}

RULE G.4:VTH_Pi {
    CAPTION "Adjacent edges with length less than min. width is not allowed.";
    SELECT -inside -not VTH_Pi SRAM_EXCLUDE -outputlayer VTH_Pia;
    EDGE_LENGTH VTH_Pia -lt "VTH_P_W_1" -outputlayer X;
    EDGE_EXPAND X -by 0.01 -outputlayer VTH_Pi_ShortExp;
    VERTEX VTH_Pi_ShortExp -gt 4 -outputlayer _EPTMPL263703;
    SELECT -inside -not _EPTMPL263703 SRAM_EXCLUDE -outputlayer VTH_Pi_SmallJog;
    EDGE_BOOLEAN -inside VTH_Pi VTH_Pi_SmallJog ; // -outputlayer _EPTMPL263705
}

RULE G.4:VTL_Ni {
    CAPTION "Adjacent edges with length less than min. width is not allowed.";
    SELECT -inside -not VTL_Ni SRAM_EXCLUDE -outputlayer VTL_Nia;
    EDGE_LENGTH VTL_Nia -lt "VTL_N_W_1" -outputlayer X;
    EDGE_EXPAND X -by 0.01 -outputlayer VTL_Ni_ShortExp;
    VERTEX VTL_Ni_ShortExp -gt 4 -outputlayer _EPTMPL263709;
    SELECT -inside -not _EPTMPL263709 SRAM_EXCLUDE -outputlayer VTL_Ni_SmallJog;
    EDGE_BOOLEAN -inside VTL_Ni VTL_Ni_SmallJog ; // -outputlayer _EPTMPL263711
}

RULE G.4:VTL_Pi {
    CAPTION "Adjacent edges with length less than min. width is not allowed.";
    SELECT -inside -not VTL_Pi SRAM_EXCLUDE -outputlayer VTL_Pia;
    EDGE_LENGTH VTL_Pia -lt "VTL_P_W_1" -outputlayer X;
    EDGE_EXPAND X -by 0.01 -outputlayer VTL_Pi_ShortExp;
    VERTEX VTL_Pi_ShortExp -gt 4 -outputlayer _EPTMPL263715;
    SELECT -inside -not _EPTMPL263715 SRAM_EXCLUDE -outputlayer VTL_Pi_SmallJog;
    EDGE_BOOLEAN -inside VTL_Pi VTL_Pi_SmallJog ; // -outputlayer _EPTMPL263717
}

RULE G.4:PPi {
    CAPTION "Adjacent edges with length less than min. width is not allowed.";
    SELECT -inside -not PPi SRAM_EXCLUDE -outputlayer PPia;
    EDGE_LENGTH PPia -lt "PP_W_1" -outputlayer X;
    EDGE_EXPAND X -by 0.01 -outputlayer PPi_ShortExp;
    VERTEX PPi_ShortExp -gt 4 -outputlayer _EPTMPL263721;
    SELECT -inside -not _EPTMPL263721 SRAM_EXCLUDE -outputlayer PPi_SmallJog;
    EDGE_BOOLEAN -inside PPi PPi_SmallJog ; // -outputlayer _EPTMPL263723
}

RULE G.4:NPi {
    CAPTION "Adjacent edges with length less than min. width is not allowed.";
    SELECT -inside -not NPi SRAM_EXCLUDE -outputlayer NPia;
    EDGE_LENGTH NPia -lt "NP_W_1" -outputlayer X;
    EDGE_EXPAND X -by 0.01 -outputlayer NPi_ShortExp;
    VERTEX NPi_ShortExp -gt 4 -outputlayer _EPTMPL263727;
    SELECT -inside -not _EPTMPL263727 SRAM_EXCLUDE -outputlayer NPi_SmallJog;
    EDGE_BOOLEAN -inside NPi NPi_SmallJog ; // -outputlayer _EPTMPL263729
}

RULE G.4:M1i {
    CAPTION "Adjacent edges with length less than min. width is not allowed.";
    SELECT -inside -not M1i SRAM_EXCLUDE -outputlayer M1ia;
    EDGE_LENGTH M1ia -lt "M1_W_1" -outputlayer X;
    EDGE_EXPAND X -by 0.01 -outputlayer M1i_ShortExp;
    VERTEX M1i_ShortExp -gt 4 -outputlayer _EPTMPL263733;
    SELECT -inside -not _EPTMPL263733 SRAM_EXCLUDE -outputlayer M1i_SmallJog;
    EDGE_BOOLEAN -inside M1i M1i_SmallJog ; // -outputlayer _EPTMPL263735
}

RULE G.4:M2i {
    CAPTION "Adjacent edges with length less than min. width is not allowed.";
    EDGE_LENGTH M2i -lt "M2_W_1" -outputlayer X;
    EDGE_EXPAND X -by 0.01 -outputlayer M2i_ShortExp;
    VERTEX M2i_ShortExp -gt 4 -outputlayer M2i_SmallJog;
    EDGE_BOOLEAN -inside M2i M2i_SmallJog ; // -outputlayer _EPTMPL263739
}

RULE G.4:M3i {
    CAPTION "Adjacent edges with length less than min. width is not allowed.";
    EDGE_LENGTH M3i -lt "M3_W_1" -outputlayer X;
    EDGE_EXPAND X -by 0.01 -outputlayer M3i_ShortExp;
    VERTEX M3i_ShortExp -gt 4 -outputlayer M3i_SmallJog;
    EDGE_BOOLEAN -inside M3i M3i_SmallJog ; // -outputlayer _EPTMPL263743
}

RULE G.4:M4i {
    CAPTION "Adjacent edges with length less than min. width is not allowed.";
    EDGE_LENGTH M4i -lt "M4_W_1" -outputlayer X;
    EDGE_EXPAND X -by 0.01 -outputlayer M4i_ShortExp;
    VERTEX M4i_ShortExp -gt 4 -outputlayer M4i_SmallJog;
    EDGE_BOOLEAN -inside M4i M4i_SmallJog ; // -outputlayer _EPTMPL263747
}

RULE G.4:M5i {
    CAPTION "Adjacent edges with length less than min. width is not allowed.";
    EDGE_LENGTH M5i -lt "M5_W_1" -outputlayer X;
    EDGE_EXPAND X -by 0.01 -outputlayer M5i_ShortExp;
    VERTEX M5i_ShortExp -gt 4 -outputlayer M5i_SmallJog;
    EDGE_BOOLEAN -inside M5i M5i_SmallJog ; // -outputlayer _EPTMPL263751
}

RULE G.4:M6i {
    CAPTION "Adjacent edges with length less than min. width is not allowed.";
    EDGE_LENGTH M6i -lt "M6_W_1" -outputlayer X;
    EDGE_EXPAND X -by 0.01 -outputlayer M6i_ShortExp;
    VERTEX M6i_ShortExp -gt 4 -outputlayer M6i_SmallJog;
    EDGE_BOOLEAN -inside M6i M6i_SmallJog ; // -outputlayer _EPTMPL263755
}

RULE G.4:M7i {
    CAPTION "Adjacent edges with length less than min. width is not allowed.";
    EDGE_LENGTH M7i -lt "M7_W_1" -outputlayer X;
    EDGE_EXPAND X -by 0.01 -outputlayer M7i_ShortExp;
    VERTEX M7i_ShortExp -gt 4 -outputlayer M7i_SmallJog;
    EDGE_BOOLEAN -inside M7i M7i_SmallJog ; // -outputlayer _EPTMPL263759
}

RULE G.5:NOTUSEM1 {
    CAPTION "Do not use NOTUSEM1 which is reserved for tsmc internal mask making";
    COPY NOTUSEM1 ; // -outputlayer _EPTMPL263760
}

RULE G.5:NOTUSEM2 {
    CAPTION "Do not use NOTUSEM2 which is reserved for tsmc internal mask making";
    COPY NOTUSEM2 ; // -outputlayer _EPTMPL263761
}

RULE G.5:NOTUSEM3 {
    CAPTION "Do not use NOTUSEM3 which is reserved for tsmc internal mask making";
    COPY NOTUSEM3 ; // -outputlayer _EPTMPL263762
}

RULE G.5:NOTUSEM4 {
    CAPTION "Do not use NOTUSEM4 which is reserved for tsmc internal mask making";
    COPY NOTUSEM4 ; // -outputlayer _EPTMPL263763
}

RULE G.5:NOTUSEM5 {
    CAPTION "Do not use NOTUSEM5 which is reserved for tsmc internal mask making";
    COPY NOTUSEM5 ; // -outputlayer _EPTMPL263764
}

RULE G.5:NOTUSEM6 {
    CAPTION "Do not use NOTUSEM6 which is reserved for tsmc internal mask making";
    COPY NOTUSEM6 ; // -outputlayer _EPTMPL263765
}

RULE G.5:NOTUSEM7 {
    CAPTION "Do not use NOTUSEM7 which is reserved for tsmc internal mask making";
    COPY NOTUSEM7 ; // -outputlayer _EPTMPL263766
}

RULE G.5:NOTUSEM8 {
    CAPTION "Do not use NOTUSEM8 which is reserved for tsmc internal mask making";
    COPY NOTUSEM8 ; // -outputlayer _EPTMPL263767
}

RULE G.5:NOTUSEM9 {
    CAPTION "Do not use NOTUSEM9 which is reserved for tsmc internal mask making";
    COPY NOTUSEM9 ; // -outputlayer _EPTMPL263768
}

RULE G.5:NOTUSEOD {
    CAPTION "Do not use NOTUSEOD which is reserved for tsmc internal mask making";
    COPY NOTUSEOD ; // -outputlayer _EPTMPL263769
}

RULE G.5:NOTUSEPO {
    CAPTION "Do not use NOTUSEPO which is reserved for tsmc internal mask making";
    COPY NOTUSEPO ; // -outputlayer _EPTMPL263770
}

RULE USER_GUIDE.M1 {
    CAPTION "Metal layers with forbidden datatypes.";
    COPY NOUSEM1 ; // -outputlayer _EPTMPL263771
}

RULE USER_GUIDE.M2 {
    CAPTION "Metal layers with forbidden datatypes.";
    COPY NOUSEM2 ; // -outputlayer _EPTMPL263772
}

RULE USER_GUIDE.M3 {
    CAPTION "Metal layers with forbidden datatypes.";
    COPY NOUSEM3 ; // -outputlayer _EPTMPL263773
}

RULE USER_GUIDE.M4 {
    CAPTION "Metal layers with forbidden datatypes.";
    COPY NOUSEM4 ; // -outputlayer _EPTMPL263774
}

RULE USER_GUIDE.M5 {
    CAPTION "Metal layers with forbidden datatypes.";
    COPY NOUSEM5 ; // -outputlayer _EPTMPL263775
}

RULE USER_GUIDE.M6 {
    CAPTION "Metal layers with forbidden datatypes.";
    COPY NOUSEM6 ; // -outputlayer _EPTMPL263776
}

RULE USER_GUIDE.M7 {
    CAPTION "Metal layers with forbidden datatypes.";
    COPY NOUSEM7 ; // -outputlayer _EPTMPL263777
}

RULE USER_GUIDE.M8 {
    CAPTION "Metal layers with forbidden datatypes.";
    COPY NOUSEM8 ; // -outputlayer _EPTMPL263778
}

RULE USER_GUIDE.M9 {
    CAPTION "Metal layers with forbidden datatypes.";
    COPY NOUSEM9 ; // -outputlayer _EPTMPL263779
}

RULE USER_GUIDE.VIA1 {
    CAPTION "Via layers with forbidden datatypes.";
    COPY NOUSEV1 ; // -outputlayer _EPTMPL263780
}

RULE USER_GUIDE.VIA2 {
    CAPTION "Via layers with forbidden datatypes.";
    COPY NOUSEV2 ; // -outputlayer _EPTMPL263781
}

RULE USER_GUIDE.VIA3 {
    CAPTION "Via layers with forbidden datatypes.";
    COPY NOUSEV3 ; // -outputlayer _EPTMPL263782
}

RULE USER_GUIDE.VIA4 {
    CAPTION "Via layers with forbidden datatypes.";
    COPY NOUSEV4 ; // -outputlayer _EPTMPL263783
}

RULE USER_GUIDE.VIA5 {
    CAPTION "Via layers with forbidden datatypes.";
    COPY NOUSEV5 ; // -outputlayer _EPTMPL263784
}

RULE USER_GUIDE.VIA6 {
    CAPTION "Via layers with forbidden datatypes.";
    COPY NOUSEV6 ; // -outputlayer _EPTMPL263785
}

RULE USER_GUIDE.VIA7 {
    CAPTION "Via layers with forbidden datatypes.";
    COPY NOUSEV7 ; // -outputlayer _EPTMPL263786
}

RULE USER_GUIDE.VIA8 {
    CAPTION "Via layers with forbidden datatypes.";
    COPY NOUSEV8 ; // -outputlayer _EPTMPL263787
}

RULE USER_GUIDE.2 {
    CAPTION "Dummy metal,poly,od can't be used to connect";
    SELECT -interact DUM1 COi ; // -outputlayer _EPTMPL263788
    SELECT -interact DUM1 VIA1i ; // -outputlayer _EPTMPL263789
    SELECT -interact DUM2 VIA1i ; // -outputlayer _EPTMPL263790
    SELECT -interact DUM2 VIA2i ; // -outputlayer _EPTMPL263791
    SELECT -interact DUM3 VIA2i ; // -outputlayer _EPTMPL263792
    SELECT -interact DUM3 VIA3i ; // -outputlayer _EPTMPL263793
    SELECT -interact DUM4 VIA3i ; // -outputlayer _EPTMPL263794
    SELECT -interact DUM4 VIA4i ; // -outputlayer _EPTMPL263795
    SELECT -interact DUM5 VIA4i ; // -outputlayer _EPTMPL263796
    SELECT -interact DUM5 VIA5i ; // -outputlayer _EPTMPL263797
    SELECT -interact DUM6 VIA5i ; // -outputlayer _EPTMPL263798
    SELECT -interact DUM6 VIA6i ; // -outputlayer _EPTMPL263799
    SELECT -interact DUM7 VIA6i ; // -outputlayer _EPTMPL263800
    SELECT -interact DUM7 VIA7i ; // -outputlayer _EPTMPL263801
    SELECT -interact DUM8 VIA7i ; // -outputlayer _EPTMPL263802
    SELECT -interact DUM8 VIA8i ; // -outputlayer _EPTMPL263803
    SELECT -interact DUM9 VIA8i ; // -outputlayer _EPTMPL263804
    SELECT -interact DPO COi ; // -outputlayer _EPTMPL263805
    SELECT -interact DOD COi ; // -outputlayer _EPTMPL263806
}

RULE NW_DATATYPE:WARNING1 {
    CAPTION "Extreme user care needs to be taken when using any layer other than (3,0) that default MT form considers to create NW mask. The tapeout engineer must explicitly explain that those non-default layers must be considered equivalent to NW in the MT form to ensure complete fabrication. It is strongly recommended to use NW,drawing (3,0) layer to define NW regions.";
    COPY NWi_OTHERS ; // -outputlayer _EPTMPL263807
}

RULE OD_DATATYPE:WARNING1 {
    CAPTION "Extreme user care needs to be taken when using any other layer to create OD mask such as pdiff (7,0), ndiff (8,0) or any layer other than (6,0), and (6,1) that default MT form considers. The tapeout engineer must explicitly explain that those non-default layers must be considered equivalent to OD in the MT form to ensure complete fabrication.  It is strongly recommended to use only OD,drawing (6,0) and OD,dummy (6,1) layers to defined OD and DOD regions.";
    COPY ODi_OTHERS ; // -outputlayer _EPTMPL263808
}

RULE OD_DATATYPE:WARNING2 {
    CAPTION "SRAM OD (6,11-13) layer are only allowed in SRAM region.";
    OR SRM SRAMDMY -outputlayer _EPTMPL263809;
    NOT ODi_SRAM _EPTMPL263809 ; // -outputlayer _EPTMPL263810
}

RULE OD_DATATYPE:WARNING3 {
    CAPTION "Layer (6,3) is for recognition purpose of RF devices, please take care if this layer is adopted for non-RF designs and not for masking purpose of diffusion regions together with OD (6,0).";
    NOT ODi_RFDRAIN RFDMY ; // -outputlayer _EPTMPL263811
    AND ODi_RFDRAIN POi ; // -outputlayer _EPTMPL263812
    NOT ODi_RFDRAIN ODi ; // -outputlayer _EPTMPL263813
}

RULE PO_DATATYPE:WARNING1 {
    CAPTION "Extreme user care needs to be taken when using any layer other than (17,0), and (17,1) that default MT form considers to create PO mask. The tapeout engineer must explicitly explain that those non-default layers must be considered equivalent to PO in the MT form to ensure complete fabrication. It is strongly recommended to use PO,drawing (17,0) and PO,dummy (17,1) layer to define PO and DPO regions.";
    COPY POi_OTHERS ; // -outputlayer _EPTMPL263814
}

RULE PO_DATATYPE:WARNING2 {
    CAPTION "SRAM PO (17,11-13) layer are only allowed in SRAM region.";
    OR SRM SRAMDMY -outputlayer _EPTMPL263815;
    NOT POi_SRAM _EPTMPL263815 ; // -outputlayer _EPTMPL263816
}

RULE CO_DATATYPE:WARNING1 {
    CAPTION "Extreme user care needs to be taken when using any layer other than (30,0) that default MT form considers to create CO mask. The tapeout engineer must explicitly explain that those non-default layers must be considered equivalent to CO in the MT form to ensure complete fabrication. It is strongly recommended to use CO,drawing (30,0) to define CO regions.";
    COPY COi_OTHERS ; // -outputlayer _EPTMPL263817
}

RULE CO_DATATYPE:WARNING2 {
    CAPTION "SRAM CO (30,11-13) layer are only allowed in SRAM region.";
    OR SRM SRAMDMY -outputlayer _EPTMPL263818;
    NOT COi_SRAM _EPTMPL263818 ; // -outputlayer _EPTMPL263819
}
NOT NWEL OD2 -outputlayer NW1V;
AND NWEL OD2 -outputlayer NW2V;

RULE NW.W.1 {
    CAPTION "Width >= 0.47 um";
    INTE NWEL -lt "NW_W_1" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL263822;
    SELECT -inside -not _EPTMPL263822 SRAM_EXCLUDE -outputlayer A;
    SELECT -outside A SRAM_EXCLUDE ; // -outputlayer _EPTMPL263824
    SELECT -cut A SRAM_EXCLUDE -outputlayer B;
    SELECT -interact NWEL B -outputlayer _EPTMPL263826;
    NOT _EPTMPL263826 SRAM_EXCLUDE -outputlayer C;
    INTE C -lt "NW_W_1" -abut -lt 90 -single_point -output region -outputlayer D;
    SELECT -interact B D ; // -outputlayer _EPTMPL263829
}

RULE NW.S.1 {
    CAPTION "Space >= 0.47 um";
    EXTE NWEL -lt "NW_S_1" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL263830;
    SELECT -inside -not _EPTMPL263830 SRAM_EXCLUDE ; // -outputlayer _EPTMPL263831
}

RULE NW.S.2 {
    CAPTION "Space of two NW1V with different potentials >= 1 um";
    STAMP NW1V NWi -outputlayer NW1V_NODAL;
    EXTE NW1V_NODAL -lt "NW_S_2" -abut -lt 90 -not_connected -single_point -output region -outputlayer _EPTMPL263833;
    SELECT -inside -not _EPTMPL263833 SRAM_EXCLUDE ; // -outputlayer _EPTMPL263834
}

RULE NW.S.3 {
    CAPTION "NW1V space to NW2V with different potentials >= 1.2 um";
    STAMP NW1V NWi -outputlayer NW1Vc;
    STAMP NW2V NWi -outputlayer NW2Vc;
    EXTE NW1Vc NW2Vc -lt "NW_S_3" -abut -ltgt 0 90 -single_point -output region -not_connected -outputlayer _EPTMPL263837;
    SELECT -inside -not _EPTMPL263837 SRAM_EXCLUDE ; // -outputlayer _EPTMPL263838
}

RULE NW.S.4 {
    CAPTION "Space of two NW2V with different potentials >= NW2V 1.2 um";
    STAMP NW2V NWi -outputlayer NW2V_NODAL;
    EXTE NW2V_NODAL -lt "NW_S_4" -abut -lt 90 -not_connected -single_point -output region -outputlayer _EPTMPL263840;
    SELECT -inside -not _EPTMPL263840 SRAM_EXCLUDE ; // -outputlayer _EPTMPL263841
}

RULE SUGGESTED.NW.S.3__NW.S.4 {
    CAPTION "A more conservative way to check NW.S.3, NW.S.4 with";
    CAPTION "varied operating voltages determination of nwels.";
    SELECT -outside NWEL OD2 -outputlayer NW1V;
    SELECT -outside -not NWEL OD2 -outputlayer NW2V;
    STAMP NW1V NWi -outputlayer NW1Vc;
    STAMP NW2V NWi -outputlayer NW2Vc;
    EXTE NW1Vc NW2Vc -lt "NW_S_3" -abut -ltgt 0 90 -not_connected -single_point -output region ; // -outputlayer _EPTMPL263846
    STAMP NW2V NWi -outputlayer NW2V_NODAL;
    EXTE NW2V_NODAL -lt "NW_S_4" -abut -lt 90 -not_connected -single_point -output region ; // -outputlayer _EPTMPL263848
}

RULE NW.S.5 {
    CAPTION "Space to PW STRAP >= 0.16 um";
    EXTE NWi PPOD -lt "NW_S_5" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL263849
    SELECT -cut PPOD NWi ; // -outputlayer _EPTMPL263850
}

RULE NW.S.6 {
    CAPTION "Space to N+active except dummy TCD region >= 0.16 um";
    SELECT -interact -not NACT RNWEL -outputlayer A;
    EXTE NWi A -lt "NW_S_6" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL263852;
    SELECT -inside -not _EPTMPL263852 TCDDMY ; // -outputlayer _EPTMPL263853
    SELECT -cut A NWi -outputlayer _EPTMPL263854;
    SELECT -inside -not _EPTMPL263854 TCDDMY ; // -outputlayer _EPTMPL263855
}

RULE NW.S.7 {
    CAPTION "Space to (N+active interact OD2) >= 0.31 um";
    EXTE NWi NACT2 -lt "NW_S_7" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL263856
}

RULE NW.EN.1 {
    CAPTION "Enclosure of NW STRAP >= 0.16 um";
    ENC NPOD NONWR -lt "NW_EN_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL263857
}

RULE NW.EN.2 {
    CAPTION "Enclosure of P+active >= 0.16 um";
    ENC PPOD NONWR -lt "NW_EN_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL263858
}

RULE NW.EN.3 {
    CAPTION "ENClosure of (P+active interact with OD2) >= 0.31 um";
    ENC PACT2 NWi -lt "NW_EN_3" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL263859
}

RULE NW.A.1 {
    CAPTION "Area >= 0.64 um2";
    AREA NWEL -lt "NW_A_1" ; // -outputlayer _EPTMPL263860
}
variable NW_A_2pre " ((NW_A_2 + (NW_S_1 * NW_S_1 * 3.142))/(2 * NW_S_1))   *((NW_A_2 + (NW_S_1 * NW_S_1 * 3.142))/(2 * NW_S_1))/3.141 ";

RULE NW.A.2 {
    CAPTION "Enclosed Area >= 0.64 um2";
    HOLES NWEL -inner -lt "NW_A_2pre" -outputlayer A;
    NOT A NWEL -outputlayer B;
    AREA B -lt "NW_A_2" -outputlayer _EPTMPL263863;
    SELECT -inside -not _EPTMPL263863 SRAM_EXCLUDE ; // -outputlayer _EPTMPL263864
}

RULE NW.A.3 {
    CAPTION "Area (one of edge length < 0.8 um) >= 1 um2";
    EDGE_LENGTH NWEL -lt "NW_A_3_L" -outputlayer X;
    SELECT -with_edge NWEL X -outputlayer Y;
    AREA Y -lt "NW_A_3" ; // -outputlayer _EPTMPL263867
}
variable NW_A_4pre " ((NW_A_4 + (NW_S_1 * NW_S_1 * 3.142))/(2 * NW_S_1))   *((NW_A_4 + (NW_S_1 * NW_S_1 * 3.142))/(2 * NW_S_1))/3.141 ";

RULE NW.A.4 {
    CAPTION "Enclosed Area (one of the enclosed edge length < 0.8 um) >= 1 um2";
    HOLES NWEL -inner -lt "NW_A_4pre" -outputlayer A;
    EDGE_LENGTH A -lt "NW_A_4_L" -outputlayer X;
    SELECT -with_edge A X -outputlayer Y;
    NOT Y NWi -outputlayer B;
    AREA B -lt "NW_A_4" -outputlayer _EPTMPL263872;
    SELECT -inside -not _EPTMPL263872 SRAM_EXCLUDE ; // -outputlayer _EPTMPL263873
}

RULE NW.R.3 {
    CAPTION "NW ABUT NWDMY from outside is not allowed";
    EDGE_BOOLEAN -coincident_only -outside NWi NWDMY ; // -outputlayer _EPTMPL263874
}

RULE NWROD.W.1 {
    CAPTION "Width >= 1.8 (NWRSTI.W.1 is checked by NWROD.W.1)";
    INTE RNWEL -lt "NWROD_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL263875
}

RULE NWROD.S.1 {
    CAPTION "Space to NWROD or to NW >= 1.2";
    CAPTION "NWRSTI.S.1  Space to NWRSTI or to NW >= 1.2";
    EXTE RNWEL -lt "NWROD_S_1" -abut -lt 90 -notch only -single_point -output region ; // -outputlayer _EPTMPL263876
    EXTE RNWEL NWEL -lt "NWROD_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL263877
}

RULE NWROD.S.2 {
    CAPTION "Min. space to RPO >= 0.3 um";
    EXTE NWRES RPO -lt "NWROD_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL263878
    AND NWRES RPO -outputlayer _EPTMPL263879;
    SELECT -interact -not _EPTMPL263879 NWDMY ; // -outputlayer _EPTMPL263880
    EDGE_BOOLEAN -inside RPO NWRES -outputlayer A;
    EXTE A -lt "RPO_W_1" -abut -eq 90 -output region -intersecting ONLY ; // -outputlayer _EPTMPL263882
}

RULE NWROD.EN.1 {
    CAPTION "Min. enclose by OD >= 1 um";
    ENC NWRES ODWR -lt "NWROD_EN_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL263883
    SELECT -cut NWRES ODWR ; // -outputlayer _EPTMPL263884
}

RULE NWROD.EN.2 {
    CAPTION "Min. enclose by CO >= 0.3 um";
    AND RHWR NWRES -outputlayer X;
    ENC COWR X -lt "NWROD_EN_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL263886
    NOT COWR X ; // -outputlayer _EPTMPL263887
}

RULE NWROD.O.1 {
    CAPTION "RPO overlap of NP. Use exact value 0.4 um on side touching NWDMY";
    INTE NPWR RPO -lt "NWROD_O_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL263888
    EDGE_BOOLEAN -inside RHWR NWEL -outputlayer A;
    EDGE_EXPAND A -outside_by "NWROD_O_1" -outputlayer B;
    AND NPWR RPO -outputlayer _EPTMPL263891;
    AND _EPTMPL263891 NWRES -outputlayer _EPTMPL263892;
    NOT _EPTMPL263892 B ; // -outputlayer _EPTMPL263893
    NOT RHWR NPWR ; // -outputlayer _EPTMPL263894
}

RULE NWROD.O.2 {
    CAPTION "{OD AND NWDMY} overlap of {NP, PP, VTH_N, VTH_P, VTL_N, or VTL_P} (all implant layers except NW) is not allowed";
    AND OD NWDMY -outputlayer A;
    AND A NP ; // -outputlayer _EPTMPL263896
    AND A PP ; // -outputlayer _EPTMPL263897
    AND A VTHN ; // -outputlayer _EPTMPL263898
    AND A VTHP ; // -outputlayer _EPTMPL263899
    AND A VTLN ; // -outputlayer _EPTMPL263900
    AND A VTLP ; // -outputlayer _EPTMPL263901
}

RULE NWROD.R.4 {
    CAPTION "Only one polygon of NW in NWROD is allowed in one OD";
    AND NWRES OD -outputlayer _EPTMPL263902;
    SELECT -interact OD _EPTMPL263902 -gt 1 -outputlayer A;
    SELECT -interact NWRES A ; // -outputlayer _EPTMPL263904
}

RULE NWROD.R.5 {
    CAPTION "Only two polygons of NP in NWROD is allowed in one OD";
    SELECT -interact OD NWRES -outputlayer A;
    SELECT -interact NP NWRES -outputlayer _EPTMPL263906;
    SELECT -interact A _EPTMPL263906 -eq 2 -outputlayer VALID;
    SELECT -interact -not A VALID -outputlayer _EPTMPL263908;
    SELECT -interact NP _EPTMPL263908 ; // -outputlayer _EPTMPL263909
}

RULE NWROD.R.6 {
    CAPTION "Only two polygons of RPO hole(Salicide) in NWROD is allowed in same OD";
    SELECT -interact OD NWRES -outputlayer A;
    HOLES RPO -outputlayer _EPTMPL263911;
    SELECT -interact A _EPTMPL263911 -eq 2 -outputlayer VALID;
    SELECT -interact -not A VALID -outputlayer _EPTMPL263913;
    SELECT -interact RPO _EPTMPL263913 ; // -outputlayer _EPTMPL263914
}

RULE NWROD.R.7 {
    CAPTION "OD space for NW with parallel length > 0 if NW space <= 5um";
    EXTE NWRES -le 5 -notch only -metric opposite -output region -outputlayer _EPTMPL263915;
    NOT _EPTMPL263915 NWRES -outputlayer _EPTMPL263916;
    SELECT -inside _EPTMPL263916 OD ; // -outputlayer _EPTMPL263917
}

RULE NWRSTI.EN.1 {
    CAPTION "NP enclosure of OD >= 0.4 um";
    ENC ODWR_STI NPWR_STI -lt "NWRSTI_EN_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL263918
    NOT ODWR_STI NPWR_STI ; // -outputlayer _EPTMPL263919
}

RULE NWRSTI.EN.2 {
    CAPTION "OD extension on NWRSTI >= 0.3 um";
    CAPTION "NWRSTI.EN.3 Enclosure of CO >= 0.3 um";
    AND ODWR_STI NWRES_STI -outputlayer X;
    ENC COWR_STI X -lt "NWRSTI_EN_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL263921
    NOT COWR_STI X ; // -outputlayer _EPTMPL263922
}

RULE NWRSTI.EX.1 {
    CAPTION "OD extension on NWRSTI >= 0.3 um";
    ENC NWRES_STI ODWR_STI -lt "NWRSTI_EX_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL263923
    EDGE_BOOLEAN -inside ODWR_STI NWRES_STI -outputlayer A;
    INTE A -lt "OD_W_1" -abut -eq 90 -output region -intersecting ONLY ; // -outputlayer _EPTMPL263925
    ANGLE A -eq 45 ; // -outputlayer _EPTMPL263926
    NOT NWRES_STI NWDMY -outputlayer _EPTMPL263927;
    NOT _EPTMPL263927 OD ; // -outputlayer _EPTMPL263928
}

RULE NWRSTI.O.1 {
    CAPTION "{NP interact with NWDMY} overlap of {PP, VTH_P, or VTL_P} (all p-type implant layers) is not allowed";
    SELECT -interact NP NWDMY -outputlayer A;
    AND A PP ; // -outputlayer _EPTMPL263930
    AND A VTHP ; // -outputlayer _EPTMPL263931
    AND A VTLP ; // -outputlayer _EPTMPL263932
}
AND NTN OD -outputlayer NTN_OD;
AND NTN POLY -outputlayer NTN_PO;
EDGE_BOOLEAN -inside NTN_PO NTN_OD -outputlayer NTN_GATE_W;
OR OD_25 OD_33 -outputlayer _EPTMPL263936;
EDGE_BOOLEAN -inside NTN_GATE_W _EPTMPL263936 -outputlayer NTN_2_3V_GATE_W;
EDGE_BOOLEAN -inside NTN_GATE_W OD_18 -outputlayer NTN_18V_GATE_W;

RULE NT_N.W.1 {
    CAPTION "Width >= 0.47 um";
    INTE NTN -lt "NT_N_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL263939
}

RULE NT_N.W.2 {
    CAPTION "Channel length of 1.0V native device >= 0.2 um";
    INTE NTN_GATE_W -lt "NT_N_W_2" -abut -lt 90 -output region ; // -outputlayer _EPTMPL263940
}

RULE NT_N.W.3 {
    CAPTION "Channel length of 2.5V/3.3V native device >= 1.2 um";
    INTE NTN_2_3V_GATE_W -lt "NT_N_W_3" -abut -lt 90 -output region ; // -outputlayer _EPTMPL263941
}

RULE NT_N.W.4 {
    CAPTION "Channel length of 1.8V native device >= 0.8 um";
    INTE NTN_18V_GATE_W -lt "NT_N_W_4" -abut -lt 90 -output region ; // -outputlayer _EPTMPL263942
}

RULE NT_N.W.5 {
    CAPTION "Channel width >= 0.5 um";
    EDGE_LENGTH NTN_GATE_W -lt "NT_N_W_5" ; // -outputlayer _EPTMPL263943
}

RULE NT_N.S.1 {
    CAPTION "Space >= 0.47 um";
    EXTE NTN -lt "NT_N_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL263944
}
NOT NTN INDDMY -outputlayer NTN_exc_ind;

RULE NT_N.S.2 {
    CAPTION "Space to [Active outside NT_N] >= 0.38 um";
    NOT DACT NTN -outputlayer A;
    EXTE NTN_exc_ind A -lt "NT_N_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL263947
}

RULE NT_N.S.3 {
    CAPTION "Space to NW >= 1.2 um";
    EXTE NTN NWi -lt "NT_N_S_3" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL263948
}

RULE NT_N.EN.1 {
    CAPTION "Enclosure range of N+OD >= 0.26 um <= 0.285 um";
    SELECT -interact NTN_exc_ind NPOD -outputlayer A;
    SELECT -interact NPOD NTN_exc_ind -outputlayer B;
    ENC B A -lt "NT_N_EN_1_L" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL263951
    SELECT -cut B A ; // -outputlayer _EPTMPL263952
    SIZE B -by "NT_N_EN_1_H" -outputlayer _EPTMPL263953;
    NOT A _EPTMPL263953 ; // -outputlayer _EPTMPL263954
}

RULE NT_N.EX.1 {
    CAPTION "PO extension on (OD inside NT_N) (PO endcap) >= 0.35 um";
    ENC NTN_OD POLY -lt "NT_N_EX_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL263955
}

RULE NT_N.A.1 {
    CAPTION "Area >= 0.64 um2";
    AREA NTNs -lt "NT_N_A_1" -outputlayer _EPTMPL263956;
    SELECT -inside -not _EPTMPL263956 SRAM_EXCLUDE ; // -outputlayer _EPTMPL263957
}
variable NT_N_A_2pre " ((NT_N_A_2 + (NT_N_S_1 * NT_N_S_1 * 3.142))/(2 * NT_N_S_1))   *((NT_N_A_2 + (NT_N_S_1 * NT_N_S_1 * 3.142))/(2 * NT_N_S_1))/3.141 ";

RULE NT_N.A.2 {
    CAPTION "Enclosed area >= 0.64 um2";
    HOLES NTN -inner -lt "NT_N_A_2pre" -outputlayer A;
    NOT A NTN -outputlayer B;
    AREA B -lt "NT_N_A_2" ; // -outputlayer _EPTMPL263960
}

RULE NT_N.A.3 {
    CAPTION "Area [one of edge length < 0.8 um] >= 1 um2";
    EDGE_LENGTH NTNs -lt "NT_N_A_3_L" -outputlayer X;
    SELECT -with_edge NTNs X -outputlayer Y;
    AREA Y -lt "NT_N_A_3" ; // -outputlayer _EPTMPL263963
}
variable NT_N_A_4pre " ((NT_N_A_4 + (NT_N_S_1 * NT_N_S_1 * 3.142))/(2 * NT_N_S_1))   *((NT_N_A_4 + (NT_N_S_1 * NT_N_S_1 * 3.142))/(2 * NT_N_S_1))/3.141 ";

RULE NT_N.A.4 {
    CAPTION "Enclosed Area [one of the enclosed edge length < 0.8 um] >= 1 um2";
    HOLES NTNs -inner -lt "NT_N_A_4pre" -outputlayer A;
    EDGE_LENGTH A -lt "NT_N_A_4_L" -outputlayer X;
    SELECT -with_edge A X -outputlayer Y;
    NOT Y NT_Ni -outputlayer B;
    AREA B -lt "NT_N_A_4" -outputlayer _EPTMPL263968;
    SELECT -inside -not _EPTMPL263968 SRAM_EXCLUDE ; // -outputlayer _EPTMPL263969
}

RULE NT_N.R.1 {
    CAPTION "Overlap of (NW or DNW) is not allowed";
    AND NTN DNW ; // -outputlayer _EPTMPL263970
    AND NTN NWEL ; // -outputlayer _EPTMPL263971
}

RULE NT_N.R.2 {
    CAPTION "P+Gate is not allowed in NT_N";
    AND NTN GATE_PP ; // -outputlayer _EPTMPL263972
}

RULE NT_N.R.3 {
    CAPTION "Only one OD is allowed in NT_N";
    CAPTION "Except NMOS capacitors with the same potential";
    CAPTION "You have to draw a NCap_NTN layer to cover the NMOS capacitors. The NCap_NTN enclosure of OD have to be >= 0 um.";
    CAPTION "DRC also flags NCap_NTN and OD, which is outside of the NCap_NTN in the same NT_N.";
    SELECT -cut NTN_exc_ind OD -gt 1 -outputlayer A;
    SELECT -interact -not A NCap_NTN ; // -outputlayer _EPTMPL263974
    SELECT -interact A NCap_NTN -outputlayer B;
    SELECT -interact OD B -outputlayer C;
    NOT NCap_NTN OD ; // -outputlayer _EPTMPL263977
    NOT C NCap_NTN ; // -outputlayer _EPTMPL263978
    NOT NCap_NTN NTN ; // -outputlayer _EPTMPL263979
    SELECT -interact A NSDc -gt 1 -by_net ; // -outputlayer _EPTMPL263980
}

RULE DNW.W.1 {
    CAPTION "Width >= 3";
    INTE DNW -lt "DNW_W_1" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL263981;
    SELECT -inside -not _EPTMPL263981 SRAM_EXCLUDE ; // -outputlayer _EPTMPL263982
}

RULE DNW.S.1 {
    CAPTION "Space >= 3.5";
    EXTE DNW -lt "DNW_S_1" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL263983;
    SELECT -inside -not _EPTMPL263983 SRAM_EXCLUDE ; // -outputlayer _EPTMPL263984
}

RULE DNW.S.2 {
    CAPTION "Space to NW with different potential >= 2.5";
    EXTE DNW NWEL -lt "DNW_S_2" -abut -lt 90 -not_connected -single_point -output region -measure all -outputlayer _EPTMPL263985;
    SELECT -inside -not _EPTMPL263985 SRAM_EXCLUDE ; // -outputlayer _EPTMPL263986
}

RULE DNW.S.3 {
    CAPTION "Space to {N+ACTIVE outside DNW} except dummy TCD region >= 1.65";
    SELECT -outside NACT DNW -outputlayer A;
    EXTE DNW A -lt "DNW_S_3" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL263988;
    SELECT -inside -not _EPTMPL263988 TCDDMY ; // -outputlayer _EPTMPL263989
}
SELECT -inside PWEL DNW -outputlayer RW;
SELECT -inside -not PWEL DNW -outputlayer PWELx;
SELECT -outside RW OD2 -outputlayer RW1V;
SELECT -outside -not RW OD2 -outputlayer RW2V;
STAMP RW1V RWi -outputlayer RW1V_NODAL;
STAMP RW2V RWi -outputlayer RW2V_NODAL;
STAMP PWELx PWELi -outputlayer PWEL_NODAL;

RULE DNW.S.4 {
    CAPTION " RW space to {RW OR PW} with different potential >= 1 um";
    EXTE RW1V_NODAL -lt "DNW_S_4" -abut -lt 90 -not_connected -single_point -output region -outputlayer _EPTMPL263997;
    SELECT -inside -not _EPTMPL263997 SRAM_EXCLUDE ; // -outputlayer _EPTMPL263998
    EXTE RW1V_NODAL PWEL_NODAL -lt "DNW_S_4" -abut -lt 90 -not_connected -single_point -output region -outputlayer _EPTMPL263999;
    SELECT -inside -not _EPTMPL263999 SRAM_EXCLUDE ; // -outputlayer _EPTMPL264000
}

RULE DNW.S.5 {
    CAPTION "{RW OR PW} space to {RW interact with OD2} with different potential >= 1.2 um";
    EXTE RW2V_NODAL -lt "DNW_S_5" -abut -lt 90 -not_connected -single_point -output region -outputlayer _EPTMPL264001;
    SELECT -inside -not _EPTMPL264001 SRAM_EXCLUDE ; // -outputlayer _EPTMPL264002
    EXTE RW2V_NODAL RW1V_NODAL -lt "DNW_S_5" -abut -lt 90 -not_connected -single_point -output region -outputlayer _EPTMPL264003;
    SELECT -inside -not _EPTMPL264003 SRAM_EXCLUDE ; // -outputlayer _EPTMPL264004
    EXTE RW2V_NODAL PWEL_NODAL -lt "DNW_S_5" -abut -lt 90 -not_connected -single_point -output region -outputlayer _EPTMPL264005;
    SELECT -inside -not _EPTMPL264005 SRAM_EXCLUDE ; // -outputlayer _EPTMPL264006
}

RULE DNW.EN.3 {
    CAPTION "Enclosure of N+ACTIVE >= 0.56";
    ENC NACT DNW -lt "DNW_EN_3" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL264007;
    SELECT -inside -not _EPTMPL264007 SRAM_EXCLUDE ; // -outputlayer _EPTMPL264008
}

RULE DNW.O.1 {
    CAPTION "Overlap of NW >= 0.4";
    INTE DNW NWEL -lt "DNW_O_1" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL264009;
    SELECT -inside -not _EPTMPL264009 SRAM_EXCLUDE ; // -outputlayer _EPTMPL264010
}

RULE DNW.R.5 {
    CAPTION "N+ACTIVE cut DNW is not allowed.";
    SELECT -cut NACT DNW ; // -outputlayer _EPTMPL264011
}

RULE OD.W.1 {
    CAPTION "Width >= 0.08 um";
    INTE OD -lt "OD_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264012
}

RULE OD.W.2 {
    CAPTION "Width of MOS (<=1.2V)[for core device] >= 0.12 um";
    EDGE_LENGTH GATE_W -lt "OD_W_2" ; // -outputlayer _EPTMPL264013
}

RULE OD.W.3 {
    CAPTION "Width of MOS (>1.2V to <=3.3V)[for I/O device] >= 0.4 um";
    EDGE_LENGTH HV_GATE_W -lt "OD_W_3" ; // -outputlayer _EPTMPL264014
}
ANGLE OD -eq 45 -outputlayer OD_EDGE_45;

RULE OD.W.4 {
    CAPTION "Width of 45 degree bent OD Please make sure the vertex of 45 degree pattern is on 5nm grid >= 0.18 um";
    INTE OD_EDGE_45 -lt "OD_W_4" -abut -lt 90 -output region ; // -outputlayer _EPTMPL264016
}

RULE OD.S.1 {
    CAPTION "Spacing >= 0.11 um";
    EXTE OD -lt "OD_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264017
}
EDGE_BOOLEAN -inside OD OD2 -outputlayer HV_OD_E;

RULE OD.S.2 {
    CAPTION "Spacing (inside OD2) >= 0.18 um";
    EXTE HV_OD_E -lt "OD_S_2" -abut -lt 90 -output region ; // -outputlayer _EPTMPL264019
}
SIZE OD -by "OD_S_3_W/2" -underover -outputlayer _EPTMPL264020;
AND _EPTMPL264020 OD -outputlayer Wide_OD_0.15;

RULE OD.S.3 {
    CAPTION "Space of two ODs (width (W) > 0.15 um), if the parallel length (L) >= 0.2 um >= 0.13 um";
    EXTE Wide_OD_0.15 -lt "OD_S_3" -metric opposite -output region -outputlayer OD_SPACE_BOTH;
    SELECT -enclose_rect OD_SPACE_BOTH -width OD_S_1 -length OD_S_3_L ; // -outputlayer _EPTMPL264023
}

RULE OD.S.3.1 {
    CAPTION "Space to OD (width (W) > 0.15 um), if the parallel length (L) >= 0.2 um >= 0.125 um";
    EXTE Wide_OD_0.15 OD -lt "OD_S_3_1" -metric opposite -output region -outputlayer OD_SPACE_ONE;
    SELECT -enclose_rect OD_SPACE_ONE -width OD_S_1 -length OD_S_3_L ; // -outputlayer _EPTMPL264025
}

RULE OD.S.4 {
    CAPTION "Space to 45 degree bent OD >= 0.18 um";
    EDGE_EXPAND OD_EDGE_45 -outside_by "OD_S_4" -outputlayer X;
    AND X OD ; // -outputlayer _EPTMPL264027
}

RULE OD.S.5 {
    CAPTION "Space between two segments of U-shape or O-shape (notch only) >= 0.18 um";
    CONVEX_EDGE OD -angle1 -eq 270 -angle2 -eq 270 -with_length -lt "OD_S_5" ; // -outputlayer _EPTMPL264028
}

RULE OD.A.1 {
    CAPTION "Area >= 0.054 um2";
    AREA ODs -lt "OD_A_1" -outputlayer _EPTMPL264029;
    SELECT -inside -not _EPTMPL264029 SRAM_EXCLUDE ; // -outputlayer _EPTMPL264030
}
variable OD_A_2pre " ((OD_A_2 + (OD_S_1 * OD_S_1 * 3.142))/(2 * OD_S_1))   *((OD_A_2 + (OD_S_1 * OD_S_1 * 3.142))/(2 * OD_S_1))/3.141 ";

RULE OD.A.2 {
    CAPTION "Enclosed area >= 0.085 um2";
    HOLES OD -inner -lt "OD_A_2pre" -outputlayer A;
    NOT A OD -outputlayer B;
    AREA B -lt "OD_A_2" ; // -outputlayer _EPTMPL264033
}

RULE OD.L.1 {
    CAPTION "Maximum length of {ACTIVE (source) [width < 0.15 um] interacts with butted_STRAP} <= 0.5 um";
    EDGE_LENGTH NP_PP_BTE -lt "OD_L_1_W" -outputlayer BUTTED_EDGE;
    SELECT -with_edge SD BUTTED_EDGE -outputlayer CHECK_SD;
    EDGE_BOOLEAN -coincident_only -inside CHECK_SD OD -outputlayer _EPTMPL264036;
    INTE _EPTMPL264036 -lt "OD_L_1_W" -abut -lt 90 -metric opposite -output region -outputlayer NARROW_SD;
    SELECT -with_edge NARROW_SD BUTTED_EDGE -outputlayer _EPTMPL264038;
    SELECT -with_edge NARROW_SD GATE_W -outputlayer _EPTMPL264039;
    OR _EPTMPL264038 _EPTMPL264039 -outputlayer CHECK_OD;
    EDGE_BOOLEAN -coincident_only -inside OD CHECK_OD -outputlayer _EPTMPL264041;
    PATH_LENGTH _EPTMPL264041 -gt "OD_L_1" ; // -outputlayer _EPTMPL264042
}

RULE OD.L.2 {
    CAPTION "Maximum OD length [OD width is < 0.15 um] between two contacts as well as between one contact and the OD line end <= 25 um";
    AREA INOD -gt "OD_W_1 * OD_L_2" -outputlayer LONGP;
    SELECT -interact LONGP COOD -outputlayer X;
    SELECT -interact COOD X -outputlayer CHECK_COOD;
    SIZE CHECK_COOD -by "OD_L_2 / 2" -inside_of X -step "OD_S_1*0.7" -outputlayer A;
    SELECT -interact X A -eq 1 -outputlayer LINEN;
    SELECT -interact X A -gt 1 -outputlayer P2P;
    SELECT -interact A LINEN -outputlayer B;
    SIZE B -by "OD_L_2 / 2" -inside_of LINEN -step "OD_S_1*0.7" -outputlayer C;
    NOT LINEN C -outputlayer _EPTMPL264051;
    NOT P2P A -outputlayer _EPTMPL264052;
    OR _EPTMPL264051 _EPTMPL264052 -outputlayer BAD;
    EDGE_BOOLEAN -coincident_only -inside BAD OD -outputlayer BAD_EDGE;
    INTE BAD_EDGE -lt "OD_L_2_W" -abut -lt 90 -output region -outputlayer ERR;
    SELECT -interact X ERR ; // -outputlayer _EPTMPL264056
}

RULE OD.R.1 {
    CAPTION "OD must be fully covered by {NP OR PP} except for {DOD OR NWDMY}";
    SELECT -interact -not OD NWRES -outputlayer _EPTMPL264057;
    NOT _EPTMPL264057 LOGO -outputlayer _EPTMPL264058;
    NOT _EPTMPL264058 IMP ; // -outputlayer _EPTMPL264059
}

RULE DOD.W.1 {
    CAPTION "Width >= 0.5 um";
    INTE DOD -lt "DOD_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264060
}

RULE DOD.S.1 {
    CAPTION "Space of DOD >= 0.4";
    EXTE DOD -lt "DOD_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264061
}

RULE DOD.S.2 {
    CAPTION "Space to OD >= 0.34 um (Overlap is not allowed)";
    EXTE ODi DOD -lt "DOD_S_2" -abut -lt 90 -single_point -output region -inside_also ; // -outputlayer _EPTMPL264062
}

RULE DOD.S.3 {
    CAPTION "Space to PO >= 0.3 um (Overlap is not allowed)";
    EXTE POi DOD -lt "DOD_S_3" -abut -lt 90 -single_point -output region -inside_also ; // -outputlayer _EPTMPL264063
}

RULE DOD.S.5 {
    CAPTION "Space to NW >= 0.3 um";
    EXTE NWi DOD -lt "DOD_S_5" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264064
}

RULE DOD.S.6 {
    CAPTION "Space to FW (Overlap is not allowed) >= 1.2 um";
    EXTE FWi DOD -lt "DOD_S_6" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264065
    AND FWi DOD ; // -outputlayer _EPTMPL264066
}

RULE DOD.S.7 {
    CAPTION "Space to LMARK (Overlap is not allowed) >= 1.2 um";
    EXTE LMARK_SOLID DOD -lt "DOD_S_7" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264067
    AND LMARK_SOLID DOD ; // -outputlayer _EPTMPL264068
}

RULE DOD.S.7.1 {
    CAPTION "Space to L-slot (Overlap is not allowed) >= 5 um";
    EXTE LSLOT DOD -lt "DOD_S_7_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264069
    AND LSLOT DOD ; // -outputlayer _EPTMPL264070
}

RULE DOD.S.8 {
    CAPTION "Space to NWDMY (Overlap is not allowed) >= 0.6 um";
    EXTE NWDMY DOD -lt "DOD_S_8" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264071
    AND NWDMY DOD ; // -outputlayer _EPTMPL264072
}

RULE DOD.S.9 {
    CAPTION "Space to LOGO (Overlap is not allowed) >= 0 um";
    AND LOGO DOD ; // -outputlayer _EPTMPL264073
}

RULE DOD.S.10 {
    CAPTION "Space to INDDMY (Overlap is not allowed) >= 1.2 um";
    EXTE INDDMY DOD -lt "DOD_S_10" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264074
    AND INDDMY DOD ; // -outputlayer _EPTMPL264075
}

RULE DOD.EN.1 {
    CAPTION "Enclosure by NW >= 0.3 um (DOD CUT NW is not allowed)";
    ENC DOD NWi -lt "DOD_EN_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264076
    SELECT -cut DOD NWi ; // -outputlayer _EPTMPL264077
}

RULE DOD.EN.2 {
    CAPTION "Enclosure by chip edge >= 0.6 um";
    SIZE CHIP_CHAMFERED -by -DOD_EN_2 -outputlayer _EPTMPL264078;
    NOT DOD _EPTMPL264078 ; // -outputlayer _EPTMPL264079
}

RULE OD.DN.1 {
    CAPTION "Min {OD OR DOD} density across full chip >= 25%";
    DENSITY ALL_OD CHIP -lt OD_DN_1L -inside_of layer CHIPx -print "OD.DN.1L.density" -expr "  AREA(ALL_OD)/AREA(CHIP)  " ; // -outputlayer _EPTMPL264080
}

RULE OD.DN.1.1 {
    CAPTION "{OD OR DOD} density across full chip <= 75%";
    DENSITY ALL_OD CHIP -gt OD_DN_1H -inside_of layer CHIPx -print "OD.DN.1H.density" -expr "  AREA(ALL_OD)/AREA(CHIP)  " ; // -outputlayer _EPTMPL264081
}
OR NWDMY DEN_EXC -outputlayer OD_EXC;
NOT ALL_OD OD_EXC -outputlayer ODx;
NOT CHIP OD_EXC -outputlayer CHIP_NOT_ODEXC;

RULE OD.DN.2 {
    CAPTION "Min. OD density over window 150 step 75 >= 20%";
    DENSITY ODx CHIP_NOT_ODEXC -lt OD_DN_2L -window "OD_DN_2L_W" -step "OD_DN_2L_S" -inside_of layer CHIPx -backup -expr "  AREA(ODx)/AREA(CHIP_NOT_ODEXC)  " -outputlayer ERR_WIN;
    NOT ERR_WIN OD_EXC -outputlayer _EPTMPL264086;
    WITH_WIDTH _EPTMPL264086 -ge "OD_DN_2L_E" -outputlayer F;
    DENSITY F ODx CHIP_NOT_ODEXC -lt OD_DN_2L -window "OD_DN_2L_W" -step "OD_DN_2L_S" -inside_of layer CHIPx -backup -print "OD.DN.2L.density" -expr "  ! AREA(F)+AREA(ODx)/AREA(CHIP_NOT_ODEXC)  " ; // -outputlayer _EPTMPL264088
}

RULE OD.DN.2.2 {
    CAPTION "Max. OD density over window 150 step 75 <= 90%";
    DENSITY ODx CHIP_NOT_ODEXC -gt OD_DN_2H -window "OD_DN_2H_W" -step "OD_DN_2H_S" -inside_of layer CHIPx -backup -expr "  AREA(ODx)/AREA(CHIP_NOT_ODEXC)  " -outputlayer ERR_WIN;
    NOT ERR_WIN OD_EXC -outputlayer _EPTMPL264090;
    WITH_WIDTH _EPTMPL264090 -ge "OD_DN_2H_E" -outputlayer F;
    DENSITY F ODx CHIP_NOT_ODEXC -gt OD_DN_2H -window "OD_DN_2H_W" -step "OD_DN_2H_S" -inside_of layer CHIPx -backup -print "OD.DN.2H_IO.density" -expr "  !! AREA(F)*AREA(ODx)/AREA(CHIP_NOT_ODEXC)  " ; // -outputlayer _EPTMPL264092
}
NOT ODx OD2 -outputlayer ODx_MAX_CORE;
NOT CHIP_NOT_ODEXC OD2 -outputlayer CHIP_MAX_CORE;

RULE OD.DN.2.1 {
    CAPTION "Maximum {OD OR DOD} local density (outside OD2) <= 80%";
    DENSITY ODx_MAX_CORE CHIP_MAX_CORE -gt OD_DN_2H_CORE -window "OD_DN_2H_W" -step "OD_DN_2H_S" -inside_of layer CHIPx -backup -expr "  AREA(ODx_MAX_CORE)/AREA(CHIP_MAX_CORE)  " -outputlayer ERR_WIN;
    NOT ERR_WIN OD2 -outputlayer _EPTMPL264096;
    NOT _EPTMPL264096 OD_EXC -outputlayer _EPTMPL264097;
    WITH_WIDTH _EPTMPL264097 -ge "OD_DN_2H_E" -outputlayer F;
    DENSITY F ODx_MAX_CORE CHIP_MAX_CORE -gt OD_DN_2H_CORE -window "OD_DN_2H_W" -step "OD_DN_2H_S" -inside_of layer CHIPx -backup -print "OD.DN.2H_CORE.density" -expr "  !!AREA(F)*AREA(ODx_MAX_CORE)/AREA(CHIP_MAX_CORE)  " ; // -outputlayer _EPTMPL264099
}

RULE OD.DN.3 {
    CAPTION "Min. OD density over window 150 step 75 >= 20% (within ODBLK)";
    DENSITY ODx CHIP_NOT_ODEXC -lt OD_DN_3L -window "OD_DN_3L_W" -step "OD_DN_3L_S" -inside_of layer CHIPx -backup -expr "  AREA(ODx)/AREA(CHIP_NOT_ODEXC)  " -outputlayer ERR_WIN;
    AND ERR_WIN ODBLK -outputlayer _EPTMPL264101;
    NOT _EPTMPL264101 OD_EXC -outputlayer _EPTMPL264102;
    WITH_WIDTH _EPTMPL264102 -ge "OD_DN_3L_E" -outputlayer F;
    DENSITY F ODx CHIP_NOT_ODEXC -lt OD_DN_3L -window "OD_DN_3L_W" -step "OD_DN_3L_S" -inside_of layer CHIPx -backup -print "OD.DN.3L.density" -expr "  ! AREA(F)+AREA(ODx)/AREA(CHIP_NOT_ODEXC)  " ; // -outputlayer _EPTMPL264104
}

RULE OD.DN.3.2 {
    CAPTION "Max. OD density over window 150 step 75 <= 90% (within ODBLK)";
    DENSITY ODx CHIP_NOT_ODEXC -gt OD_DN_3H -window "OD_DN_3H_W" -step "OD_DN_3H_S" -inside_of layer CHIPx -backup -expr "  AREA(ODx)/AREA(CHIP_NOT_ODEXC)  " -outputlayer ERR_WIN;
    AND ERR_WIN ODBLK -outputlayer _EPTMPL264106;
    NOT _EPTMPL264106 OD_EXC -outputlayer _EPTMPL264107;
    WITH_WIDTH _EPTMPL264107 -ge "OD_DN_3H_E" -outputlayer F;
    DENSITY F ODx CHIP_NOT_ODEXC -gt OD_DN_3H -window "OD_DN_3H_W" -step "OD_DN_3H_S" -inside_of layer CHIPx -backup -print "OD.DN.3H_IO.density" -expr "  !! AREA(F)*AREA(ODx)/AREA(CHIP_NOT_ODEXC)  " ; // -outputlayer _EPTMPL264109
}

RULE OD.DN.3.1 {
    CAPTION "Maximum {OD OR DOD} local density inside ODBLK (outside OD2) <= 80% <= 80%";
    DENSITY ODx_MAX_CORE CHIP_MAX_CORE -gt OD_DN_3H_CORE -window "OD_DN_3H_W" -step "OD_DN_3H_S" -inside_of layer CHIPx -backup -expr "  AREA(ODx_MAX_CORE)/AREA(CHIP_MAX_CORE)  " -outputlayer ERR_WIN;
    AND ERR_WIN ODBLK -outputlayer _EPTMPL264111;
    NOT _EPTMPL264111 OD2 -outputlayer _EPTMPL264112;
    NOT _EPTMPL264112 OD_EXC -outputlayer _EPTMPL264113;
    WITH_WIDTH _EPTMPL264113 -ge "OD_DN_3H_E" -outputlayer F;
    DENSITY F ODx_MAX_CORE CHIP_MAX_CORE -gt OD_DN_3H_CORE -window "OD_DN_3H_W" -step "OD_DN_3H_S" -inside_of layer CHIPx -backup -print "OD.DN.3H_CORE.density" -expr "  !!AREA(F)*AREA(ODx_MAX_CORE)/AREA(CHIP_MAX_CORE)  " ; // -outputlayer _EPTMPL264115
}

RULE DOD.R.1 {
    CAPTION "DOD is must. DOD must be an individual CAD layer (datatype 1 as default, like 6,1)";
    SELECT -interact -not CHIPx DOD ; // -outputlayer _EPTMPL264116
}

RULE DOD.R.3 {
    CAPTION "Only square (or rectangular) and solid shapes are allowed. A 45-degree shape is not allowed.";
    RECT_CHK -not DOD -orthogonal_only ; // -outputlayer _EPTMPL264117
    HOLES DOD ; // -outputlayer _EPTMPL264118
}

RULE OD2.W.1 {
    CAPTION "Width >= 0.47 um";
    INTE OD_18 -lt "OD2_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264119
    INTE OD_25 -lt "OD2_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264120
    INTE OD_33 -lt "OD2_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264121
}

RULE OD2.W.2 {
    CAPTION "Width of (OD2 OR (NW OR NT_N)) >= 0.47 um";
    CAPTION "DRC filter out the errors only on NW.";
    OR OD2i NT_Ni -outputlayer Y;
    OR NWi Y -outputlayer X;
    INTE X -lt "OD2_W_2" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL264124;
    SELECT -inside -not _EPTMPL264124 SRAM_EXCLUDE -outputlayer A;
    SELECT -outside A SRAM_EXCLUDE -outputlayer _EPTMPL264126;
    SELECT -interact _EPTMPL264126 Y ; // -outputlayer _EPTMPL264127
    SELECT -cut A SRAM_EXCLUDE -outputlayer B;
    SELECT -interact X B -outputlayer _EPTMPL264129;
    NOT _EPTMPL264129 SRAM_EXCLUDE -outputlayer C;
    INTE C -lt "OD2_W_2" -abut -lt 90 -single_point -output region -outputlayer D;
    SELECT -interact B D -outputlayer _EPTMPL264132;
    SELECT -interact _EPTMPL264132 Y ; // -outputlayer _EPTMPL264133
}

RULE OD2.S.1 {
    CAPTION "Space >= 0.47 um";
    EXTE OD2 -lt "OD2_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264134
}

RULE OD2.S.2 {
    CAPTION "Space to {ACTIVE OR GATE} >= 0.27 um";
    OR DACT GATE -outputlayer DACTG;
    EXTE OD2 DACTG -lt "OD2_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264136
}

RULE OD2.S.3 {
    CAPTION "Space to 1.0V or 1.2V gate in S/D direction >= 0.34 um";
    EDGE_BOOLEAN -inside OD2 OD -outputlayer A;
    EXTE A GATE_W -lt "OD2_S_3" -abut -lt 90 -output region ; // -outputlayer _EPTMPL264138
    SELECT -cut GATE OD2 ; // -outputlayer _EPTMPL264139
    EDGE_BOOLEAN -inside LV_GATE_W VAR -outputlayer B;
    EXTE B OD2 -lt "OD2_S_3" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL264141
}

RULE OD2.S.4 {
    CAPTION "Space to NW. Space = 0 is allowed. >= 0.47 um";
    EXTE OD_18 NWEL -lt "OD2_S_4" -abut -ltgt 0 90 -single_point -output region ; // -outputlayer _EPTMPL264142
    EXTE OD_25 NWEL -lt "OD2_S_4" -abut -ltgt 0 90 -single_point -output region ; // -outputlayer _EPTMPL264143
    EXTE OD_33 NWEL -lt "OD2_S_4" -abut -ltgt 0 90 -single_point -output region ; // -outputlayer _EPTMPL264144
}

RULE OD2.S.5 {
    CAPTION "Space of (NW NOT OD2) >= 0.47 um";
    NOT NWi OD2i -outputlayer X;
    EXTE X -lt "OD2_S_5" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL264146;
    SELECT -inside -not _EPTMPL264146 SRAM_EXCLUDE ; // -outputlayer _EPTMPL264147
}

RULE OD2.S.6 {
    CAPTION "Space of (NW AND OD2) >= 0.47 um";
    AND NWi OD2i -outputlayer X;
    EXTE X -lt "OD2_S_6" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL264149;
    SELECT -inside -not _EPTMPL264149 SRAM_EXCLUDE ; // -outputlayer _EPTMPL264150
}

RULE OD2.S.7 {
    CAPTION "Space of (OD2 NOT (NW OR NT_N)) >= 0.47 um";
    OR NWi NT_Ni -outputlayer _EPTMPL264151;
    NOT OD2i _EPTMPL264151 -outputlayer X;
    EXTE X -lt "OD2_S_7" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL264153;
    SELECT -inside -not _EPTMPL264153 SRAM_EXCLUDE ; // -outputlayer _EPTMPL264154
}

RULE OD2.EN.1 {
    CAPTION "Enclosure of 1.8V or 2.5V or 3.3V Gate in S/D direction. >= 0.34 um";
    ENC GATE_W OD_18 -lt "OD2_EN_1" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL264155
    ENC GATE_W OD_25 -lt "OD2_EN_1" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL264156
    ENC GATE_W OD_33 -lt "OD2_EN_1" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL264157
}

RULE OD2.EX.1 {
    CAPTION "NW extension on OD2. Extension = 0 is allowed. >= 0.47 um";
    ENC OD_18 NWEL -lt "OD2_EX_1" -abut -ltgt 0 90 -single_point -output region ; // -outputlayer _EPTMPL264158
    ENC OD_25 NWEL -lt "OD2_EX_1" -abut -ltgt 0 90 -single_point -output region ; // -outputlayer _EPTMPL264159
    ENC OD_33 NWEL -lt "OD2_EX_1" -abut -ltgt 0 90 -single_point -output region ; // -outputlayer _EPTMPL264160
}

RULE OD2.EX.2 {
    CAPTION "Extension on NW. Extension = 0 is allowed. >= 0.47 um";
    ENC NWEL OD_18 -lt "OD2_EX_2" -abut -ltgt 0 90 -single_point -output region ; // -outputlayer _EPTMPL264161
    ENC NWEL OD_25 -lt "OD2_EX_2" -abut -ltgt 0 90 -single_point -output region ; // -outputlayer _EPTMPL264162
    ENC NWEL OD_33 -lt "OD2_EX_2" -abut -ltgt 0 90 -single_point -output region ; // -outputlayer _EPTMPL264163
}

RULE OD2.EX.3 {
    CAPTION "Extension on {ACTIVE OR GATE} >= 0.27 um";
    OR DACT GATE -outputlayer DACTG;
    ENC DACTG OD_18 -lt "OD2_EX_3" -abut -lt 90 -single_point -output positive1 -outputlayer CHECK_EDGE_18;
    EDGE_BOOLEAN -coincident_only -outside -not CHECK_EDGE_18 DSTP ; // -outputlayer _EPTMPL264166
    ENC DACTG OD_25 -lt "OD2_EX_3" -abut -lt 90 -single_point -output positive1 -outputlayer CHECK_EDGE_25;
    EDGE_BOOLEAN -coincident_only -outside -not CHECK_EDGE_25 DSTP ; // -outputlayer _EPTMPL264168
    ENC DACTG OD_33 -lt "OD2_EX_3" -abut -lt 90 -single_point -output positive1 -outputlayer CHECK_EDGE_33;
    EDGE_BOOLEAN -coincident_only -outside -not CHECK_EDGE_33 DSTP ; // -outputlayer _EPTMPL264170
    SELECT -inside OD_18 DACTG ; // -outputlayer _EPTMPL264171
    SELECT -inside OD_25 DACTG ; // -outputlayer _EPTMPL264172
    SELECT -inside OD_33 DACTG ; // -outputlayer _EPTMPL264173
}

RULE OD2.O.1 {
    CAPTION "Overlap of NW. Overlap = 0 is allowed. >= 0.47 um";
    AND OD_18 NWEL -outputlayer X;
    INTE X -lt "OD2_O_1" -abut -lt 89.5 -single_point -output region ; // -outputlayer _EPTMPL264175
    AND OD_25 NWEL -outputlayer Y;
    INTE Y -lt "OD2_O_1" -abut -lt 89.5 -single_point -output region ; // -outputlayer _EPTMPL264177
    AND OD_33 NWEL -outputlayer Z;
    INTE Z -lt "OD2_O_1" -abut -lt 89.5 -single_point -output region ; // -outputlayer _EPTMPL264179
}

RULE OD2.R.1 {
    CAPTION "OD_33, OD_25, and OD_18 can not be used on the same die.";
    SELECT -interact CHIPx OD_25 -outputlayer X;
    SELECT -interact X OD_18 ; // -outputlayer _EPTMPL264181
    SELECT -interact X OD_33 ; // -outputlayer _EPTMPL264182
    SELECT -interact CHIPx OD_33 -outputlayer Y;
    SELECT -interact Y OD_18 ; // -outputlayer _EPTMPL264184
}
EDGE_BOOLEAN -inside 25V_GATE_W OD25_33 -outputlayer 25_33V_GATE_W;
EDGE_BOOLEAN -inside 25V_GATE_W OD25_18 -outputlayer 25_18V_GATE_W;

RULE OD25_33.W.1 {
    CAPTION "Channel length of 2.5V NMOS overdriven to 3.3V (NMOS Gate AND OD25_33) expect gate without PO CO in RFDMY >= 0.5 um";
    EDGE_BOOLEAN -inside 25_33V_GATE_W NP -outputlayer _EPTMPL264187;
    EDGE_BOOLEAN -coincident_only -inside -not _EPTMPL264187 RF_DUMMY_GATE -outputlayer 25_33V_GATE_W_NP;
    INTE 25_33V_GATE_W_NP -lt "OD25_33_W_1" -abut -lt 90 -output region ; // -outputlayer _EPTMPL264189
}

RULE OD25_33.W.2 {
    CAPTION "Channel length of 2.5V PMOS overdriven to 3.3V (PMOS Gate AND OD25_33) expect gate without PO CO in RFDMY>= 0.4 um";
    EDGE_BOOLEAN -inside 25_33V_GATE_W PP -outputlayer _EPTMPL264190;
    EDGE_BOOLEAN -coincident_only -inside -not _EPTMPL264190 RF_DUMMY_GATE -outputlayer 25_33V_GATE_W_PP;
    INTE 25_33V_GATE_W_PP -lt "OD25_33_W_2" -abut -lt 90 -output region ; // -outputlayer _EPTMPL264192
}

RULE OD25_33.R.1 {
    CAPTION "{GATE AND OD25_33} can't overlap OD_18,OD33,or OD25_18. {Gate AND OD25_33} must be covered by OD_25. OD25_33 can't cut GATE";
    AND GATE OD25_33 -outputlayer 25_33V_GATE;
    AND 25_33V_GATE OD_18 ; // -outputlayer _EPTMPL264194
    AND 25_33V_GATE OD_33 ; // -outputlayer _EPTMPL264195
    AND 25_33V_GATE OD25_18 ; // -outputlayer _EPTMPL264196
    NOT 25_33V_GATE OD_25 ; // -outputlayer _EPTMPL264197
    SELECT -cut GATE OD25_33 ; // -outputlayer _EPTMPL264198
}

RULE OD25_18.W.1 {
    CAPTION "Channel length of 2.5V MOS underdriven to 1.8V (Gate AND OD25_18) >= 0.26 um";
    INTE 25_18V_GATE_W -lt "OD25_18_W_1" -abut -lt 90 -output region ; // -outputlayer _EPTMPL264199
}

RULE OD25_18.R.1 {
    CAPTION "{GATE AND OD25_18} can't overlap OD_18 or OD33 or OD25_33. {Gate AND OD25_18} must be covered by OD_25. OD25_18 can't cut GATE";
    AND GATE OD25_18 -outputlayer 25_18V_GATE;
    AND 25_18V_GATE OD_18 ; // -outputlayer _EPTMPL264201
    AND 25_18V_GATE OD_33 ; // -outputlayer _EPTMPL264202
    AND 25_18V_GATE OD25_33 ; // -outputlayer _EPTMPL264203
    NOT 25_18V_GATE OD_25 ; // -outputlayer _EPTMPL264204
    SELECT -cut GATE OD25_18 ; // -outputlayer _EPTMPL264205
}
ANGLE POLY -eq 45 -outputlayer POLY_EDGE_45;

RULE PO.W.1 {
    CAPTION "Width >= 0.06 um";
    INTE POLY -lt "PO_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264207
}

RULE PO.S.1 {
    CAPTION "Space >= 0.12 um";
    EXTE POLY -lt "PO_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264208
}

RULE PO.S.2 {
    CAPTION "GATE space in the same OD >= 0.13 um.";
    EXTE GATE_W -lt "PO_S_2" -abut -lt 90 -output region ; // -outputlayer _EPTMPL264209
}

RULE PO.W.2 {
    CAPTION "Channel length of 2.5V MOS >= 0.28 um";
    OR OD25_18 OD25_33 -outputlayer _EPTMPL264210;
    EDGE_BOOLEAN -inside -not 25V_GATE_W _EPTMPL264210 -outputlayer 25V_GATE_W_NORMAL;
    INTE 25V_GATE_W_NORMAL -lt "PO_W_2" -abut -lt 90 -output region ; // -outputlayer _EPTMPL264212
}

RULE PO.W.3 {
    CAPTION "Channel length of 3.3V MOS except gate without PO CO in RFDMY >= 0.38 um";
    EDGE_BOOLEAN -coincident_only -inside -not 33V_GATE_W RF_DUMMY_GATE -outputlayer 33V_GATE_W_CHECK;
    INTE 33V_GATE_W_CHECK -lt "PO_W_3" -abut -lt 90 -output region ; // -outputlayer _EPTMPL264214
}

RULE PO.W.4 {
    CAPTION "Channel length of 1.8V MOS >= 0.2 um";
    INTE 18V_GATE_W -lt "PO_W_4" -abut -lt 90 -output region ; // -outputlayer _EPTMPL264215
}

RULE PO.W.5 {
    CAPTION "Width of 45 degree FIELD poly (expect PO fuse element, POFUSE, 156,0)>= 0.19 um";
    CAPTION "DRC will also flag the width < 0.08um in the POFUSE. Please make sure the vertex of 45 degree pattern is on 5nm grid";
    EDGE_BOOLEAN -inside -not POLY_EDGE_45 POFUSE -outputlayer A;
    INTE A -lt "PO_W_5" -abut -lt 90 -output region ; // -outputlayer _EPTMPL264217
    AND POi POFUSE -outputlayer EFUSE;
    INTE EFUSE -lt "PO_W_5_F" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264219
}

RULE PO.S.2.1 {
    CAPTION "Gate space [either one channel length > 0.09 um] >= 0.15 um";
    EDGE_LENGTH GATE_L -gt "PO_S_2_1_W" -outputlayer GATE_LL;
    SELECT -with_edge GATE GATE_LL -outputlayer GATE_F;
    EDGE_BOOLEAN -coincident_only -inside POLY GATE_F -outputlayer GATE_WW;
    EXTE GATE_W GATE_WW -lt "PO_S_2_1" -abut -lt 90 -output region ; // -outputlayer _EPTMPL264223
}

RULE PO.S.3 {
    CAPTION "Min. two 1.8V,2.5V or 3.3V POLY space on OD w/o contact >= 0.25 um";
    EXTE HV_GATE_W -lt "PO_S_3" -abut -lt 90 -output region ; // -outputlayer _EPTMPL264224
}

RULE PO.S.4 {
    CAPTION "Field PO space to OD >= 0.05 um";
    EXTE POLY OD -lt "PO_S_4" -abut -lt 89.5 -single_point -output region ; // -outputlayer _EPTMPL264225
}

RULE PO.S.4.1 {
    CAPTION "Gate space when the area enclosed by (L-shape OD & PO < 0.0121 um2) >= 0.15 um";
    EXTE GATE -lt "PO_S_4_1" -abut -lt 90 -output region -corner_corner ; // -outputlayer _EPTMPL264226
}
EDGE_LENGTH GATE_W -lt "PO_S_5_W" -outputlayer S_GATE_W1;
EDGE_EXPAND S_GATE_W1 -inside_by "GRID" -extend_by "OD_S_1" -outputlayer EX_GATEW_EDGE;
EDGE_BOOLEAN -coincident_only -inside EX_GATEW_EDGE POLY -outputlayer EX_GATEW_EDGE_T;

RULE PO.S.5 {
    CAPTION "Space to L-shape OD when PO & OD are in same MOS [channel width < 0.15 um] >= 0.1 um";
    EXTE OD EX_GATEW_EDGE_T -lt "PO_S_5" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL264230
}
SELECT -with_edge GATE S_GATE_W1 -outputlayer SU_GATE;
EDGE_BOOLEAN -coincident_only -inside OD SU_GATE -outputlayer OD_GATE_EDGE;
EDGE_EXPAND OD_GATE_EDGE -inside_by "GRID" -extend_by "PO_S_1" -outputlayer EX_ODGATE_EDGE;
EDGE_BOOLEAN -coincident_only -inside OD EX_ODGATE_EDGE -outputlayer _EPTMPL264234;
EDGE_SELECT -coincident_only -inside _EPTMPL264234 OD_GATE_EDGE -outputlayer EX_ODGATE_EDGE_T;

RULE PO.S.6 {
    CAPTION "L-shape PO space to OD when PO and OD are in same MOS [channel width < 0.15 um] >= 0.1 um";
    EXTE POLY EX_ODGATE_EDGE_T -lt "PO_S_6" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL264236
}

RULE PO.S.7 {
    CAPTION "Space if at least one PO width is > 0.13 um, and the PO parallel run length is > 0.18 um (individual projection) >= 0.18 um";
    SIZE POLY -by "PO_S_7_W/2" -underover -truncate "PO_S_7_W/2" -outputlayer _EPTMPL264237;
    AND _EPTMPL264237 POLY -outputlayer Wide_POLY;
    EXTE Wide_POLY POLY -lt "PO_S_7" -metric opposite -output region -measure all -outputlayer X;
    SELECT -enclose_rect X -width PO_S_1 - GRID -length PO_S_7_L + GRID -outputlayer Y;
    EDGE_BOOLEAN -coincident_only -outside Wide_POLY Y -outputlayer WideEdge;
    PATH_LENGTH WideEdge -gt "PO_S_7_L" -outputlayer A;
    EDGE_EXPAND A -by 0.001 -outputlayer B;
    BBOX B -outputlayer C;
    SELECT -enclose_rect C -width 0.001 -length PO_S_7_L + GRID -orthogonal_only -outputlayer D;
    EDGE_BOOLEAN -inside A D -outputlayer E;
    EXTE E POLY -lt "PO_S_7" -metric opposite -output region -measure all ; // -outputlayer _EPTMPL264247
}

RULE PO.S.9 {
    CAPTION "Space of {PO AND RPO} >= 0.25 um";
    EDGE_BOOLEAN -inside POLY RPO -outputlayer A;
    EXTE A -lt "PO_S_9" -abut -lt 90 -output region ; // -outputlayer _EPTMPL264249
}

RULE PO.S.10 {
    CAPTION "Space at PO line-end (W<Q1=0.090) in a dense-line-end configuration: If PO has parallel run length with opposite PO (measured with T1=0.035 extension) along 2 adjacent edges of PO [any one edge <Q1 distance from the corner of the two edges], then one of the space (S1 or S2) needs to be at least this value (except for small jog with edge length < 0.06 um(R)) >= 0.14 um";
    CONVEX_EDGE POLY -angle1 -eq 90 -angle2 -eq 90 -with_length -lt "PO_S_10_Q" -outputlayer A;
    EXTE A POLY -lt "PO_S_10" -abut -lt 90 -metric opposite_extended "PO_S_10_E" -output positive1 -outputlayer B;
    EDGE_SELECT -coincident_only -inside A B -outputlayer C;
    INTE C POLY -lt "PO_S_10_Q" -abut -eq 90 -intersecting ONLY -output positive2 -outputlayer D;
    EDGE_LENGTH D -ge "PO_W_1" -outputlayer I;
    EDGE_EXPAND I -inside_by 0.001 -extend_by "PO_S_10_E" -outputlayer J;
    EDGE_EXPAND I -inside_by 0.001 -outputlayer K;
    NOT J K -outputlayer L;
    SELECT -with_edge L A -outputlayer M;
    OR M K -outputlayer N;
    EDGE_SELECT -coincident_only N I -outputlayer O;
    EXTE O POLY -lt "PO_S_10" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL264261
}

RULE PO.S.15 {
    CAPTION "Large PO to gate [channel length <=0.08 um] space. The large PO is defined as PO area >=630 um and interact with regions of density > 70% flagged by 30 um x 30 um (stepping 15 um) window density check. DPO will be excluded from density check >= 1 um";
    AREA PO_EXC -ge "PO_S_15_A" -outputlayer A;
    BBOX A -outputlayer B;
    SIZE B -by 15 -outputlayer C;
    DENSITY PO_EXC -gt PO_S_15_DN -inside_of layer C -window 30 -step 15 -backup -outputlayer D;
    SELECT -interact A D -outputlayer E;
    INTE GATE_W -le "PO_S_15_L" -output positive1 -outputlayer GATE_W_S80;
    SELECT -with_edge GATE GATE_W_S80 -outputlayer GATE_S80;
    EXTE E GATE_S80 -lt "PO_S_15" -abut -lt 90 -output region ; // -outputlayer _EPTMPL264269
}

RULE PO.S.16 {
    CAPTION "Space to 45 degree FIELD poly >= 0.19 um";
    EDGE_EXPAND POLY_EDGE_45 -outside_by "PO_S_16" -outputlayer X;
    AND X POLY ; // -outputlayer _EPTMPL264271
}

RULE PO.EX.1 {
    CAPTION "Extension on OD (end-cap) >= 0.14 um";
    ENC OD POLY -lt "PO_EX_1" -abut -lt 89.5 -metric opposite -single_point -output region -outputlayer _EPTMPL264272;
    SELECT -inside -not _EPTMPL264272 LOGO ; // -outputlayer _EPTMPL264273
}

RULE PO.EX.2 {
    CAPTION "OD extension on PO >= 0.115 um";
    ENC POLY OD -lt "PO_EX_2" -abut -lt 89.5 -single_point -output region -outputlayer _EPTMPL264274;
    SELECT -inside -not _EPTMPL264274 LOGO ; // -outputlayer _EPTMPL264275
}

RULE PO.EX.3 {
    CAPTION "Extension on OD (end-cap) when the PO space to L-shape OD (in the same MOS) is < 0.1 um, and the channel width (W) is >= 0.15 um. >= 0.16 um";
    EDGE_LENGTH GATE_W -ge "PO_EX_3_W" -outputlayer A;
    EDGE_EXPAND A -inside_by "GRID" -extend_by "PO_EX_3" -outputlayer B;
    EDGE_EXPAND A -outside_by "GRID" -extend_by "PO_EX_3" -outputlayer C;
    EDGE_BOOLEAN -coincident_only -outside B C -outputlayer D;
    EXTE D OD -lt "PO_EX_3_S" -abut -lt 90 -metric opposite -output region -outputlayer E;
    EDGE_BOOLEAN -coincident_only -outside E FPO1 -outputlayer F;
    EDGE_EXPAND F -outside_by "GRID" -outputlayer G;
    EDGE_SELECT -coincident_only -outside GATE_L G -outputlayer H;
    EDGE_EXPAND H -outside_by "PO_EX_3" -outputlayer I;
    SELECT -interact I E -outputlayer J;
    NOT J POLY -outputlayer _EPTMPL264286;
    SELECT -inside -not _EPTMPL264286 LOGO ; // -outputlayer _EPTMPL264287
}

RULE PO.L.1 {
    CAPTION "Maximum PO length between 2 contacts, as well as the length bewteen one contact and the end of PO gate, when the PO width  < 0.13 um (except RTMOM region) <= 25 um";
    AREA ILP1 -gt "PO_W_1 * PO_L_1" -outputlayer LONGP;
    SELECT -interact LONGP COPO -outputlayer X;
    SELECT -interact COPO X -outputlayer CHECK_COPO;
    SIZE CHECK_COPO -by "PO_L_1 / 2" -inside_of X -step "PO_S_1*0.7" -outputlayer A;
    SELECT -interact X A -gt 1 -outputlayer P2P;
    NOT P2P A -outputlayer BAD;
    EDGE_BOOLEAN -coincident_only -inside BAD POLY -outputlayer BAD_EDGE;
    INTE BAD_EDGE -lt "PO_L_1_W" -abut -lt 90 -output region -outputlayer ERR;
    SELECT -interact X ERR -outputlayer _EPTMPL264296;
    NOT _EPTMPL264296 GATE -outputlayer X1;
    SELECT -interact CHECK_COPO X1 -outputlayer CHECK_COPO1;
    SIZE CHECK_COPO1 -by "PO_L_1 / 2" -inside_of X1 -step "PO_S_1*0.7" -outputlayer A1;
    SELECT -interact X1 A1 -gt 1 -outputlayer P2P1;
    NOT P2P1 A1 -outputlayer _EPTMPL264301;
    SELECT -interact _EPTMPL264301 A1 -gt 1 -outputlayer BAD1;
    EDGE_BOOLEAN -coincident_only -inside BAD1 POLY -outputlayer BAD_EDGE1;
    INTE BAD_EDGE1 -lt "PO_L_1_W" -abut -lt 90 -output region -outputlayer ERR1;
    SELECT -interact X1 ERR1 ; // -outputlayer _EPTMPL264305
    EDGE_LENGTH GATE_L -lt "PO_L_1_W" -outputlayer _EPTMPL264306;
    SELECT -with_edge GATE _EPTMPL264306 -outputlayer _EPTMPL264307;
    AND _EPTMPL264307 X -outputlayer NARROW_GATE;
    SIZE A -by "PO_L_1 / 2" -inside_of X -step "PO_S_1*0.7" -outputlayer B;
    NOT NARROW_GATE B -outputlayer _EPTMPL264310;
    SELECT -inside -not _EPTMPL264310 RTMOMDMY ; // -outputlayer _EPTMPL264311
}

RULE PO.A.1 {
    CAPTION "Area >= 0.042 um2";
    AREA POLYs -lt "PO_A_1" -outputlayer _EPTMPL264312;
    SELECT -inside -not _EPTMPL264312 SRAM_EXCLUDE ; // -outputlayer _EPTMPL264313
}

RULE PO.A.1.1 {
    CAPTION "Area {PO not interacting with gate} >= 0.051 um2";
    SELECT -interact -not POLYs GATE -outputlayer POLY_NOT_GATE;
    AREA POLY_NOT_GATE -lt "PO_A_1_1" -outputlayer _EPTMPL264315;
    SELECT -inside -not _EPTMPL264315 SRAM_EXCLUDE ; // -outputlayer _EPTMPL264316
}
variable PO_A_2pre " ((PO_A_2 + (PO_S_1 * PO_S_1 * 3.142))/(2 * PO_S_1))   *((PO_A_2 + (PO_S_1 * PO_S_1 * 3.142))/(2 * PO_S_1))/3.141 ";

RULE PO.A.2 {
    CAPTION "Enclosed area >= 0.094 um2";
    HOLES POLY -inner -lt "PO_A_2pre" -outputlayer A;
    NOT A POLY -outputlayer B;
    AREA B -lt "PO_A_2" ; // -outputlayer _EPTMPL264319
}

RULE PO.DN.1 {
    CAPTION "Min. POLY density across full chip >= 14%";
    DENSITY ALL_POLY CHIP -lt PO_DN_1_L -inside_of layer CHIPx -print "PO.DN.1L.density" -expr "  AREA(ALL_POLY)/AREA(CHIP)  " ; // -outputlayer _EPTMPL264320
}

RULE PO.DN.1.1 {
    CAPTION "Max. poly density across full chip <= 40%";
    DENSITY ALL_POLY CHIP -gt PO_DN_1_H -inside_of layer CHIPx -print "PO.DN.1H.density" -expr "  AREA(ALL_POLY)/AREA(CHIP)  " ; // -outputlayer _EPTMPL264321
}
OR ALL_OD ALL_POLY -outputlayer ALL_POD;
OR ODBLK POBLK -outputlayer _EPTMPL264323;
OR _EPTMPL264323 NWDMY -outputlayer _EPTMPL264324;
OR _EPTMPL264324 DEN_EXC -outputlayer PODEXC;
NOT ALL_POD PODEXC -outputlayer PODx;
NOT CHIP PODEXC -outputlayer CHIP_NOT_PODEXC;

RULE PO.DN.2 {
    CAPTION "{OD OR DOD OR PO OR DPO } local density (minimun) over window 20um x 20um stepping 10um >= 0.1%";
    DENSITY ALL_POD CHIP -lt PO_DN_2 -window "PO_DN_2_W" -step "PO_DN_2_S" -inside_of layer CHIPx -backup -expr "  AREA(ALL_POD)/AREA(CHIP)  " -outputlayer ERR_WIN;
    NOT ERR_WIN PODEXC -outputlayer _EPTMPL264329;
    WITH_WIDTH _EPTMPL264329 -ge "PO_DN_2_E" -outputlayer F;
    DENSITY F ALL_POD CHIP -lt PO_DN_2 -window "PO_DN_2_W" -step "PO_DN_2_S" -inside_of layer CHIPx -backup -print "PO.DN.2.density" -expr "  ! AREA(F)+AREA(ALL_POD)/AREA(CHIP)  " ; // -outputlayer _EPTMPL264331
}
NOT ALL_POLY DEN_EXC -outputlayer POx;
NOT POi DEN_EXC -outputlayer PO_EXC;
NOT CHIP DEN_EXC -outputlayer CHIP_NOT_POEXC;
OR TCDDMY RFDMY -outputlayer _EPTMPL264335;
NOT POBLK _EPTMPL264335 -outputlayer CHECK_POBLK;
AND CHIP_NOT_POEXC CHECK_POBLK -outputlayer CHIP_POBLK;
AND POx CHECK_POBLK -outputlayer PO_POBLK;

RULE PO.DN.3 {
    CAPTION "PO density within POBLK expect {TCDDMY OR RFDMY}>= 14%";
    DENSITY PO_POBLK CHIP_POBLK -lt PO_DN_3 -print "PO.DN.3.density" -expr "  AREA(PO_POBLK)/AREA(CHIP_POBLK)  " -outputlayer A;
    AND A CHECK_POBLK ; // -outputlayer _EPTMPL264340
}

RULE PO.R.1 {
    CAPTION "GATE must be a rectangle orthogonal to grid. (Both bent GATE and Gate to have jog are not allowed) V";
    RECT_CHK -not GATE -orthogonal_only -outputlayer _EPTMPL264341;
    SELECT -inside -not _EPTMPL264341 LOGO ; // -outputlayer _EPTMPL264342
}

RULE PO.R.4 {
    CAPTION "PO intersecting OD must form two or more diffusions except RTMOM region (RTMOMDMY, CAD layer: 155,21)";
    EDGE_BOOLEAN -inside GATE OD -outputlayer GATEW;
    SELECT -with_edge -not GATE GATEW -eq 2 -outputlayer X;
    INTE GATEW -lt "GRID" -abut -eq 90 -intersecting ONLY -output region -outputlayer A;
    SELECT -interact GATE A -outputlayer _EPTMPL264346;
    OR X _EPTMPL264346 -outputlayer _EPTMPL264347;
    NOT _EPTMPL264347 LOGO -outputlayer _EPTMPL264348;
    NOT _EPTMPL264348 RTMOMDMY ; // -outputlayer _EPTMPL264349
}

RULE PO.R.6 {
    CAPTION "H-gate forbidden with channel length (V) < 0.11 mm, PO center bar length (U) < 0.425 mm, all four H-legs length (X) > 0.065 mm, and all four H-legs width (Y) < 0.255 um.";
    CONVEX_EDGE POLY -angle1 -eq 270 -angle2 -eq 270 -outputlayer A1;
    EDGE_LENGTH A1 -ltge "PO_S_1" "PO_R_6_U" -outputlayer A;
    EDGE_BOOLEAN -inside A OD -outputlayer B;
    EDGE_SELECT -coincident_only POLY B -outputlayer C;
    INTE POLY -lt "PO_R_6_V" -metric opposite -output positive1 -outputlayer D;
    EDGE_SELECT -coincident_only POLY D -outputlayer E;
    EDGE_BOOLEAN -coincident_only C E -outputlayer F;
    EDGE_EXPAND F -inside_by "PO_R_6_V/2" -outputlayer G;
    INTE G -legt "PO_R_6_V/2" "PO_R_6_V" -metric opposite -output positive1 -outputlayer H;
    EDGE_EXPAND H -inside_by "GRID" -extend_by "GRID" -outputlayer I;
    INTE POLY -lt "PO_R_6_W" -metric opposite -output positive1 -outputlayer J;
    EDGE_LENGTH J -gt "PO_R_6_X" -outputlayer K;
    EDGE_BOOLEAN -inside POLY OD -outputlayer L;
    EDGE_SELECT -coincident_only POLY L -outputlayer M;
    EDGE_BOOLEAN -coincident_only -not K M -outputlayer O;
    EDGE_EXPAND O -inside_by "GRID" -extend_by "GRID" -outputlayer P;
    EDGE_EXPAND O -inside_by "GRID" -extend_by -GRID -outputlayer Q;
    NOT P Q -outputlayer R;
    OR I R -outputlayer S;
    CONVEX_EDGE S -angle1 -eq 270 -angle2 -eq 270 -outputlayer T;
    EDGE_EXPAND T -inside_by "PO_R_6_V/2" -outputlayer U;
    INTE U -legt "PO_R_6_V/2" "PO_R_6_V" -metric opposite -output region -outputlayer V;
    COPY V ; // -outputlayer _EPTMPL264372
}
AND POi ODi -outputlayer GATEi;
STAMP GATEi POu -outputlayer GATEu;
SELECT -interact NSDu POu -outputlayer NSDu_g;
SELECT -interact PSDu POu -outputlayer PSDu_g;
ANTENNA GATEu PSTPu NSTPu PSDu_g NSDu_g CBu CB2u UBMnu UBMdu COu -gt 0 -expr "  !AREA(PSTPu)*!AREA(NSTPu)*!AREA(PSDu_g)*!AREA(NSDu_g)*!AREA(CBu)*!AREA(CB2u)*!AREA(UBMnu)*!AREA(UBMdu)+!AREA(COu)  " -outputlayer Float_GATE;
ANTENNA NSDu_g PSDu_g GATEu PSTPu NSTPu CBu CB2u UBMnu UBMdu -gt 0 -expr "  ~(COUNT(NSDu_g)-1)*!AREA(PSDu_g)*!AREA(GATEu)*!AREA(PSTPu)*!AREA(NSTPu)*!AREA(CBu)*!AREA(CB2u)*!AREA(UBMnu)*!AREA(UBMdu)  " -outputlayer Float_NSD;
ANTENNA PSDu_g NSDu_g GATEu PSTPu NSTPu CBu CB2u UBMnu UBMdu -gt 0 -expr "  ~(COUNT(PSDu_g)-1)*!AREA(NSDu_g)*!AREA(GATEu)*!AREA(PSTPu)*!AREA(NSTPu)*!AREA(CBu)*!AREA(CB2u)*!AREA(UBMnu)*!AREA(UBMdu)  " -outputlayer Float_PSD;
NOT NSDu_g Float_NSD -outputlayer effective_NSD;
NOT PSDu_g Float_PSD -outputlayer effective_PSD;
OR Float_NSD GATE -outputlayer _EPTMPL264382;
SELECT -interact _EPTMPL264382 effective_NSD -gt 1 -by_net -outputlayer _EPTMPL264383;
NOT Float_NSD _EPTMPL264383 -outputlayer Float_NSD_a;
OR Float_PSD GATE -outputlayer _EPTMPL264385;
SELECT -interact _EPTMPL264385 effective_PSD -gt 1 -by_net -outputlayer _EPTMPL264386;
NOT Float_PSD _EPTMPL264386 -outputlayer Float_PSD_a;
OR Float_NSD_a Float_PSD_a -outputlayer _EPTMPL264388;
SELECT -interact -not Float_GATE _EPTMPL264388 -outputlayer Float_GATE_check;

RULE PO.R.8 {
    CAPTION "It is prohibited for Floating Gate if the effective source/drain is not connected together";
    SELECT -interact Float_GATE_check NSDu -gt 1 -by_net ; // -outputlayer _EPTMPL264390
    SELECT -interact Float_GATE_check PSDu -gt 1 -by_net ; // -outputlayer _EPTMPL264391
}

RULE DPO.W.1 {
    CAPTION "Width >= 0.4 um";
    INTE DPO -lt "DPO_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264392
}

RULE DPO.S.1 {
    CAPTION "Space >= 0.3 um";
    EXTE DPO -lt "DPO_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264393
}

RULE DPO.S.2 {
    CAPTION "Space to OD (Overlap is not allowed) >= 0.2 um";
    EXTE ODi DPO -lt "DPO_S_2" -abut -lt 90 -single_point -output region -inside_also ; // -outputlayer _EPTMPL264394
}

RULE DPO.S.3 {
    CAPTION "Space to PO (Overlap is not allowed) >= 0.5 um";
    EXTE POi DPO -lt "DPO_S_3" -abut -lt 90 -single_point -output region -inside_also ; // -outputlayer _EPTMPL264395
}

RULE DPO.S.5 {
    CAPTION "Space to FW (Overlap is not allowed) >= 1.2 um";
    EXTE FWi DPO -lt "DPO_S_5" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264396
    AND FWi DPO ; // -outputlayer _EPTMPL264397
}

RULE DPO.S.6 {
    CAPTION "Space to LMARK (Overlap is not allowed) >= 1.2 um";
    EXTE LMARK_SOLID DPO -lt "DPO_S_6" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264398
    AND LMARK_SOLID DPO ; // -outputlayer _EPTMPL264399
}

RULE DPO.S.6.1 {
    CAPTION "Space to L-slot (Overlap is not allowed) >= 5 um";
    EXTE LSLOT DPO -lt "DPO_S_6_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264400
    AND LSLOT DPO ; // -outputlayer _EPTMPL264401
}

RULE DPO.S.8 {
    CAPTION "Space to LOGO (Overlap is not allowed) >= 0 um";
    AND LOGO DPO ; // -outputlayer _EPTMPL264402
}

RULE DPO.S.9 {
    CAPTION "Space to INDDMY (Overlap is not allowed) >= 1.2 um";
    EXTE INDDMY DPO -lt "DPO_S_9" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264403
    AND INDDMY DPO ; // -outputlayer _EPTMPL264404
}

RULE DPO.EN.1 {
    CAPTION "Enclosure by chip edge >= 0.6 um";
    SIZE CHIP_CHAMFERED -by -DPO_EN_1 -outputlayer _EPTMPL264405;
    NOT DPO _EPTMPL264405 ; // -outputlayer _EPTMPL264406
}

RULE DPO.R.1 {
    CAPTION "DPO is must. DPO must be an individual CAD layer (datatype 1 as default, like 17,1)";
    SELECT -interact -not CHIPx DPO ; // -outputlayer _EPTMPL264407
}

RULE DPO.R.3 {
    CAPTION "Only square (or rectangular) and solid shapes are allowed. A 45-degree shape is not allowed";
    RECT_CHK -not DPO -orthogonal_only ; // -outputlayer _EPTMPL264408
    HOLES DPO ; // -outputlayer _EPTMPL264409
}
RECT_CHK TCDDMY -eq 12 -by -eq 12 -orthogonal_only -outputlayer Normal_TCD;
RECT_CHK TCDDMY -eq 9.245 -by -eq 9.245 -orthogonal_only -outputlayer Small_TCD;

RULE DTCD.W.1 {
    CAPTION "Width of TCDDMY  = 12 or 9.245";
    NOT TCDDMY Normal_TCD -outputlayer _EPTMPL264412;
    NOT _EPTMPL264412 Small_TCD ; // -outputlayer _EPTMPL264413
}

RULE DTCD.R.1 {
    CAPTION "TCDDMY should contain OD/PO/PP/NP/POBLK/ODBLK layer";
    SELECT -outside TCDDMY ODi ; // -outputlayer _EPTMPL264414
    SELECT -outside TCDDMY POi ; // -outputlayer _EPTMPL264415
    SELECT -outside Normal_TCD PPi ; // -outputlayer _EPTMPL264416
    SELECT -outside TCDDMY NPi ; // -outputlayer _EPTMPL264417
    SELECT -outside TCDDMY POBLK ; // -outputlayer _EPTMPL264418
    SELECT -outside TCDDMY ODBLK ; // -outputlayer _EPTMPL264419
}

RULE DTCD.R.2 {
    CAPTION "OD/PO/PP/NP/POBLK/ODBLK layout in the TCDDMY must exactly same as them in tsmc's utility.";
    SHRINK Normal_TCD -left 6.55 -bottom 11.43 -right "(12-11.55)" -top "(12-11.51)" -outputlayer 6_0_n_rec_1;
    SHRINK Normal_TCD -left 6.55 -bottom 11.24 -right "(12-11.55)" -top "(12-11.32)" -outputlayer 6_0_n_rec_2;
    SHRINK Normal_TCD -left 6.55 -bottom 11.05 -right "(12-11.55)" -top "(12-11.13)" -outputlayer 6_0_n_rec_3;
    SHRINK Normal_TCD -left 6.55 -bottom 10.86 -right "(12-11.55)" -top "(12-10.94)" -outputlayer 6_0_n_rec_4;
    SHRINK Normal_TCD -left 6.55 -bottom 10.67 -right "(12-11.55)" -top "(12-10.75)" -outputlayer 6_0_n_rec_5;
    SHRINK Normal_TCD -left 6.55 -bottom 10.48 -right "(12-11.55)" -top "(12-10.56)" -outputlayer 6_0_n_rec_6;
    SHRINK Normal_TCD -left 6.55 -bottom 10.29 -right "(12-11.55)" -top "(12-10.37)" -outputlayer 6_0_n_rec_7;
    SHRINK Normal_TCD -left 6.55 -bottom 10.1 -right "(12-11.55)" -top "(12-10.18)" -outputlayer 6_0_n_rec_8;
    SHRINK Normal_TCD -left 6.55 -bottom 9.91 -right "(12-11.55)" -top "(12-9.99)" -outputlayer 6_0_n_rec_9;
    SHRINK Normal_TCD -left 6.55 -bottom 9.72 -right "(12-11.55)" -top "(12-9.8)" -outputlayer 6_0_n_rec_10;
    SHRINK Normal_TCD -left 6.55 -bottom 9.34 -right "(12-11.55)" -top "(12-9.42)" -outputlayer 6_0_n_rec_11;
    SHRINK Normal_TCD -left 6.55 -bottom 9.15 -right "(12-11.55)" -top "(12-9.23)" -outputlayer 6_0_n_rec_12;
    SHRINK Normal_TCD -left 6.55 -bottom 8.77 -right "(12-11.55)" -top "(12-8.85)" -outputlayer 6_0_n_rec_13;
    SHRINK Normal_TCD -left 6.55 -bottom 8.58 -right "(12-11.55)" -top "(12-8.66)" -outputlayer 6_0_n_rec_14;
    SHRINK Normal_TCD -left 6.55 -bottom 8.39 -right "(12-11.55)" -top "(12-8.47)" -outputlayer 6_0_n_rec_15;
    SHRINK Normal_TCD -left 6.55 -bottom 8.2 -right "(12-11.55)" -top "(12-8.28)" -outputlayer 6_0_n_rec_16;
    SHRINK Normal_TCD -left 6.55 -bottom 8.01 -right "(12-11.55)" -top "(12-8.09)" -outputlayer 6_0_n_rec_17;
    SHRINK Normal_TCD -left 6.55 -bottom 7.82 -right "(12-11.55)" -top "(12-7.9)" -outputlayer 6_0_n_rec_18;
    SHRINK Normal_TCD -left 6.55 -bottom 7.63 -right "(12-11.55)" -top "(12-7.71)" -outputlayer 6_0_n_rec_19;
    SHRINK Normal_TCD -left 6.55 -bottom 7.44 -right "(12-11.55)" -top "(12-7.52)" -outputlayer 6_0_n_rec_20;
    SHRINK Normal_TCD -left 6.55 -bottom 7.25 -right "(12-11.55)" -top "(12-7.33)" -outputlayer 6_0_n_rec_21;
    SHRINK Normal_TCD -left 6.55 -bottom 7.06 -right "(12-11.55)" -top "(12-7.14)" -outputlayer 6_0_n_rec_22;
    SHRINK Normal_TCD -left 6.55 -bottom 6.87 -right "(12-11.55)" -top "(12-6.95)" -outputlayer 6_0_n_rec_23;
    SHRINK Normal_TCD -left 6.55 -bottom 6.68 -right "(12-11.55)" -top "(12-6.76)" -outputlayer 6_0_n_rec_24;
    SHRINK Normal_TCD -left 6.55 -bottom 6.49 -right "(12-11.55)" -top "(12-6.57)" -outputlayer 6_0_n_rec_25;
    SHRINK Normal_TCD -left 6.255 -bottom 0.5 -right "(12-11.255)" -top "(12-5.5)" -outputlayer 6_0_n_rec_26;
    SHRINK Normal_TCD -left 6.25 -bottom 8.96 -right "(12-11.85)" -top "(12-9.04)" -outputlayer 6_0_n_rec_27;
    SHRINK Normal_TCD -left 5.555 -bottom 10.01 -right "(12-5.995)" -top "(12-11.23)" -outputlayer 6_0_n_rec_28;
    SHRINK Normal_TCD -left 5.555 -bottom 6.77 -right "(12-5.995)" -top "(12-7.99)" -outputlayer 6_0_n_rec_29;
    SHRINK Normal_TCD -left 4.775 -bottom 10.01 -right "(12-5.215)" -top "(12-11.23)" -outputlayer 6_0_n_rec_30;
    SHRINK Normal_TCD -left 4.775 -bottom 9.17 -right "(12-5.995)" -top "(12-9.61)" -outputlayer 6_0_n_rec_31;
    SHRINK Normal_TCD -left 4.775 -bottom 8.39 -right "(12-5.995)" -top "(12-8.83)" -outputlayer 6_0_n_rec_32;
    SHRINK Normal_TCD -left 4.775 -bottom 6.77 -right "(12-5.215)" -top "(12-7.99)" -outputlayer 6_0_n_rec_33;
    SHRINK Normal_TCD -left 3.935 -bottom 10.01 -right "(12-4.375)" -top "(12-11.23)" -outputlayer 6_0_n_rec_34;
    SHRINK Normal_TCD -left 3.935 -bottom 6.77 -right "(12-4.375)" -top "(12-7.99)" -outputlayer 6_0_n_rec_35;
    SHRINK Normal_TCD -left 3.155 -bottom 10.01 -right "(12-3.595)" -top "(12-11.23)" -outputlayer 6_0_n_rec_36;
    SHRINK Normal_TCD -left 3.155 -bottom 9.17 -right "(12-4.375)" -top "(12-9.61)" -outputlayer 6_0_n_rec_37;
    SHRINK Normal_TCD -left 3.155 -bottom 8.39 -right "(12-4.375)" -top "(12-8.83)" -outputlayer 6_0_n_rec_38;
    SHRINK Normal_TCD -left 3.155 -bottom 6.77 -right "(12-3.595)" -top "(12-7.99)" -outputlayer 6_0_n_rec_39;
    SHRINK Normal_TCD -left 1.8 -bottom 6.3 -right "(12-2.8)" -top "(12-7.3)" -outputlayer 6_0_n_rec_40;
    SHRINK Normal_TCD -left 1.535 -bottom 9.17 -right "(12-2.755)" -top "(12-9.61)" -outputlayer 6_0_n_rec_41;
    SHRINK Normal_TCD -left 1.535 -bottom 8.39 -right "(12-2.755)" -top "(12-8.83)" -outputlayer 6_0_n_rec_42;
    SHRINK Normal_TCD -left 0.745 -bottom 0.5 -right "(12-5.745)" -top "(12-5.5)" -outputlayer 6_0_n_rec_43;
    SHRINK Normal_TCD -left 0.3 -bottom 7.8 -right "(12-1.3)" -top "(12-8.8)" -outputlayer 6_0_n_rec_44;
    SHRINK Normal_TCD -left 0.3 -bottom 6.3 -right "(12-1.3)" -top "(12-7.3)" -outputlayer 6_0_n_rec_45;
    SHRINK Normal_TCD -left 6.55 -bottom 9.53 -right "(12-11.55)" -top "(12-9.61)" -outputlayer 6_0_n_rec_46;
    SHRINK Normal_TCD -left 4.635 -bottom 7.35 -right "(12-6.135)" -top "(12-7.41)" -outputlayer 17_0_n_rec_1;
    SHRINK Normal_TCD -left 5.355 -bottom 6.63 -right "(12-5.415)" -top "(12-8.13)" -outputlayer 17_0_n_rec_2;
    SHRINK Normal_TCD -left 3.735 -bottom 6.63 -right "(12-3.795)" -top "(12-8.13)" -outputlayer 17_0_n_rec_3;
    SHRINK Normal_TCD -left 3.015 -bottom 7.35 -right "(12-4.515)" -top "(12-7.41)" -outputlayer 17_0_n_rec_4;
    SHRINK Normal_TCD -left 1.395 -bottom 8.97 -right "(12-2.895)" -top "(12-9.03)" -outputlayer 17_0_n_rec_5;
    SHRINK Normal_TCD -left 2.115 -bottom 8.25 -right "(12-2.175)" -top "(12-9.75)" -outputlayer 17_0_n_rec_6;
    SHRINK Normal_TCD -left 3.735 -bottom 8.25 -right "(12-3.795)" -top "(12-9.75)" -outputlayer 17_0_n_rec_7;
    SHRINK Normal_TCD -left 3.015 -bottom 8.97 -right "(12-4.515)" -top "(12-9.03)" -outputlayer 17_0_n_rec_8;
    SHRINK Normal_TCD -left 4.635 -bottom 8.97 -right "(12-6.135)" -top "(12-9.03)" -outputlayer 17_0_n_rec_9;
    SHRINK Normal_TCD -left 5.355 -bottom 8.25 -right "(12-5.415)" -top "(12-9.75)" -outputlayer 17_0_n_rec_10;
    SHRINK Normal_TCD -left 5.355 -bottom 9.87 -right "(12-5.415)" -top "(12-11.37)" -outputlayer 17_0_n_rec_11;
    SHRINK Normal_TCD -left 4.635 -bottom 10.59 -right "(12-6.135)" -top "(12-10.65)" -outputlayer 17_0_n_rec_12;
    SHRINK Normal_TCD -left 3.735 -bottom 9.87 -right "(12-3.795)" -top "(12-11.37)" -outputlayer 17_0_n_rec_13;
    SHRINK Normal_TCD -left 3.015 -bottom 10.59 -right "(12-4.515)" -top "(12-10.65)" -outputlayer 17_0_n_rec_14;
    SHRINK Normal_TCD -left 11.61 -bottom 0.25 -right "(12-11.7)" -top "(12-5.75)" -outputlayer 17_0_n_rec_15;
    SHRINK Normal_TCD -left 11.315 -bottom 0.25 -right "(12-11.405)" -top "(12-5.75)" -outputlayer 17_0_n_rec_16;
    SHRINK Normal_TCD -left 10.845 -bottom 0.25 -right "(12-10.905)" -top "(12-5.75)" -outputlayer 17_0_n_rec_17;
    SHRINK Normal_TCD -left 10.58 -bottom 0.25 -right "(12-10.64)" -top "(12-5.75)" -outputlayer 17_0_n_rec_18;
    SHRINK Normal_TCD -left 10.315 -bottom 0.25 -right "(12-10.375)" -top "(12-5.75)" -outputlayer 17_0_n_rec_19;
    SHRINK Normal_TCD -left 10.05 -bottom 0.25 -right "(12-10.11)" -top "(12-5.75)" -outputlayer 17_0_n_rec_20;
    SHRINK Normal_TCD -left 9.785 -bottom 0.25 -right "(12-9.845)" -top "(12-5.75)" -outputlayer 17_0_n_rec_21;
    SHRINK Normal_TCD -left 9.52 -bottom 0.25 -right "(12-9.58)" -top "(12-5.75)" -outputlayer 17_0_n_rec_22;
    SHRINK Normal_TCD -left 9.255 -bottom 0.25 -right "(12-9.315)" -top "(12-5.75)" -outputlayer 17_0_n_rec_23;
    SHRINK Normal_TCD -left 8.99 -bottom 0.25 -right "(12-9.05)" -top "(12-5.75)" -outputlayer 17_0_n_rec_24;
    SHRINK Normal_TCD -left 8.725 -bottom 0.15 -right "(12-8.785)" -top "(12-6)" -outputlayer 17_0_n_rec_25;
    SHRINK Normal_TCD -left 8.46 -bottom 0.25 -right "(12-8.52)" -top "(12-5.75)" -outputlayer 17_0_n_rec_26;
    SHRINK Normal_TCD -left 8.195 -bottom 0.25 -right "(12-8.255)" -top "(12-5.75)" -outputlayer 17_0_n_rec_27;
    SHRINK Normal_TCD -left 7.93 -bottom 0.25 -right "(12-7.99)" -top "(12-5.75)" -outputlayer 17_0_n_rec_28;
    SHRINK Normal_TCD -left 7.665 -bottom 0.25 -right "(12-7.725)" -top "(12-5.75)" -outputlayer 17_0_n_rec_29;
    SHRINK Normal_TCD -left 7.4 -bottom 0.25 -right "(12-7.46)" -top "(12-5.75)" -outputlayer 17_0_n_rec_30;
    SHRINK Normal_TCD -left 7.135 -bottom 0.25 -right "(12-7.195)" -top "(12-5.75)" -outputlayer 17_0_n_rec_31;
    SHRINK Normal_TCD -left 6.87 -bottom 0.25 -right "(12-6.93)" -top "(12-5.75)" -outputlayer 17_0_n_rec_32;
    SHRINK Normal_TCD -left 6.605 -bottom 0.25 -right "(12-6.665)" -top "(12-5.75)" -outputlayer 17_0_n_rec_33;
    SHRINK Normal_TCD -left 5.335 -bottom 0.25 -right "(12-5.395)" -top "(12-5.75)" -outputlayer 17_0_n_rec_34;
    SHRINK Normal_TCD -left 5.07 -bottom 0.25 -right "(12-5.13)" -top "(12-5.75)" -outputlayer 17_0_n_rec_35;
    SHRINK Normal_TCD -left 4.805 -bottom 0.25 -right "(12-4.865)" -top "(12-5.75)" -outputlayer 17_0_n_rec_36;
    SHRINK Normal_TCD -left 4.54 -bottom 0.25 -right "(12-4.6)" -top "(12-5.75)" -outputlayer 17_0_n_rec_37;
    SHRINK Normal_TCD -left 4.275 -bottom 0.25 -right "(12-4.335)" -top "(12-5.75)" -outputlayer 17_0_n_rec_38;
    SHRINK Normal_TCD -left 4.01 -bottom 0.25 -right "(12-4.07)" -top "(12-5.75)" -outputlayer 17_0_n_rec_39;
    SHRINK Normal_TCD -left 3.745 -bottom 0.25 -right "(12-3.805)" -top "(12-5.75)" -outputlayer 17_0_n_rec_40;
    SHRINK Normal_TCD -left 3.48 -bottom 0.25 -right "(12-3.54)" -top "(12-5.75)" -outputlayer 17_0_n_rec_41;
    SHRINK Normal_TCD -left 3.215 -bottom 0.15 -right "(12-3.275)" -top "(12-6)" -outputlayer 17_0_n_rec_42;
    SHRINK Normal_TCD -left 2.95 -bottom 0.25 -right "(12-3.01)" -top "(12-5.75)" -outputlayer 17_0_n_rec_43;
    SHRINK Normal_TCD -left 2.685 -bottom 0.25 -right "(12-2.745)" -top "(12-5.75)" -outputlayer 17_0_n_rec_44;
    SHRINK Normal_TCD -left 2.42 -bottom 0.25 -right "(12-2.48)" -top "(12-5.75)" -outputlayer 17_0_n_rec_45;
    SHRINK Normal_TCD -left 2.155 -bottom 0.25 -right "(12-2.215)" -top "(12-5.75)" -outputlayer 17_0_n_rec_46;
    SHRINK Normal_TCD -left 1.89 -bottom 0.25 -right "(12-1.95)" -top "(12-5.75)" -outputlayer 17_0_n_rec_47;
    SHRINK Normal_TCD -left 1.8 -bottom 10.7 -right "(12-2.8)" -top "(12-11.7)" -outputlayer 17_0_n_rec_48;
    SHRINK Normal_TCD -left 1.625 -bottom 0.25 -right "(12-1.685)" -top "(12-5.75)" -outputlayer 17_0_n_rec_49;
    SHRINK Normal_TCD -left 1.36 -bottom 0.25 -right "(12-1.42)" -top "(12-5.75)" -outputlayer 17_0_n_rec_50;
    SHRINK Normal_TCD -left 1.095 -bottom 0.25 -right "(12-1.155)" -top "(12-5.75)" -outputlayer 17_0_n_rec_51;
    SHRINK Normal_TCD -left 0.3 -bottom 10.7 -right "(12-1.3)" -top "(12-11.7)" -outputlayer 17_0_n_rec_52;
    SHRINK Normal_TCD -left 0.3 -bottom 9.2 -right "(12-1.3)" -top "(12-10.2)" -outputlayer 17_0_n_rec_53;
    SHRINK Normal_TCD -left 0.3 -bottom 0.25 -right "(12-0.595)" -top "(12-5.75)" -outputlayer 17_0_n_rec_54;
    SHRINK Normal_TCD -left 6 -bottom 0 -right "(12-12)" -top "(12-6)" -outputlayer 25_0_n_rec_1;
    SHRINK Normal_TCD -left 0 -bottom 0 -right "(12-6)" -top "(12-6)" -outputlayer 26_0_n_rec_1;
    SHRINK Normal_TCD -left 0 -bottom 6 -right "(12-12)" -top "(12-12)" -outputlayer 26_0_n_rec_2;
    SHRINK Normal_TCD -left 0 -bottom 0 -right "(12-12)" -top "(12-12)" -outputlayer 150_20_n_rec_1;
    SHRINK Normal_TCD -left 0 -bottom 0 -right "(12-12)" -top "(12-12)" -outputlayer 150_21_n_rec_1;
    COPY 150_20_n_rec_1 -outputlayer Normal_TCD_150_20;
    COPY 150_21_n_rec_1 -outputlayer Normal_TCD_150_21;
    OR 17_0_n_rec_1 17_0_n_rec_2 -outputlayer _EPTMPL264527;
    OR _EPTMPL264527 17_0_n_rec_3 -outputlayer _EPTMPL264528;
    OR _EPTMPL264528 17_0_n_rec_4 -outputlayer _EPTMPL264529;
    OR _EPTMPL264529 17_0_n_rec_5 -outputlayer _EPTMPL264530;
    OR _EPTMPL264530 17_0_n_rec_6 -outputlayer _EPTMPL264531;
    OR _EPTMPL264531 17_0_n_rec_7 -outputlayer _EPTMPL264532;
    OR _EPTMPL264532 17_0_n_rec_8 -outputlayer _EPTMPL264533;
    OR _EPTMPL264533 17_0_n_rec_9 -outputlayer _EPTMPL264534;
    OR _EPTMPL264534 17_0_n_rec_10 -outputlayer _EPTMPL264535;
    OR _EPTMPL264535 17_0_n_rec_11 -outputlayer _EPTMPL264536;
    OR _EPTMPL264536 17_0_n_rec_12 -outputlayer _EPTMPL264537;
    OR _EPTMPL264537 17_0_n_rec_13 -outputlayer _EPTMPL264538;
    OR _EPTMPL264538 17_0_n_rec_14 -outputlayer _EPTMPL264539;
    OR _EPTMPL264539 17_0_n_rec_15 -outputlayer _EPTMPL264540;
    OR _EPTMPL264540 17_0_n_rec_16 -outputlayer _EPTMPL264541;
    OR _EPTMPL264541 17_0_n_rec_17 -outputlayer _EPTMPL264542;
    OR _EPTMPL264542 17_0_n_rec_18 -outputlayer _EPTMPL264543;
    OR _EPTMPL264543 17_0_n_rec_19 -outputlayer _EPTMPL264544;
    OR _EPTMPL264544 17_0_n_rec_20 -outputlayer _EPTMPL264545;
    OR _EPTMPL264545 17_0_n_rec_21 -outputlayer _EPTMPL264546;
    OR _EPTMPL264546 17_0_n_rec_22 -outputlayer _EPTMPL264547;
    OR _EPTMPL264547 17_0_n_rec_23 -outputlayer _EPTMPL264548;
    OR _EPTMPL264548 17_0_n_rec_24 -outputlayer _EPTMPL264549;
    OR _EPTMPL264549 17_0_n_rec_25 -outputlayer _EPTMPL264550;
    OR _EPTMPL264550 17_0_n_rec_26 -outputlayer _EPTMPL264551;
    OR _EPTMPL264551 17_0_n_rec_27 -outputlayer _EPTMPL264552;
    OR _EPTMPL264552 17_0_n_rec_28 -outputlayer _EPTMPL264553;
    OR _EPTMPL264553 17_0_n_rec_29 -outputlayer _EPTMPL264554;
    OR _EPTMPL264554 17_0_n_rec_30 -outputlayer _EPTMPL264555;
    OR _EPTMPL264555 17_0_n_rec_31 -outputlayer _EPTMPL264556;
    OR _EPTMPL264556 17_0_n_rec_32 -outputlayer _EPTMPL264557;
    OR _EPTMPL264557 17_0_n_rec_33 -outputlayer _EPTMPL264558;
    OR _EPTMPL264558 17_0_n_rec_34 -outputlayer _EPTMPL264559;
    OR _EPTMPL264559 17_0_n_rec_35 -outputlayer _EPTMPL264560;
    OR _EPTMPL264560 17_0_n_rec_36 -outputlayer _EPTMPL264561;
    OR _EPTMPL264561 17_0_n_rec_37 -outputlayer _EPTMPL264562;
    OR _EPTMPL264562 17_0_n_rec_38 -outputlayer _EPTMPL264563;
    OR _EPTMPL264563 17_0_n_rec_39 -outputlayer _EPTMPL264564;
    OR _EPTMPL264564 17_0_n_rec_40 -outputlayer _EPTMPL264565;
    OR _EPTMPL264565 17_0_n_rec_41 -outputlayer _EPTMPL264566;
    OR _EPTMPL264566 17_0_n_rec_42 -outputlayer _EPTMPL264567;
    OR _EPTMPL264567 17_0_n_rec_43 -outputlayer _EPTMPL264568;
    OR _EPTMPL264568 17_0_n_rec_44 -outputlayer _EPTMPL264569;
    OR _EPTMPL264569 17_0_n_rec_45 -outputlayer _EPTMPL264570;
    OR _EPTMPL264570 17_0_n_rec_46 -outputlayer _EPTMPL264571;
    OR _EPTMPL264571 17_0_n_rec_47 -outputlayer _EPTMPL264572;
    OR _EPTMPL264572 17_0_n_rec_48 -outputlayer _EPTMPL264573;
    OR _EPTMPL264573 17_0_n_rec_49 -outputlayer _EPTMPL264574;
    OR _EPTMPL264574 17_0_n_rec_50 -outputlayer _EPTMPL264575;
    OR _EPTMPL264575 17_0_n_rec_51 -outputlayer _EPTMPL264576;
    OR _EPTMPL264576 17_0_n_rec_52 -outputlayer _EPTMPL264577;
    OR _EPTMPL264577 17_0_n_rec_53 -outputlayer _EPTMPL264578;
    OR _EPTMPL264578 17_0_n_rec_54 -outputlayer _EPTMPL264579;
    COPY _EPTMPL264579 -outputlayer Normal_TCD_17_0;
    COPY 25_0_n_rec_1 -outputlayer Normal_TCD_25_0;
    OR 26_0_n_rec_1 26_0_n_rec_2 -outputlayer _EPTMPL264582;
    COPY _EPTMPL264582 -outputlayer Normal_TCD_26_0;
    OR 6_0_n_rec_1 6_0_n_rec_2 -outputlayer _EPTMPL264584;
    OR _EPTMPL264584 6_0_n_rec_3 -outputlayer _EPTMPL264585;
    OR _EPTMPL264585 6_0_n_rec_4 -outputlayer _EPTMPL264586;
    OR _EPTMPL264586 6_0_n_rec_5 -outputlayer _EPTMPL264587;
    OR _EPTMPL264587 6_0_n_rec_6 -outputlayer _EPTMPL264588;
    OR _EPTMPL264588 6_0_n_rec_7 -outputlayer _EPTMPL264589;
    OR _EPTMPL264589 6_0_n_rec_8 -outputlayer _EPTMPL264590;
    OR _EPTMPL264590 6_0_n_rec_9 -outputlayer _EPTMPL264591;
    OR _EPTMPL264591 6_0_n_rec_10 -outputlayer _EPTMPL264592;
    OR _EPTMPL264592 6_0_n_rec_11 -outputlayer _EPTMPL264593;
    OR _EPTMPL264593 6_0_n_rec_12 -outputlayer _EPTMPL264594;
    OR _EPTMPL264594 6_0_n_rec_13 -outputlayer _EPTMPL264595;
    OR _EPTMPL264595 6_0_n_rec_14 -outputlayer _EPTMPL264596;
    OR _EPTMPL264596 6_0_n_rec_15 -outputlayer _EPTMPL264597;
    OR _EPTMPL264597 6_0_n_rec_16 -outputlayer _EPTMPL264598;
    OR _EPTMPL264598 6_0_n_rec_17 -outputlayer _EPTMPL264599;
    OR _EPTMPL264599 6_0_n_rec_18 -outputlayer _EPTMPL264600;
    OR _EPTMPL264600 6_0_n_rec_19 -outputlayer _EPTMPL264601;
    OR _EPTMPL264601 6_0_n_rec_20 -outputlayer _EPTMPL264602;
    OR _EPTMPL264602 6_0_n_rec_21 -outputlayer _EPTMPL264603;
    OR _EPTMPL264603 6_0_n_rec_22 -outputlayer _EPTMPL264604;
    OR _EPTMPL264604 6_0_n_rec_23 -outputlayer _EPTMPL264605;
    OR _EPTMPL264605 6_0_n_rec_24 -outputlayer _EPTMPL264606;
    OR _EPTMPL264606 6_0_n_rec_25 -outputlayer _EPTMPL264607;
    OR _EPTMPL264607 6_0_n_rec_26 -outputlayer _EPTMPL264608;
    OR _EPTMPL264608 6_0_n_rec_27 -outputlayer _EPTMPL264609;
    OR _EPTMPL264609 6_0_n_rec_28 -outputlayer _EPTMPL264610;
    OR _EPTMPL264610 6_0_n_rec_29 -outputlayer _EPTMPL264611;
    OR _EPTMPL264611 6_0_n_rec_30 -outputlayer _EPTMPL264612;
    OR _EPTMPL264612 6_0_n_rec_31 -outputlayer _EPTMPL264613;
    OR _EPTMPL264613 6_0_n_rec_32 -outputlayer _EPTMPL264614;
    OR _EPTMPL264614 6_0_n_rec_33 -outputlayer _EPTMPL264615;
    OR _EPTMPL264615 6_0_n_rec_34 -outputlayer _EPTMPL264616;
    OR _EPTMPL264616 6_0_n_rec_35 -outputlayer _EPTMPL264617;
    OR _EPTMPL264617 6_0_n_rec_36 -outputlayer _EPTMPL264618;
    OR _EPTMPL264618 6_0_n_rec_37 -outputlayer _EPTMPL264619;
    OR _EPTMPL264619 6_0_n_rec_38 -outputlayer _EPTMPL264620;
    OR _EPTMPL264620 6_0_n_rec_39 -outputlayer _EPTMPL264621;
    OR _EPTMPL264621 6_0_n_rec_40 -outputlayer _EPTMPL264622;
    OR _EPTMPL264622 6_0_n_rec_41 -outputlayer _EPTMPL264623;
    OR _EPTMPL264623 6_0_n_rec_42 -outputlayer _EPTMPL264624;
    OR _EPTMPL264624 6_0_n_rec_43 -outputlayer _EPTMPL264625;
    OR _EPTMPL264625 6_0_n_rec_44 -outputlayer _EPTMPL264626;
    OR _EPTMPL264626 6_0_n_rec_45 -outputlayer _EPTMPL264627;
    OR _EPTMPL264627 6_0_n_rec_46 -outputlayer _EPTMPL264628;
    COPY _EPTMPL264628 -outputlayer Normal_TCD_6_0;
    AND ODi Normal_TCD -outputlayer Normal_TCD_OD;
    AND POi Normal_TCD -outputlayer Normal_TCD_PO;
    AND PPi Normal_TCD -outputlayer Normal_TCD_PP;
    AND NPi Normal_TCD -outputlayer Normal_TCD_NP;
    AND ODBLK Normal_TCD -outputlayer Normal_TCD_ODBLK;
    AND POBLK Normal_TCD -outputlayer Normal_TCD_POBLK;
    XOR Normal_TCD_OD Normal_TCD_6_0 ; // -outputlayer _EPTMPL264636
    XOR Normal_TCD_PO Normal_TCD_17_0 ; // -outputlayer _EPTMPL264637
    XOR Normal_TCD_PP Normal_TCD_25_0 ; // -outputlayer _EPTMPL264638
    XOR Normal_TCD_NP Normal_TCD_26_0 ; // -outputlayer _EPTMPL264639
    XOR Normal_TCD_ODBLK Normal_TCD_150_20 ; // -outputlayer _EPTMPL264640
    XOR Normal_TCD_POBLK Normal_TCD_150_21 ; // -outputlayer _EPTMPL264641
    SHRINK Small_TCD -left 6.585 -bottom 5.035 -right "(9.245-7.805)" -top "(9.245-5.475)" -outputlayer 6_0_s_rec_1;
    SHRINK Small_TCD -left 6.585 -bottom 4.255 -right "(9.245-7.805)" -top "(9.245-4.695)" -outputlayer 6_0_s_rec_2;
    SHRINK Small_TCD -left 6.585 -bottom 3.415 -right "(9.245-7.805)" -top "(9.245-3.855)" -outputlayer 6_0_s_rec_3;
    SHRINK Small_TCD -left 6.585 -bottom 2.635 -right "(9.245-7.805)" -top "(9.245-3.075)" -outputlayer 6_0_s_rec_4;
    SHRINK Small_TCD -left 6.585 -bottom 1.795 -right "(9.245-7.805)" -top "(9.245-2.235)" -outputlayer 6_0_s_rec_5;
    SHRINK Small_TCD -left 6.585 -bottom 1.015 -right "(9.245-7.805)" -top "(9.245-1.455)" -outputlayer 6_0_s_rec_6;
    SHRINK Small_TCD -left 0.745 -bottom 0.745 -right "(9.245-5.745)" -top "(9.245-5.745)" -outputlayer 6_0_s_rec_7;
    SHRINK Small_TCD -left 7.165 -bottom 0.875 -right "(9.245-7.225)" -top "(9.245-2.375)" -outputlayer 17_0_s_rec_1;
    SHRINK Small_TCD -left 6.445 -bottom 1.595 -right "(9.245-7.945)" -top "(9.245-1.655)" -outputlayer 17_0_s_rec_2;
    SHRINK Small_TCD -left 6.445 -bottom 3.215 -right "(9.245-7.945)" -top "(9.245-3.275)" -outputlayer 17_0_s_rec_3;
    SHRINK Small_TCD -left 7.165 -bottom 2.495 -right "(9.245-7.225)" -top "(9.245-3.995)" -outputlayer 17_0_s_rec_4;
    SHRINK Small_TCD -left 7.165 -bottom 4.115 -right "(9.245-7.225)" -top "(9.245-5.615)" -outputlayer 17_0_s_rec_5;
    SHRINK Small_TCD -left 6.445 -bottom 4.835 -right "(9.245-7.945)" -top "(9.245-4.895)" -outputlayer 17_0_s_rec_6;
    SHRINK Small_TCD -left 7.945 -bottom 7.945 -right "(9.245-8.945)" -top "(9.245-8.945)" -outputlayer 17_0_s_rec_7;
    SHRINK Small_TCD -left 7.945 -bottom 6.445 -right "(9.245-8.945)" -top "(9.245-7.445)" -outputlayer 17_0_s_rec_8;
    SHRINK Small_TCD -left 6.445 -bottom 6.445 -right "(9.245-7.445)" -top "(9.245-7.445)" -outputlayer 17_0_s_rec_9;
    SHRINK Small_TCD -left 5.895 -bottom 0.495 -right "(9.245-6.19)" -top "(9.245-5.995)" -outputlayer 17_0_s_rec_10;
    SHRINK Small_TCD -left 5.335 -bottom 0.495 -right "(9.245-5.395)" -top "(9.245-5.995)" -outputlayer 17_0_s_rec_11;
    SHRINK Small_TCD -left 5.07 -bottom 0.495 -right "(9.245-5.13)" -top "(9.245-5.995)" -outputlayer 17_0_s_rec_12;
    SHRINK Small_TCD -left 4.805 -bottom 0.495 -right "(9.245-4.865)" -top "(9.245-5.995)" -outputlayer 17_0_s_rec_13;
    SHRINK Small_TCD -left 4.54 -bottom 0.495 -right "(9.245-4.6)" -top "(9.245-5.995)" -outputlayer 17_0_s_rec_14;
    SHRINK Small_TCD -left 4.275 -bottom 0.495 -right "(9.245-4.335)" -top "(9.245-5.995)" -outputlayer 17_0_s_rec_15;
    SHRINK Small_TCD -left 4.01 -bottom 0.495 -right "(9.245-4.07)" -top "(9.245-5.995)" -outputlayer 17_0_s_rec_16;
    SHRINK Small_TCD -left 3.745 -bottom 0.495 -right "(9.245-3.805)" -top "(9.245-5.995)" -outputlayer 17_0_s_rec_17;
    SHRINK Small_TCD -left 3.48 -bottom 0.495 -right "(9.245-3.54)" -top "(9.245-5.995)" -outputlayer 17_0_s_rec_18;
    SHRINK Small_TCD -left 3.215 -bottom 0.245 -right "(9.245-3.275)" -top "(9.245-6.245)" -outputlayer 17_0_s_rec_19;
    SHRINK Small_TCD -left 2.95 -bottom 0.495 -right "(9.245-3.01)" -top "(9.245-5.995)" -outputlayer 17_0_s_rec_20;
    SHRINK Small_TCD -left 2.685 -bottom 0.495 -right "(9.245-2.745)" -top "(9.245-5.995)" -outputlayer 17_0_s_rec_21;
    SHRINK Small_TCD -left 2.42 -bottom 0.495 -right "(9.245-2.48)" -top "(9.245-5.995)" -outputlayer 17_0_s_rec_22;
    SHRINK Small_TCD -left 2.155 -bottom 0.495 -right "(9.245-2.215)" -top "(9.245-5.995)" -outputlayer 17_0_s_rec_23;
    SHRINK Small_TCD -left 1.89 -bottom 0.495 -right "(9.245-1.95)" -top "(9.245-5.995)" -outputlayer 17_0_s_rec_24;
    SHRINK Small_TCD -left 1.625 -bottom 0.495 -right "(9.245-1.685)" -top "(9.245-5.995)" -outputlayer 17_0_s_rec_25;
    SHRINK Small_TCD -left 1.36 -bottom 0.495 -right "(9.245-1.42)" -top "(9.245-5.995)" -outputlayer 17_0_s_rec_26;
    SHRINK Small_TCD -left 1.095 -bottom 0.495 -right "(9.245-1.155)" -top "(9.245-5.995)" -outputlayer 17_0_s_rec_27;
    SHRINK Small_TCD -left 0.3 -bottom 0.495 -right "(9.245-0.595)" -top "(9.245-5.995)" -outputlayer 17_0_s_rec_28;
    SHRINK Small_TCD -left 0 -bottom 0 -right "(9.245-9.245)" -top "(9.245-9.245)" -outputlayer 26_0_s_rec_1;
    SHRINK Small_TCD -left 0 -bottom 0 -right "(9.245-9.245)" -top "(9.245-9.245)" -outputlayer 150_20_s_rec_1;
    SHRINK Small_TCD -left 0 -bottom 0 -right "(9.245-9.245)" -top "(9.245-9.245)" -outputlayer 150_21_s_rec_1;
    COPY 150_20_s_rec_1 -outputlayer Small_TCD_150_20;
    COPY 150_21_s_rec_1 -outputlayer Small_TCD_150_21;
    OR 17_0_s_rec_1 17_0_s_rec_2 -outputlayer _EPTMPL264682;
    OR _EPTMPL264682 17_0_s_rec_3 -outputlayer _EPTMPL264683;
    OR _EPTMPL264683 17_0_s_rec_4 -outputlayer _EPTMPL264684;
    OR _EPTMPL264684 17_0_s_rec_5 -outputlayer _EPTMPL264685;
    OR _EPTMPL264685 17_0_s_rec_6 -outputlayer _EPTMPL264686;
    OR _EPTMPL264686 17_0_s_rec_7 -outputlayer _EPTMPL264687;
    OR _EPTMPL264687 17_0_s_rec_8 -outputlayer _EPTMPL264688;
    OR _EPTMPL264688 17_0_s_rec_9 -outputlayer _EPTMPL264689;
    OR _EPTMPL264689 17_0_s_rec_10 -outputlayer _EPTMPL264690;
    OR _EPTMPL264690 17_0_s_rec_11 -outputlayer _EPTMPL264691;
    OR _EPTMPL264691 17_0_s_rec_12 -outputlayer _EPTMPL264692;
    OR _EPTMPL264692 17_0_s_rec_13 -outputlayer _EPTMPL264693;
    OR _EPTMPL264693 17_0_s_rec_14 -outputlayer _EPTMPL264694;
    OR _EPTMPL264694 17_0_s_rec_15 -outputlayer _EPTMPL264695;
    OR _EPTMPL264695 17_0_s_rec_16 -outputlayer _EPTMPL264696;
    OR _EPTMPL264696 17_0_s_rec_17 -outputlayer _EPTMPL264697;
    OR _EPTMPL264697 17_0_s_rec_18 -outputlayer _EPTMPL264698;
    OR _EPTMPL264698 17_0_s_rec_19 -outputlayer _EPTMPL264699;
    OR _EPTMPL264699 17_0_s_rec_20 -outputlayer _EPTMPL264700;
    OR _EPTMPL264700 17_0_s_rec_21 -outputlayer _EPTMPL264701;
    OR _EPTMPL264701 17_0_s_rec_22 -outputlayer _EPTMPL264702;
    OR _EPTMPL264702 17_0_s_rec_23 -outputlayer _EPTMPL264703;
    OR _EPTMPL264703 17_0_s_rec_24 -outputlayer _EPTMPL264704;
    OR _EPTMPL264704 17_0_s_rec_25 -outputlayer _EPTMPL264705;
    OR _EPTMPL264705 17_0_s_rec_26 -outputlayer _EPTMPL264706;
    OR _EPTMPL264706 17_0_s_rec_27 -outputlayer _EPTMPL264707;
    OR _EPTMPL264707 17_0_s_rec_28 -outputlayer _EPTMPL264708;
    COPY _EPTMPL264708 -outputlayer Small_TCD_17_0;
    COPY 26_0_s_rec_1 -outputlayer Small_TCD_26_0;
    OR 6_0_s_rec_1 6_0_s_rec_2 -outputlayer _EPTMPL264711;
    OR _EPTMPL264711 6_0_s_rec_3 -outputlayer _EPTMPL264712;
    OR _EPTMPL264712 6_0_s_rec_4 -outputlayer _EPTMPL264713;
    OR _EPTMPL264713 6_0_s_rec_5 -outputlayer _EPTMPL264714;
    OR _EPTMPL264714 6_0_s_rec_6 -outputlayer _EPTMPL264715;
    OR _EPTMPL264715 6_0_s_rec_7 -outputlayer _EPTMPL264716;
    COPY _EPTMPL264716 -outputlayer Small_TCD_6_0;
    AND ODi Small_TCD -outputlayer Small_TCD_OD;
    AND POi Small_TCD -outputlayer Small_TCD_PO;
    AND NPi Small_TCD -outputlayer Small_TCD_NP;
    AND ODBLK Small_TCD -outputlayer Small_TCD_ODBLK;
    AND POBLK Small_TCD -outputlayer Small_TCD_POBLK;
    XOR Small_TCD_OD Small_TCD_6_0 ; // -outputlayer _EPTMPL264723
    XOR Small_TCD_PO Small_TCD_17_0 ; // -outputlayer _EPTMPL264724
    XOR Small_TCD_NP Small_TCD_26_0 ; // -outputlayer _EPTMPL264725
    XOR Small_TCD_ODBLK Small_TCD_150_20 ; // -outputlayer _EPTMPL264726
    XOR Small_TCD_POBLK Small_TCD_150_21 ; // -outputlayer _EPTMPL264727
}

RULE DTCD.R.3 {
    CAPTION "TCDDMY overlap of DOD, DPO, NW, OD2, DCO, NT_N, POFUSE, RPO, RH, VAR, mVTL, VTH_P, VTH_N, VTL_P, VTL_N, SRM, SRAMDMY, FW, LMARK, INDDMY, LOGO, or MOMDMY is not allowed.";
    AND TCDDMY DOD ; // -outputlayer _EPTMPL264728
    AND TCDDMY DPO ; // -outputlayer _EPTMPL264729
    AND TCDDMY NWi ; // -outputlayer _EPTMPL264730
    AND TCDDMY OD2i ; // -outputlayer _EPTMPL264731
    AND TCDDMY DCOi ; // -outputlayer _EPTMPL264732
    AND TCDDMY NT_Ni ; // -outputlayer _EPTMPL264733
    AND TCDDMY POFUSE ; // -outputlayer _EPTMPL264734
    AND TCDDMY RPOi ; // -outputlayer _EPTMPL264735
    AND TCDDMY RH ; // -outputlayer _EPTMPL264736
    AND TCDDMY VARi ; // -outputlayer _EPTMPL264737
    AND TCDDMY mVTLi ; // -outputlayer _EPTMPL264738
    AND TCDDMY VTH_Pi ; // -outputlayer _EPTMPL264739
    AND TCDDMY VTH_Ni ; // -outputlayer _EPTMPL264740
    AND TCDDMY VTL_Pi ; // -outputlayer _EPTMPL264741
    AND TCDDMY VTL_Ni ; // -outputlayer _EPTMPL264742
    AND TCDDMY SRM ; // -outputlayer _EPTMPL264743
    AND TCDDMY FWi ; // -outputlayer _EPTMPL264744
    AND TCDDMY SRAMDMY ; // -outputlayer _EPTMPL264745
    AND TCDDMY LMARK ; // -outputlayer _EPTMPL264746
    AND TCDDMY INDDMY ; // -outputlayer _EPTMPL264747
    AND TCDDMY LOGO ; // -outputlayer _EPTMPL264748
    AND TCDDMY MOMDMY_ALL ; // -outputlayer _EPTMPL264749
}

RULE VTH_N.W.1 {
    CAPTION "Min. dimension of VTH_N (except Point touch of vertex [Width >= 0.4 um])>= 0.18 um.";
    INTE VTHNs -lt "VTH_N_W_1" -abut -lt 90 -output region -outputlayer _EPTMPL264750;
    SELECT -inside -not _EPTMPL264750 SRAM_EXCLUDE ; // -outputlayer _EPTMPL264751
}
EXTE VTHNs -lt "VTH_N_S_1" -single_point -intersecting ONLY -output region -outputlayer VTHN_P;

RULE VTH_N.S.1 {
    CAPTION "Min. space between two VTH_N  (except Point touch of vertex [Width >= 0.4 um]) >= 0.18 um.";
    EXTE VTHNs -lt "VTH_N_S_1" -abut -lt 90 -output region -single_point -outputlayer X;
    NOT X VTHN_P -outputlayer _EPTMPL264754;
    SELECT -interact X _EPTMPL264754 -outputlayer _EPTMPL264755;
    SELECT -inside -not _EPTMPL264755 SRAM_EXCLUDE ; // -outputlayer _EPTMPL264756
    EXTE VTHNs -lt "GRID" -single_point -intersecting ONLY -output region -outputlayer A;
    SIZE A -by "GRID" -outputlayer _EPTMPL264758;
    AND _EPTMPL264758 VTHNs -outputlayer B;
    SIZE VTHNs -by "(VTH_N_S_1_W - 0.002) / 2" -underover -truncate "(VTH_N_S_1_W - 0.002)/2" -outputlayer _EPTMPL264760;
    AND _EPTMPL264760 VTHNs -outputlayer C;
    NOT B C ; // -outputlayer _EPTMPL264762
}

RULE VTH_N.S.2__VTH_N.S.2.1 {
    CAPTION "Space to gate in PO endcap direction >= 0.16";
    CAPTION "Space to gate in S/D direction >= 0.185";
    SELECT -interact -not GATE VTHN -outputlayer A;
    EDGE_BOOLEAN -inside A OD -outputlayer X;
    EDGE_EXPAND X -outside_by "(VTH_N_S_2_1 - VTH_N_S_2)" -outputlayer _EPTMPL264765;
    OR _EPTMPL264765 A -outputlayer B;
    SIZE B -by "VTH_N_S_2" -outputlayer C;
    AND VTHN C ; // -outputlayer _EPTMPL264768
}

RULE VTH_N.S.3 {
    CAPTION "Min. clearance from VTH_N to OD resistor >= 0.22 um";
    EXTE VTHN ODRES -lt "VTH_N_S_3" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL264769
    AND VTHN ODRES ; // -outputlayer _EPTMPL264770
}

RULE VTH_N.EN.1__VTH_N.EN.2 {
    CAPTION "Enclosure of gate in S/D direction >= 0.185";
    CAPTION "Enclosure of gate in PO endcap direction >= 0.16";
    SELECT -interact GATE VTHN -outputlayer A;
    EDGE_BOOLEAN -inside A OD -outputlayer X;
    EDGE_EXPAND X -outside_by "(VTH_N_EN_1 - VTH_N_EN_2)" -outputlayer _EPTMPL264773;
    OR _EPTMPL264773 A -outputlayer B;
    SIZE B -by "VTH_N_EN_2" -outputlayer C;
    NOT C VTHN ; // -outputlayer _EPTMPL264776
}

RULE VTH_N.A.1 {
    CAPTION "Min. VTH_N area >= 0.27 um";
    AREA VTHNs -lt "VTH_N_A_1" -outputlayer _EPTMPL264777;
    SELECT -inside -not _EPTMPL264777 SRAM_EXCLUDE ; // -outputlayer _EPTMPL264778
}
variable VTH_N_A_2pre " ((VTH_N_A_2 + (VTH_N_S_1 * VTH_N_S_1 * 3.142))/(2 * VTH_N_S_1))   *((VTH_N_A_2 + (VTH_N_S_1 * VTH_N_S_1 * 3.142))/(2 * VTH_N_S_1))/3.141 ";

RULE VTH_N.A.2 {
    CAPTION "Min. area of an enclosed VTH_N >= 0.27 um";
    HOLES VTHN -inner -lt "VTH_N_A_2pre" -outputlayer A;
    NOT A VTHN -outputlayer B;
    AREA B -lt "VTH_N_A_2" ; // -outputlayer _EPTMPL264781
}

RULE VTH_N.R.1 {
    CAPTION "Overlap PACT, VTLN, NT_N or OD2 is not allowed";
    AND VTHN OD2 ; // -outputlayer _EPTMPL264782
    AND VTHN NTN ; // -outputlayer _EPTMPL264783
    AND VTHN PACT ; // -outputlayer _EPTMPL264784
    AND VTHN VTLN ; // -outputlayer _EPTMPL264785
}

RULE VTH_P.W.1 {
    CAPTION "Min. dimension of VTH_P (except Point touch of vertex [Width >= 0.4 um])>= 0.18 um.";
    INTE VTHPs -lt "VTH_P_W_1" -abut -lt 90 -output region -outputlayer _EPTMPL264786;
    SELECT -inside -not _EPTMPL264786 SRAM_EXCLUDE ; // -outputlayer _EPTMPL264787
}
EXTE VTHPs -lt "VTH_P_S_1" -single_point -intersecting ONLY -output region -outputlayer VTHP_P;

RULE VTH_P.S.1 {
    CAPTION "Min. space between two VTH_P  (except Point touch of vertex [Width >= 0.4 um]) >= 0.18 um.";
    EXTE VTHPs -lt "VTH_P_S_1" -abut -lt 90 -output region -single_point -outputlayer X;
    NOT X VTHP_P -outputlayer _EPTMPL264790;
    SELECT -interact X _EPTMPL264790 -outputlayer _EPTMPL264791;
    SELECT -inside -not _EPTMPL264791 SRAM_EXCLUDE ; // -outputlayer _EPTMPL264792
    EXTE VTHPs -lt "GRID" -single_point -intersecting ONLY -output region -outputlayer A;
    SIZE A -by "GRID" -outputlayer _EPTMPL264794;
    AND _EPTMPL264794 VTHPs -outputlayer B;
    SIZE VTHPs -by "(VTH_P_S_1_W - 0.002) / 2" -underover -truncate "(VTH_P_S_1_W - 0.002)/2" -outputlayer _EPTMPL264796;
    AND _EPTMPL264796 VTHPs -outputlayer C;
    NOT B C ; // -outputlayer _EPTMPL264798
}

RULE VTH_P.S.2__VTH_P.S.2.1 {
    CAPTION "Space to gate in PO endcap direction >= 0.16";
    CAPTION "Space to gate in S/D direction >= 0.185";
    SELECT -interact -not GATE VTHP -outputlayer A;
    EDGE_BOOLEAN -inside A OD -outputlayer X;
    EDGE_EXPAND X -outside_by "(VTH_P_S_2_1 - VTH_P_S_2)" -outputlayer _EPTMPL264801;
    OR _EPTMPL264801 A -outputlayer B;
    SIZE B -by "VTH_P_S_2" -outputlayer C;
    AND VTHP C ; // -outputlayer _EPTMPL264804
}

RULE VTH_P.S.3 {
    CAPTION "Min. clearance from VTH_P to OD resistor >= 0.22 um";
    EXTE VTHP ODRES -lt "VTH_P_S_3" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL264805
    AND VTHP ODRES ; // -outputlayer _EPTMPL264806
}

RULE VTH_P.EN.1__VTH_P.EN.2 {
    CAPTION "Enclosure of gate in S/D direction >= 0.185";
    CAPTION "Enclosure of gate in PO endcap direction >= 0.16";
    SELECT -interact GATE VTHP -outputlayer A;
    EDGE_BOOLEAN -inside A OD -outputlayer X;
    EDGE_EXPAND X -outside_by "(VTH_P_EN_1 - VTH_P_EN_2)" -outputlayer _EPTMPL264809;
    OR _EPTMPL264809 A -outputlayer B;
    SIZE B -by "VTH_P_EN_2" -outputlayer C;
    NOT C VTHP ; // -outputlayer _EPTMPL264812
}

RULE VTH_P.A.1 {
    CAPTION "Min. VTH_P area >= 0.27 um";
    AREA VTHPs -lt "VTH_P_A_1" -outputlayer _EPTMPL264813;
    SELECT -inside -not _EPTMPL264813 SRAM_EXCLUDE ; // -outputlayer _EPTMPL264814
}
variable VTH_P_A_2pre " ((VTH_P_A_2 + (VTH_P_S_1 * VTH_P_S_1 * 3.142))/(2 * VTH_P_S_1))   *((VTH_P_A_2 + (VTH_P_S_1 * VTH_P_S_1 * 3.142))/(2 * VTH_P_S_1))/3.141 ";

RULE VTH_P.A.2 {
    CAPTION "Min. area of an enclosed VTH_P >= 0.27 um";
    HOLES VTHP -inner -lt "VTH_P_A_2pre" -outputlayer A;
    NOT A VTHP -outputlayer B;
    AREA B -lt "VTH_P_A_2" ; // -outputlayer _EPTMPL264817
}

RULE VTH_P.R.1 {
    CAPTION "Overlap NACT, VTLP, NT_N or OD2 is not allowed";
    AND VTHP OD2 ; // -outputlayer _EPTMPL264818
    AND VTHP NTN ; // -outputlayer _EPTMPL264819
    AND VTHP NACT ; // -outputlayer _EPTMPL264820
    AND VTHP VTLP ; // -outputlayer _EPTMPL264821
}

RULE VTL_N.W.1 {
    CAPTION "Min. dimension of VTL_N (except Point touch of vertex [Width >= 0.4 um])>= 0.18 um.";
    INTE VTLNs -lt "VTL_N_W_1" -abut -lt 90 -output region -outputlayer _EPTMPL264822;
    SELECT -inside -not _EPTMPL264822 SRAM_EXCLUDE ; // -outputlayer _EPTMPL264823
}
EXTE VTLNs -lt "VTL_N_S_1" -single_point -intersecting ONLY -output region -outputlayer VTLN_P;

RULE VTL_N.S.1 {
    CAPTION "Min. space between two VTL_N  (except Point touch of vertex [Width >= 0.4 um]) >= 0.18 um.";
    EXTE VTLNs -lt "VTL_N_S_1" -abut -lt 90 -output region -single_point -outputlayer X;
    NOT X VTLN_P -outputlayer _EPTMPL264826;
    SELECT -interact X _EPTMPL264826 -outputlayer _EPTMPL264827;
    SELECT -inside -not _EPTMPL264827 SRAM_EXCLUDE ; // -outputlayer _EPTMPL264828
    EXTE VTLNs -lt "GRID" -single_point -intersecting ONLY -output region -outputlayer A;
    SIZE A -by "GRID" -outputlayer _EPTMPL264830;
    AND _EPTMPL264830 VTLNs -outputlayer B;
    SIZE VTLNs -by "(VTL_N_S_1_W - 0.002) / 2" -underover -truncate "(VTL_N_S_1_W - 0.002)/2" -outputlayer _EPTMPL264832;
    AND _EPTMPL264832 VTLNs -outputlayer C;
    NOT B C ; // -outputlayer _EPTMPL264834
}

RULE VTL_N.S.2__VTL_N.S.2.1 {
    CAPTION "Space to gate in PO endcap direction >= 0.16";
    CAPTION "Space to gate in S/D direction >= 0.185";
    SELECT -interact -not GATE VTLN -outputlayer A;
    EDGE_BOOLEAN -inside A OD -outputlayer X;
    EDGE_EXPAND X -outside_by "(VTL_N_S_2_1 - VTL_N_S_2)" -outputlayer _EPTMPL264837;
    OR _EPTMPL264837 A -outputlayer B;
    SIZE B -by "VTL_N_S_2" -outputlayer C;
    AND VTLN C ; // -outputlayer _EPTMPL264840
}

RULE VTL_N.S.3 {
    CAPTION "Min. clearance from VTL_N to OD resistor >= 0.22 um";
    EXTE VTLN ODRES -lt "VTL_N_S_3" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL264841
    AND VTLN ODRES ; // -outputlayer _EPTMPL264842
}

RULE VTL_N.EN.1__VTL_N.EN.2 {
    CAPTION "Enclosure of gate in S/D direction >= 0.185";
    CAPTION "Enclosure of gate in PO endcap direction >= 0.16";
    SELECT -interact GATE VTLN -outputlayer A;
    EDGE_BOOLEAN -inside A OD -outputlayer X;
    EDGE_EXPAND X -outside_by "(VTL_N_EN_1 - VTL_N_EN_2)" -outputlayer _EPTMPL264845;
    OR _EPTMPL264845 A -outputlayer B;
    SIZE B -by "VTL_N_EN_2" -outputlayer C;
    NOT C VTLN ; // -outputlayer _EPTMPL264848
}

RULE VTL_N.A.1 {
    CAPTION "Min. VTL_N area >= 0.27 um";
    AREA VTLNs -lt "VTL_N_A_1" -outputlayer _EPTMPL264849;
    SELECT -inside -not _EPTMPL264849 SRAM_EXCLUDE ; // -outputlayer _EPTMPL264850
}
variable VTL_N_A_2pre " ((VTL_N_A_2 + (VTL_N_S_1 * VTL_N_S_1 * 3.142))/(2 * VTL_N_S_1))   *((VTL_N_A_2 + (VTL_N_S_1 * VTL_N_S_1 * 3.142))/(2 * VTL_N_S_1))/3.141 ";

RULE VTL_N.A.2 {
    CAPTION "Min. area of an enclosed VTL_N >= 0.27 um";
    HOLES VTLN -inner -lt "VTL_N_A_2pre" -outputlayer A;
    NOT A VTLN -outputlayer B;
    AREA B -lt "VTL_N_A_2" ; // -outputlayer _EPTMPL264853
}

RULE VTL_N.R.1 {
    CAPTION "Overlap PACT, VTHN, NT_N or OD2 is not allowed";
    AND VTLN OD2 ; // -outputlayer _EPTMPL264854
    AND VTLN NTN ; // -outputlayer _EPTMPL264855
    AND VTLN PACT ; // -outputlayer _EPTMPL264856
    AND VTLN VTHN ; // -outputlayer _EPTMPL264857
}

RULE VTL_P.W.1 {
    CAPTION "Min. dimension of VTL_P (except Point touch of vertex [Width >= 0.4 um])>= 0.18 um.";
    INTE VTLPs -lt "VTL_P_W_1" -abut -lt 90 -output region -outputlayer _EPTMPL264858;
    SELECT -inside -not _EPTMPL264858 SRAM_EXCLUDE ; // -outputlayer _EPTMPL264859
}
EXTE VTLPs -lt "VTL_P_S_1" -single_point -intersecting ONLY -output region -outputlayer VTLP_P;

RULE VTL_P.S.1 {
    CAPTION "Min. space between two VTL_P  (except Point touch of vertex [Width >= 0.4 um]) >= 0.18 um.";
    EXTE VTLPs -lt "VTL_P_S_1" -abut -lt 90 -output region -single_point -outputlayer X;
    NOT X VTLP_P -outputlayer _EPTMPL264862;
    SELECT -interact X _EPTMPL264862 -outputlayer _EPTMPL264863;
    SELECT -inside -not _EPTMPL264863 SRAM_EXCLUDE ; // -outputlayer _EPTMPL264864
    EXTE VTLPs -lt "GRID" -single_point -intersecting ONLY -output region -outputlayer A;
    SIZE A -by "GRID" -outputlayer _EPTMPL264866;
    AND _EPTMPL264866 VTLPs -outputlayer B;
    SIZE VTLPs -by "(VTL_P_S_1_W - 0.002) / 2" -underover -truncate "(VTL_P_S_1_W - 0.002)/2" -outputlayer _EPTMPL264868;
    AND _EPTMPL264868 VTLPs -outputlayer C;
    NOT B C ; // -outputlayer _EPTMPL264870
}

RULE VTL_P.S.2__VTL_P.S.2.1 {
    CAPTION "Space to gate in PO endcap direction >= 0.16";
    CAPTION "Space to gate in S/D direction >= 0.185";
    SELECT -interact -not GATE VTLP -outputlayer A;
    EDGE_BOOLEAN -inside A OD -outputlayer X;
    EDGE_EXPAND X -outside_by "(VTL_P_S_2_1 - VTL_P_S_2)" -outputlayer _EPTMPL264873;
    OR _EPTMPL264873 A -outputlayer B;
    SIZE B -by "VTL_P_S_2" -outputlayer C;
    AND VTLP C ; // -outputlayer _EPTMPL264876
}

RULE VTL_P.S.3 {
    CAPTION "Min. clearance from VTL_P to OD resistor >= 0.22 um";
    EXTE VTLP ODRES -lt "VTL_P_S_3" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL264877
    AND VTLP ODRES ; // -outputlayer _EPTMPL264878
}

RULE VTL_P.EN.1__VTL_P.EN.2 {
    CAPTION "Enclosure of gate in S/D direction >= 0.185";
    CAPTION "Enclosure of gate in PO endcap direction >= 0.16";
    SELECT -interact GATE VTLP -outputlayer A;
    EDGE_BOOLEAN -inside A OD -outputlayer X;
    EDGE_EXPAND X -outside_by "(VTL_P_EN_1 - VTL_P_EN_2)" -outputlayer _EPTMPL264881;
    OR _EPTMPL264881 A -outputlayer B;
    SIZE B -by "VTL_P_EN_2" -outputlayer C;
    NOT C VTLP ; // -outputlayer _EPTMPL264884
}

RULE VTL_P.A.1 {
    CAPTION "Min. VTL_P area >= 0.27 um";
    AREA VTLPs -lt "VTL_P_A_1" -outputlayer _EPTMPL264885;
    SELECT -inside -not _EPTMPL264885 SRAM_EXCLUDE ; // -outputlayer _EPTMPL264886
}
variable VTL_P_A_2pre " ((VTL_P_A_2 + (VTL_P_S_1 * VTL_P_S_1 * 3.142))/(2 * VTL_P_S_1))   *((VTL_P_A_2 + (VTL_P_S_1 * VTL_P_S_1 * 3.142))/(2 * VTL_P_S_1))/3.141 ";

RULE VTL_P.A.2 {
    CAPTION "Min. area of an enclosed VTL_P >= 0.27 um";
    HOLES VTLP -inner -lt "VTL_P_A_2pre" -outputlayer A;
    NOT A VTLP -outputlayer B;
    AREA B -lt "VTL_P_A_2" ; // -outputlayer _EPTMPL264889
}

RULE VTL_P.R.1 {
    CAPTION "Overlap NACT, VTHP, NT_N or OD2 is not allowed";
    AND VTLP OD2 ; // -outputlayer _EPTMPL264890
    AND VTLP NTN ; // -outputlayer _EPTMPL264891
    AND VTLP NACT ; // -outputlayer _EPTMPL264892
    AND VTLP VTHP ; // -outputlayer _EPTMPL264893
}

RULE mVTL.EN.1 {
    CAPTION "Enclosure of gate >= 0.05um";
    ENC GATE mVTL -lt "mVTL_EN_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264894
    SELECT -interact GATE mVTL -outputlayer _EPTMPL264895;
    NOT _EPTMPL264895 mVTL ; // -outputlayer _EPTMPL264896
}

RULE mVTL.S.1 {
    CAPTION "Space to  gate >= 0.05um";
    EXTE mVTL GATE -lt "mVTL_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264897
}

RULE mVTL.R.1 {
    CAPTION "Overlap of VTH_N,VTH_P,VTL_N,VTL_P, NT_N, or OD2 is not allowed.";
    AND mVTL VTHN ; // -outputlayer _EPTMPL264898
    AND mVTL VTHP ; // -outputlayer _EPTMPL264899
    AND mVTL VTLN ; // -outputlayer _EPTMPL264900
    AND mVTL VTLP ; // -outputlayer _EPTMPL264901
    AND mVTL NTN ; // -outputlayer _EPTMPL264902
    AND mVTL OD2 ; // -outputlayer _EPTMPL264903
}
EDGE_BOOLEAN -coincident_only -inside OD IMP -outputlayer ODIMP;
EDGE_BOOLEAN -inside PP OD -outputlayer PP_BEDGE;

RULE PP.W.1 {
    CAPTION "Width >= 0.18 um";
    INTE PP -lt "PP_W_1" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL264906;
    SELECT -inside -not _EPTMPL264906 SRAM_EXCLUDE ; // -outputlayer _EPTMPL264907
}

RULE PP.S.1 {
    CAPTION "Space >= 0.18 um";
    EXTE PP -lt "PP_S_1" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL264908;
    SELECT -inside -not _EPTMPL264908 SRAM_EXCLUDE ; // -outputlayer _EPTMPL264909
}

RULE PP.S.2 {
    CAPTION "Space to N+ACTIVE (non-butted) >= 0.13 um";
    EXTE PP NACT -lt "PP_S_2" -abut -ltgt 0 90 -single_point -output region ; // -outputlayer _EPTMPL264910
    EXTE PP NACT -lt 0.001 -abut -eq 0 -output positive2 -outputlayer X;
    EDGE_EXPAND X -outside_by 0.001 -outputlayer Y;
    SELECT -interact -not Y PPOD ; // -outputlayer _EPTMPL264913
}

RULE PP.S.4 {
    CAPTION "Space to NW STRAP (non-butted) >= 0.02 um";
    EXTE PP NSTP -lt "PP_S_4" -abut -ltgt 0 90 -single_point -output region ; // -outputlayer _EPTMPL264914
    EXTE PP NSTP -lt 0.001 -abut -eq 0 -output positive2 -outputlayer X;
    EDGE_EXPAND X -outside_by 0.001 -outputlayer Y;
    SELECT -interact -not Y PPOD ; // -outputlayer _EPTMPL264917
}

RULE PP.S.5 {
    CAPTION "{PP edge on OD} space to NMOS GATE >= 0.32 um";
    EXTE GATEN_W PP_BEDGE -lt "PP_S_5" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL264918
}
EDGE_EXPAND GATEN_W -outside_by "PP_S_6" -extend_by "PP_S_6_J" -outputlayer EX_GATEN;

RULE PP.S.6 {
    CAPTION "Butted PW STRAP space to PO in the same OD [the butted N+ACTIVE extending 0 < J1 < 0.16 mm] >= 0.32 um";
    AND EX_GATEN BUTT_PSTP -outputlayer A;
    AND EX_GATEN NACT -outputlayer B;
    SELECT -interact A B -outputlayer C;
    SELECT -interact SD C -outputlayer D;
    EDGE_BOOLEAN -coincident_only -outside GATEN_W D -outputlayer E;
    EDGE_EXPAND E -outside_by "PP_S_6" -extend_by "PP_S_6_J" -outputlayer F;
    AND C F ; // -outputlayer _EPTMPL264926
}

RULE PP.S.7 {
    CAPTION "Space to N-type unsilicided OD/PO >= 0.2 um";
    EXTE PP NYRE -lt "PP_S_7" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264927
}

RULE PP.EN.1 {
    CAPTION "{NP OR PP} enclosure of PO (except DPO) >= 0.15 um";
    ENC POLY IMP -lt "PP_EN_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264928
    NOT POLY SRAM_EXCLUDE -outputlayer _EPTMPL264929;
    NOT _EPTMPL264929 LOGO -outputlayer _EPTMPL264930;
    NOT _EPTMPL264930 IMP ; // -outputlayer _EPTMPL264931
}

RULE PP.EX.1 {
    CAPTION "Extension on P+ACTIVE >= 0.13 um";
    ENC PACT PP -lt "PP_EX_1" -abut -ltgt 0 90 -single_point -output region ; // -outputlayer _EPTMPL264932
    ENC PACT PP -lt 0.001 -abut -eq 0 -output positive1 -outputlayer X;
    EDGE_EXPAND X -outside_by 0.001 -outputlayer Y;
    SELECT -interact -not Y NPOD ; // -outputlayer _EPTMPL264935
    EDGE_EXPAND ODIMP -inside_by 0.001 -outputlayer _EPTMPL264936;
    AND _EPTMPL264936 PACT ; // -outputlayer _EPTMPL264937
}

RULE PP.EX.2 {
    CAPTION "Extension on PW STRAP >= 0.02 um";
    NOT PSTP SRCSR -outputlayer PSTP_CHECK;
    ENC PSTP_CHECK PP -lt "PP_EX_2" -abut -ltgt 0 90 -single_point -output region ; // -outputlayer _EPTMPL264939
    ENC PSTP_CHECK PP -lt 0.001 -abut -eq 0 -output positive1 -outputlayer X;
    EDGE_EXPAND X -outside_by 0.001 -outputlayer Y;
    SELECT -interact -not Y NPOD ; // -outputlayer _EPTMPL264942
    EDGE_EXPAND ODIMP -inside_by 0.001 -outputlayer _EPTMPL264943;
    AND _EPTMPL264943 PSTP_CHECK ; // -outputlayer _EPTMPL264944
}

RULE PP.EX.3 {
    CAPTION "Extension on P-type unsilicided OD/PO >= 0.2 um";
    ENC AYRE PP -lt "PP_EX_3" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL264945
}

RULE PP.EX.4 {
    CAPTION "{PP edge on OD} extension on PMOS GATE >= 0.32 um";
    ENC GATEP_W PP_BEDGE -lt "PP_EX_4" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL264946
}

RULE PP.O.1 {
    CAPTION "Overlap of PP and OD >= 0.13 um";
    INTE OD PP -lt "PP_O_1" -abut -ltgt 0 90 -single_point -output region ; // -outputlayer _EPTMPL264947
}

RULE PP.A.1 {
    CAPTION "Area >= 0.122 um2";
    AREA PP -lt "PP_A_1" ; // -outputlayer _EPTMPL264948
}
variable PP_A_2pre " ((PP_A_2 + (PP_S_1 * PP_S_1 * 3.142))/(2 * PP_S_1))   *((PP_A_2 + (PP_S_1 * PP_S_1 * 3.142))/(2 * PP_S_1))/3.141 ";

RULE PP.A.2 {
    CAPTION "Enclosed area >= 0.122 um2";
    HOLES PP -inner -lt "PP_A_2pre" -outputlayer A;
    NOT A PP -outputlayer B;
    AREA B -lt "PP_A_2" -outputlayer _EPTMPL264951;
    SELECT -inside -not _EPTMPL264951 SRAM_EXCLUDE ; // -outputlayer _EPTMPL264952
}

RULE PP.A.3 {
    CAPTION "Area of butted PW STRAP >= 0.04 um2";
    AREA BUTT_PSTP -lt "PP_A_3" ; // -outputlayer _EPTMPL264953
}

RULE PP.R.1 {
    CAPTION "PP must fully cover {PMOS GATE SIZING 0.16 um} >= 0.16 um";
    SIZE GATE_PP -by "PP_R_1" -outputlayer EXGATE_PP;
    NOT EXGATE_PP PP ; // -outputlayer _EPTMPL264955
}

RULE PP.R.2 {
    CAPTION "Overlap of NP is not allowed";
    AND PP NP ; // -outputlayer _EPTMPL264956
}
EDGE_BOOLEAN -inside NP OD -outputlayer NP_BEDGE;

RULE NP.W.1 {
    CAPTION "Width >= 0.18 um";
    INTE NP -lt "NP_W_1" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL264958;
    SELECT -inside -not _EPTMPL264958 SRAM_EXCLUDE ; // -outputlayer _EPTMPL264959
}

RULE NP.S.1 {
    CAPTION "Space >= 0.18 um";
    EXTE NP -lt "NP_S_1" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL264960;
    SELECT -inside -not _EPTMPL264960 SRAM_EXCLUDE ; // -outputlayer _EPTMPL264961
}

RULE NP.S.2 {
    CAPTION "Space to P+ACTIVE (non-butted) >= 0.13 um";
    EXTE NP PACT -lt "NP_S_2" -abut -ltgt 0 90 -single_point -output region ; // -outputlayer _EPTMPL264962
    EXTE NP PACT -lt 0.001 -abut -eq 0 -output positive2 -outputlayer X;
    EDGE_EXPAND X -outside_by 0.001 -outputlayer Y;
    SELECT -interact -not Y NPOD ; // -outputlayer _EPTMPL264965
}

RULE NP.S.4 {
    CAPTION "Space to PW STRAP (non-butted) >= 0.02 um";
    EXTE NP PSTP -lt "NP_S_4" -abut -ltgt 0 90 -single_point -output region ; // -outputlayer _EPTMPL264966
    EXTE NP PSTP -lt 0.001 -abut -eq 0 -output positive2 -outputlayer X;
    EDGE_EXPAND X -outside_by 0.001 -outputlayer Y;
    SELECT -interact -not Y NPOD ; // -outputlayer _EPTMPL264969
}

RULE NP.S.5 {
    CAPTION "{NP edge on OD} space to PMOS GATE >= 0.32 um";
    EXTE GATEP_W NP_BEDGE -lt "NP_S_5" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL264970
}
EDGE_EXPAND GATEP_W -outside_by "NP_S_6" -extend_by "NP_S_6_J" -outputlayer EX_GATEP;

RULE NP.S.6 {
    CAPTION "Butted NW STRAP space to PO in the same OD [the butted P+ACTIVE extending 0 < J1 < 0.16 um] >= 0.32 um";
    AND EX_GATEP BUTT_NSTP -outputlayer A;
    AND EX_GATEP PACT -outputlayer B;
    SELECT -interact A B -outputlayer C;
    SELECT -interact SD C -outputlayer D;
    EDGE_BOOLEAN -coincident_only -outside GATEP_W D -outputlayer E;
    EDGE_EXPAND E -outside_by "NP_S_6" -extend_by "NP_S_6_J" -outputlayer F;
    AND C F ; // -outputlayer _EPTMPL264978
}

RULE NP.S.7 {
    CAPTION "Space to P-type unsilicided OD/PO >= 0.2 um";
    EXTE NP PYRE -lt "NP_S_7" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264979
}

RULE NP.EX.1 {
    CAPTION "Extension on N+ACTIVE >= 0.13 um";
    NOT NACT ODWR -outputlayer A;
    ENC A NP -lt "NP_EX_1" -abut -ltgt 0 90 -single_point -output region ; // -outputlayer _EPTMPL264981
    ENC A NP -lt 0.001 -abut -eq 0 -output positive1 -outputlayer X;
    EDGE_EXPAND X -outside_by 0.001 -outputlayer Y;
    SELECT -interact -not Y PPOD ; // -outputlayer _EPTMPL264984
    EDGE_EXPAND ODIMP -inside_by 0.001 -outputlayer _EPTMPL264985;
    AND _EPTMPL264985 NACT ; // -outputlayer _EPTMPL264986
}

RULE NP.EX.2 {
    CAPTION "Extension on NW STRAP >= 0.02 um";
    ENC NSTP NP -lt "NP_EX_2" -abut -ltgt 0 90 -single_point -output region ; // -outputlayer _EPTMPL264987
    ENC NSTP NP -lt 0.001 -abut -eq 0 -output positive1 -outputlayer X;
    EDGE_EXPAND X -outside_by 0.001 -outputlayer Y;
    SELECT -interact -not Y PPOD ; // -outputlayer _EPTMPL264990
    EDGE_EXPAND ODIMP -inside_by 0.001 -outputlayer _EPTMPL264991;
    AND _EPTMPL264991 NSTP ; // -outputlayer _EPTMPL264992
}

RULE NP.EX.3 {
    CAPTION "Extension on N-type unsilicided OD/PO >= 0.2 um";
    ENC AYRE NP -lt "NP_EX_3" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL264993
}

RULE NP.EX.4 {
    CAPTION "{NP edge on OD} extension on NMOS GATE >= 0.32";
    ENC GATEN_W NP_BEDGE -lt "NP_EX_4" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL264994
}

RULE NP.O.1 {
    CAPTION "Overlap of OD >= 0.13 um";
    INTE OD NP -lt "NP_O_1" -abut -ltgt 0 90 -single_point -output region ; // -outputlayer _EPTMPL264995
}

RULE NP.A.1 {
    CAPTION "Area >= 0.122 um2";
    AREA NP -lt "NP_A_1" ; // -outputlayer _EPTMPL264996
}
variable NP_A_2pre " ((NP_A_2 + (NP_S_1 * NP_S_1 * 3.142))/(2 * NP_S_1))   *((NP_A_2 + (NP_S_1 * NP_S_1 * 3.142))/(2 * NP_S_1))/3.141 ";

RULE NP.A.2 {
    CAPTION "Enclosed area >= 0.122 um2";
    HOLES NP -inner -lt "NP_A_2pre" -outputlayer A;
    NOT A NP -outputlayer B;
    AREA B -lt "NP_A_2" -outputlayer _EPTMPL264999;
    SELECT -inside -not _EPTMPL264999 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265000
}

RULE NP.A.3 {
    CAPTION "Area of butted NW STRAP >= 0.04 um2";
    AREA BUTT_NSTP -lt "NP_A_3" ; // -outputlayer _EPTMPL265001
}

RULE NP.R.1 {
    CAPTION "NP must fully cover {NMOS GATE SIZING 0.16 um} >= 0.16 um";
    SIZE GATE_NP -by "NP_R_1" -outputlayer EXGATE_NP;
    NOT EXGATE_NP NP ; // -outputlayer _EPTMPL265003
}
variable NLDDN1V_SU 0.085;
variable NLDDN1V_SD 0.17;
variable NLDDN2V_SU 0.085;
variable NLDDN2V_SD 0.17;
variable VTLN_SU 0.085;
variable VTLN_SD 0.17;
variable PLDDP1V_SU 0.085;
variable PLDDP1V_SD 0.17;
variable PLDDP2V_SU 0.085;
variable PLDDP2V_SD 0.17;
variable VTLP_SU 0.085;
variable VTLP_SD 0.17;
COPY VTLN -outputlayer VTLND;
COPY VTLP -outputlayer VTLPD;
NOT NP NWEL -outputlayer NP_NOT_NW;
NOT NP_NOT_NW OD2 -outputlayer _EPTMPL265007;
NOT _EPTMPL265007 RH -outputlayer _EPTMPL265008;
NOT _EPTMPL265008 BJTDMY -outputlayer _EPTMPL265009;
NOT _EPTMPL265009 VAR -outputlayer NLDDN1;
NOT NLDDN1 DCO -outputlayer NLDDN_CORE1;
AND NLDDN1 DCO -outputlayer NLDDN_CORE2;
SIZE NLDDN_CORE1 -by "NLDDN1V_SU" -outputlayer _EPTMPL265013;
SIZE _EPTMPL265013 -by -NLDDN1V_SD -outputlayer _EPTMPL265014;
SIZE _EPTMPL265014 -by "NLDDN1V_SU" -outputlayer NLDDN1V_CORE1;
SIZE NLDDN_CORE2 -by "NLDDN1V_SU" -outputlayer _EPTMPL265016;
SIZE _EPTMPL265016 -by -NLDDN1V_SD -outputlayer _EPTMPL265017;
SIZE _EPTMPL265017 -by "NLDDN1V_SU" -outputlayer NLDDN1V_CORE2;
AND NP_NOT_NW OD2 -outputlayer _EPTMPL265019;
NOT _EPTMPL265019 RH -outputlayer _EPTMPL265020;
NOT _EPTMPL265020 BJTDMY -outputlayer _EPTMPL265021;
NOT _EPTMPL265021 VAR -outputlayer _EPTMPL265022;
NOT _EPTMPL265022 DCO -outputlayer NLDDN2;
SIZE NLDDN2 -by "NLDDN2V_SU" -outputlayer _EPTMPL265024;
SIZE _EPTMPL265024 -by -NLDDN2V_SD -outputlayer _EPTMPL265025;
SIZE _EPTMPL265025 -by "NLDDN2V_SU" -outputlayer NLDDN2V;
OR OD2 DCO -outputlayer _EPTMPL265027;
OR _EPTMPL265027 NWEL -outputlayer _EPTMPL265028;
OR _EPTMPL265028 VTLND -outputlayer _EPTMPL265029;
SIZE _EPTMPL265029 -by "VTLN_SU" -outputlayer _EPTMPL265030;
SIZE _EPTMPL265030 -by -VTLN_SD -outputlayer _EPTMPL265031;
SIZE _EPTMPL265031 -by "VTLN_SU" -outputlayer VTL_N_LD;
AND PP NWEL -outputlayer PP_AND_NW;
NOT PP_AND_NW OD2 -outputlayer _EPTMPL265034;
NOT _EPTMPL265034 RH -outputlayer _EPTMPL265035;
NOT _EPTMPL265035 BJTDMY -outputlayer _EPTMPL265036;
NOT _EPTMPL265036 VAR -outputlayer PLDDP1;
NOT PLDDP1 DCO -outputlayer PLDDP_CORE1;
AND PLDDP1 DCO -outputlayer PLDDP_CORE2;
SIZE PLDDP_CORE1 -by "PLDDP1V_SU" -outputlayer _EPTMPL265040;
SIZE _EPTMPL265040 -by -PLDDP1V_SD -outputlayer _EPTMPL265041;
SIZE _EPTMPL265041 -by "PLDDP1V_SU" -outputlayer PLDDP1V_CORE1;
SIZE PLDDP_CORE2 -by "PLDDP1V_SU" -outputlayer _EPTMPL265043;
SIZE _EPTMPL265043 -by -PLDDP1V_SD -outputlayer _EPTMPL265044;
SIZE _EPTMPL265044 -by "PLDDP1V_SU" -outputlayer PLDDP1V_CORE2;
AND PP_AND_NW OD2 -outputlayer _EPTMPL265046;
NOT _EPTMPL265046 RH -outputlayer _EPTMPL265047;
NOT _EPTMPL265047 BJTDMY -outputlayer _EPTMPL265048;
NOT _EPTMPL265048 VAR -outputlayer _EPTMPL265049;
NOT _EPTMPL265049 DCO -outputlayer PLDDP2;
SIZE PLDDP2 -by "PLDDP2V_SU" -outputlayer _EPTMPL265051;
SIZE _EPTMPL265051 -by -PLDDP2V_SD -outputlayer _EPTMPL265052;
SIZE _EPTMPL265052 -by "PLDDP2V_SU" -outputlayer PLDDP2V;
NOT NWEL OD2 -outputlayer _EPTMPL265054;
NOT _EPTMPL265054 VTLPD -outputlayer _EPTMPL265055;
NOT _EPTMPL265055 DCO -outputlayer _EPTMPL265056;
SIZE _EPTMPL265056 -by "VTLP_SU" -outputlayer _EPTMPL265057;
SIZE _EPTMPL265057 -by -VTLP_SD -outputlayer _EPTMPL265058;
SIZE _EPTMPL265058 -by "VTLP_SU" -outputlayer VTL_P_LD;

RULE LDN.EX.1 {
    CAPTION "NP extension on NW  >= 0.18";
    CAPTION "LDN.EX.2  NP extension on {OD2 OR DCO} >= 0.18";
    CAPTION "LDN.EX.3  NP extension on {RH OR BJTDMY} >= 0.18";
    CAPTION "LDN.EX.4  NP extension on VAR >= 0.18";
    INTE NLDDN1V_CORE1 -lt "LDN_EX_1" -abut -lt 90 -metric opposite -output region -outputlayer A;
    EXTE NLDDN1V_CORE1 -lt "LDN_EX_1" -abut -lt 90 -metric opposite -output region -outputlayer B;
    SELECT -enclose_rect -not A -width 0.1 -length LDN_EX_1 -orthogonal_only -outputlayer _EPTMPL265062;
    SELECT -inside -not _EPTMPL265062 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265063
    SELECT -enclose_rect -not B -width 0.1 -length LDN_EX_1 -orthogonal_only -outputlayer _EPTMPL265064;
    SELECT -inside -not _EPTMPL265064 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265065
    SIZE DCO -by 0.005 -outputlayer C;
    INTE C -le 0.015 -output region -outputlayer D;
    INTE NLDDN1V_CORE1 -lt "LDN_EX_1" -abut -lt 90 -corner -single_point -output region -outputlayer _EPTMPL265068;
    SELECT -inside -not _EPTMPL265068 SRAM_EXCLUDE -outputlayer E;
    SELECT -interact -not E D ; // -outputlayer _EPTMPL265070
    INTE NLDDN1V_CORE1 -lt "LDN_EX_1" -abut -lt 90 -project -eq 0 -output region -outputlayer _EPTMPL265071;
    SELECT -inside -not _EPTMPL265071 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265072
    EXTE NLDDN1V_CORE1 -lt "LDN_EX_1" -abut -lt 90 -corner -single_point -output region -outputlayer _EPTMPL265073;
    SELECT -inside -not _EPTMPL265073 SRAM_EXCLUDE -outputlayer F;
    SELECT -interact -not F D ; // -outputlayer _EPTMPL265075
    EXTE NLDDN1V_CORE1 -lt "LDN_EX_1" -abut -lt 90 -project -eq 0 -output region -outputlayer _EPTMPL265076;
    SELECT -inside -not _EPTMPL265076 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265077
}

RULE LDN.EX.1:DCO {
    CAPTION "NP extension on NW  >= 0.18";
    CAPTION "LDN.EX.2  NP extension on OD2 >= 0.18";
    CAPTION "LDN.O.1   NP overlap of DCO   >= 0.18";
    CAPTION "LDN.EX.3  NP extension on {RH OR BJTDMY} >= 0.18";
    CAPTION "LDN.EX.4  NP extension on VAR >= 0.18";
    INTE NLDDN1V_CORE2 -lt "LDN_EX_1" -abut -lt 90 -metric opposite -output region -outputlayer A;
    EXTE NLDDN1V_CORE2 -lt "LDN_EX_1" -abut -lt 90 -metric opposite -output region -outputlayer B;
    SELECT -enclose_rect -not A -width 0.1 -length LDN_EX_1 -orthogonal_only -outputlayer _EPTMPL265080;
    SELECT -inside -not _EPTMPL265080 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265081
    SELECT -enclose_rect -not B -width 0.1 -length LDN_EX_1 -orthogonal_only -outputlayer _EPTMPL265082;
    SELECT -inside -not _EPTMPL265082 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265083
    SIZE DCO -by 0.005 -outputlayer C;
    INTE C -le 0.015 -output region -outputlayer D;
    INTE NLDDN1V_CORE2 -lt "LDN_EX_1" -abut -lt 90 -corner -single_point -output region -outputlayer _EPTMPL265086;
    SELECT -inside -not _EPTMPL265086 SRAM_EXCLUDE -outputlayer E;
    SELECT -interact -not E D ; // -outputlayer _EPTMPL265088
    INTE NLDDN1V_CORE2 -lt "LDN_EX_1" -abut -lt 90 -project -eq 0 -output region -outputlayer _EPTMPL265089;
    SELECT -inside -not _EPTMPL265089 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265090
    EXTE NLDDN1V_CORE2 -lt "LDN_EX_1" -abut -lt 90 -corner -single_point -output region -outputlayer _EPTMPL265091;
    SELECT -inside -not _EPTMPL265091 SRAM_EXCLUDE -outputlayer F;
    SELECT -interact -not F D ; // -outputlayer _EPTMPL265093
    EXTE NLDDN1V_CORE2 -lt "LDN_EX_1" -abut -lt 90 -project -eq 0 -output region -outputlayer _EPTMPL265094;
    SELECT -inside -not _EPTMPL265094 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265095
}

RULE LDN.O.1 {
    CAPTION "NP overlap of OD2  >= 0.18.";
    CAPTION "LDN.EX.1  NP extension on NW  >= 0.18";
    CAPTION "LDN.EX.3  NP extension on {RH OR BJTDMY} >= 0.18";
    CAPTION "LDN.EX.4  NP extension on VAR >= 0.18";
    INTE NLDDN2V -lt "LDN_O_1" -abut -lt 90 -metric opposite -output region -outputlayer A;
    EXTE NLDDN2V -lt "LDN_O_1" -abut -lt 90 -metric opposite -output region -outputlayer B;
    SELECT -enclose_rect -not A -width 0.1 -length LDN_O_1 -orthogonal_only -outputlayer _EPTMPL265098;
    SELECT -inside -not _EPTMPL265098 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265099
    SELECT -enclose_rect -not B -width 0.1 -length LDN_O_1 -orthogonal_only -outputlayer _EPTMPL265100;
    SELECT -inside -not _EPTMPL265100 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265101
    INTE NLDDN2V -lt "LDN_O_1" -abut -lt 90 -corner -single_point -output region -outputlayer _EPTMPL265102;
    SELECT -inside -not _EPTMPL265102 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265103
    INTE NLDDN2V -lt "LDN_O_1" -abut -lt 90 -project -eq 0 -output region -outputlayer _EPTMPL265104;
    SELECT -inside -not _EPTMPL265104 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265105
    EXTE NLDDN2V -lt "LDN_O_1" -abut -lt 90 -corner -single_point -output region -outputlayer _EPTMPL265106;
    SELECT -inside -not _EPTMPL265106 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265107
    EXTE NLDDN2V -lt "LDN_O_1" -abut -lt 90 -project -eq 0 -output region -outputlayer _EPTMPL265108;
    SELECT -inside -not _EPTMPL265108 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265109
}

RULE LDP.EX.1 {
    CAPTION "PP extension on {OD2 OR DCO} >= 0.18";
    CAPTION "LDP.EX.2  PP extension on {RH OR BJTDMY} >= 0.18";
    CAPTION "LDP.EX.3  PP extension on VAR  >= 0.18";
    CAPTION "LDP.O.1  PP overlap of NW  >= 0.18";
    INTE PLDDP1V_CORE1 -lt "LDP_EX_1" -abut -lt 90 -metric opposite -output region -outputlayer A;
    EXTE PLDDP1V_CORE1 -lt "LDP_EX_1" -abut -lt 90 -metric opposite -output region -outputlayer B;
    SELECT -enclose_rect -not A -width 0.1 -length LDP_EX_1 -orthogonal_only -outputlayer _EPTMPL265112;
    SELECT -inside -not _EPTMPL265112 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265113
    SELECT -enclose_rect -not B -width 0.1 -length LDP_EX_1 -orthogonal_only -outputlayer _EPTMPL265114;
    SELECT -inside -not _EPTMPL265114 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265115
    SIZE DCO -by 0.005 -outputlayer C;
    INTE C -le 0.015 -output region -outputlayer D;
    INTE PLDDP1V_CORE1 -lt "LDP_EX_1" -abut -lt 90 -corner -single_point -output region -outputlayer _EPTMPL265118;
    SELECT -inside -not _EPTMPL265118 SRAM_EXCLUDE -outputlayer E;
    SELECT -interact -not E D ; // -outputlayer _EPTMPL265120
    INTE PLDDP1V_CORE1 -lt "LDP_EX_1" -abut -lt 90 -project -eq 0 -output region -outputlayer _EPTMPL265121;
    SELECT -inside -not _EPTMPL265121 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265122
    EXTE PLDDP1V_CORE1 -lt "LDP_EX_1" -abut -lt 90 -corner -single_point -output region -outputlayer _EPTMPL265123;
    SELECT -inside -not _EPTMPL265123 SRAM_EXCLUDE -outputlayer F;
    SELECT -interact -not F D ; // -outputlayer _EPTMPL265125
    EXTE PLDDP1V_CORE1 -lt "LDP_EX_1" -abut -lt 90 -project -eq 0 -output region -outputlayer _EPTMPL265126;
    SELECT -inside -not _EPTMPL265126 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265127
}

RULE LDP.EX.1:DCO {
    CAPTION "PP extension on OD2 >= 0.18";
    CAPTION "LDP.O.2  PP overlap of DCO >= 0.18";
    CAPTION "LDP.EX.2  PP extension on {RH OR BJTDMY} >= 0.18";
    CAPTION "LDP.EX.3  PP extension on VAR >= 0.18";
    CAPTION "LDP.O.1  PP overlap of NW >= 0.18";
    INTE PLDDP1V_CORE2 -lt "LDP_EX_1" -abut -lt 90 -metric opposite -output region -outputlayer A;
    EXTE PLDDP1V_CORE2 -lt "LDP_EX_1" -abut -lt 90 -metric opposite -output region -outputlayer B;
    SELECT -enclose_rect -not A -width 0.1 -length LDP_EX_1 -orthogonal_only -outputlayer _EPTMPL265130;
    SELECT -inside -not _EPTMPL265130 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265131
    SELECT -enclose_rect -not B -width 0.1 -length LDP_EX_1 -orthogonal_only -outputlayer _EPTMPL265132;
    SELECT -inside -not _EPTMPL265132 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265133
    SIZE DCO -by 0.005 -outputlayer C;
    INTE C -le 0.015 -output region -outputlayer D;
    INTE PLDDP1V_CORE2 -lt "LDP_EX_1" -abut -lt 90 -corner -single_point -output region -outputlayer _EPTMPL265136;
    SELECT -inside -not _EPTMPL265136 SRAM_EXCLUDE -outputlayer E;
    SELECT -interact -not E D ; // -outputlayer _EPTMPL265138
    INTE PLDDP1V_CORE2 -lt "LDP_EX_1" -abut -lt 90 -project -eq 0 -output region -outputlayer _EPTMPL265139;
    SELECT -inside -not _EPTMPL265139 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265140
    EXTE PLDDP1V_CORE2 -lt "LDP_EX_1" -abut -lt 90 -corner -single_point -output region -outputlayer _EPTMPL265141;
    SELECT -inside -not _EPTMPL265141 SRAM_EXCLUDE -outputlayer F;
    SELECT -interact -not F D ; // -outputlayer _EPTMPL265143
    EXTE PLDDP1V_CORE2 -lt "LDP_EX_1" -abut -lt 90 -project -eq 0 -output region -outputlayer _EPTMPL265144;
    SELECT -inside -not _EPTMPL265144 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265145
}

RULE LDP.O.2 {
    CAPTION "PP overlap of OD2 >= 0.18";
    CAPTION "LDP.EX.2  PP extension on {RH OR BJTDMY} >= 0.18";
    CAPTION "LDP.EX.3  PP extension on VAR >= 0.18";
    CAPTION "LDP.O.1  PP overlap of NW >= 0.18";
    INTE PLDDP2V -lt "LDP_O_2" -abut -lt 90 -metric opposite -output region -outputlayer A;
    EXTE PLDDP2V -lt "LDP_O_2" -abut -lt 90 -metric opposite -output region -outputlayer B;
    SELECT -enclose_rect -not A -width 0.1 -length LDP_O_2 -orthogonal_only -outputlayer _EPTMPL265148;
    SELECT -inside -not _EPTMPL265148 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265149
    SELECT -enclose_rect -not B -width 0.1 -length LDP_O_2 -orthogonal_only -outputlayer _EPTMPL265150;
    SELECT -inside -not _EPTMPL265150 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265151
    INTE PLDDP2V -lt "LDP_O_2" -abut -lt 90 -corner -single_point -output region -outputlayer _EPTMPL265152;
    SELECT -inside -not _EPTMPL265152 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265153
    INTE PLDDP2V -lt "LDP_O_2" -abut -lt 90 -project -eq 0 -output region -outputlayer _EPTMPL265154;
    SELECT -inside -not _EPTMPL265154 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265155
    EXTE PLDDP2V -lt "LDP_O_2" -abut -lt 90 -corner -single_point -output region -outputlayer _EPTMPL265156;
    SELECT -inside -not _EPTMPL265156 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265157
    EXTE PLDDP2V -lt "LDP_O_2" -abut -lt 90 -project -eq 0 -output region -outputlayer _EPTMPL265158;
    SELECT -inside -not _EPTMPL265158 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265159
}

RULE VT.S.1 {
    CAPTION "VTL_N space to {OD2 OR NW OR DCO} >= 0.18";
    INTE VTL_N_LD -lt "VT_S_1" -abut -lt 90 -metric opposite -output region -outputlayer A;
    EXTE VTL_N_LD -lt "VT_S_1" -abut -lt 90 -metric opposite -output region -outputlayer B;
    SELECT -enclose_rect -not A -width 0.1 -length VT_S_1 -orthogonal_only ; // -outputlayer _EPTMPL265162
    SELECT -enclose_rect -not B -width 0.1 -length VT_S_1 -orthogonal_only ; // -outputlayer _EPTMPL265163
    INTE VTL_N_LD -lt "VT_S_1" -abut -lt 90 -corner ; // -outputlayer _EPTMPL265164
    INTE VTL_N_LD -lt "VT_S_1" -abut -lt 90 -project -eq 0 ; // -outputlayer _EPTMPL265165
    EXTE VTL_N_LD -lt "VT_S_1" -abut -lt 90 -corner ; // -outputlayer _EPTMPL265166
    EXTE VTL_N_LD -lt "VT_S_1" -abut -lt 90 -project -eq 0 ; // -outputlayer _EPTMPL265167
    SIZE VTLN -by "GRID" -outputlayer C;
    AND C OD2 -outputlayer D;
    AREA D -lt 0.0005 ; // -outputlayer _EPTMPL265170
    AND C NWEL -outputlayer E;
    AREA E -lt 0.0005 ; // -outputlayer _EPTMPL265172
    AND C DCO -outputlayer F;
    AREA F -lt 0.0005 ; // -outputlayer _EPTMPL265174
}

RULE VT.EX.2 {
    CAPTION "NW extension on {OD2 OR VTL_P OR DCO} >= 0.18";
    INTE VTL_P_LD -lt "VT_EX_2" -abut -lt 90 -metric opposite -output region -outputlayer A;
    EXTE VTL_P_LD -lt "VT_EX_2" -abut -lt 90 -metric opposite -output region -outputlayer B;
    SELECT -enclose_rect -not A -width 0.1 -length VT_EX_2 -orthogonal_only ; // -outputlayer _EPTMPL265177
    SELECT -enclose_rect -not B -width 0.1 -length VT_EX_2 -orthogonal_only ; // -outputlayer _EPTMPL265178
    INTE VTL_P_LD -lt "VT_EX_2" -abut -lt 90 -corner ; // -outputlayer _EPTMPL265179
    INTE VTL_P_LD -lt "VT_EX_2" -abut -lt 90 -project -eq 0 ; // -outputlayer _EPTMPL265180
    EXTE VTL_P_LD -lt "VT_EX_2" -abut -lt 90 -corner ; // -outputlayer _EPTMPL265181
    EXTE VTL_P_LD -lt "VT_EX_2" -abut -lt 90 -project -eq 0 ; // -outputlayer _EPTMPL265182
    SIZE VTLP -by "GRID" -outputlayer C;
    NOT C NWEL -outputlayer D;
    AREA D -lt 0.0005 ; // -outputlayer _EPTMPL265185
    AND C OD2 -outputlayer E;
    AREA E -lt 0.0005 ; // -outputlayer _EPTMPL265187
    AND C DCO -outputlayer F;
    AREA F -lt 0.0005 ; // -outputlayer _EPTMPL265189
}
NOT GATE SDI -outputlayer NOGT;
NOT FPO1 ESD1DMY -outputlayer _EPTMPL265191;
NOT _EPTMPL265191 ESD2DMY -outputlayer FPO1A;
SIZE RPO -by -RPO_EX_1_1_W/2  -outputlayer _EPTMPL265193;
SELECT -interact RPO _EPTMPL265193 -outputlayer Wide_RPO;

RULE RPO.W.1 {
    CAPTION "Width >= 0.43 um";
    INTE RPO -lt "RPO_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265195
}

RULE RPO.S.1 {
    CAPTION "Space >= 0.43 um";
    EXTE RPO -lt "RPO_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265196
}

RULE RPO.S.2 {
    CAPTION "Space to OD >= 0.22 um";
    EXTE RPO OD -lt "RPO_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265197
}

RULE RPO.S.3 {
    CAPTION "Space to CO (overlap of CO is not allowed.) >= 0.22 um";
    EXTE RPO CO -lt "RPO_S_3" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265198
    AND RPO CO ; // -outputlayer _EPTMPL265199
}

RULE RPO.S.4 {
    CAPTION "Space to GATE (overlap of GATE is not allowed except ESD circuit.) >= 0.38 um";
    EXTE RPO NOGT -lt "RPO_S_4" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265200
    AND RPO NOGT ; // -outputlayer _EPTMPL265201
}

RULE RPO.S.5 {
    CAPTION "Space to PO >= 0.3 um";
    EXTE RPO FPO1 -lt "RPO_S_5" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265202
}

RULE RPO.EX.1 {
    CAPTION "Extension on unsilicided OD/PO >= 0.22 um";
    ENC OD RPO -lt "RPO_EX_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265203
    ENC FPO1A RPO -lt "RPO_EX_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265204
    SELECT -inside RPO OD ; // -outputlayer _EPTMPL265205
    SELECT -inside RPO FPO1A ; // -outputlayer _EPTMPL265206
}

RULE RPO.EX.1.1 {
    CAPTION "Extension on unsilicided OD/PO [RPO width > 10um] >= 0.3 um";
    ENC OD Wide_RPO -lt "RPO_EX_1_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265207
    ENC FPO1A Wide_RPO -lt "RPO_EX_1_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265208
}

RULE RPO.EX.2 {
    CAPTION "OD extension on RPO >= 0.22 um";
    ENC RPO OD -lt "RPO_EX_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265209
}

RULE RPO.A.1 {
    CAPTION "Area >= 1 um2";
    AREA RPOs -lt "RPO_A_1" -outputlayer _EPTMPL265210;
    SELECT -inside -not _EPTMPL265210 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265211
}
variable RPO_A_2pre " ((RPO_A_2 + (RPO_S_1 * RPO_S_1 * 3.142))/(2 * RPO_S_1))   *((RPO_A_2 + (RPO_S_1 * RPO_S_1 * 3.142))/(2 * RPO_S_1))/3.141 ";

RULE RPO.A.2 {
    CAPTION "Enclosed area >= 1 um2";
    HOLES RPO -inner -lt "RPO_A_2pre" -outputlayer A;
    NOT A RPO -outputlayer B;
    AREA B -lt "RPO_A_2" ; // -outputlayer _EPTMPL265214
}

RULE RPO.R.1 {
    CAPTION "Butted NP/PP on unsilicided OD/PO is not allowed";
    AND RPO POLY -outputlayer _EPTMPL265215;
    AND RPO OD -outputlayer _EPTMPL265216;
    OR _EPTMPL265215 _EPTMPL265216 -outputlayer X;
    AND X NP -outputlayer NX;
    AND X PP -outputlayer PX;
    SELECT -interact NX PX -outputlayer Y;
    SELECT -interact X Y ; // -outputlayer _EPTMPL265221
}

RULE RES.8 {
    CAPTION "RH space to GATE (overlap is not allowed) >= 0.16 um";
    EXTE RH GATE -lt "RES_8" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265222
    AND RH GATE ; // -outputlayer _EPTMPL265223
}

RULE RES.10 {
    CAPTION "RPO intersecting (PO AND RH) must form two more POs (except BJT or ESD circuit)";
    SELECT -outside PORESg BJTDMY -outputlayer _EPTMPL265224;
    SELECT -outside _EPTMPL265224 INDDMY -outputlayer PORES_NOT_SDI_BJT;
    AND PORES_NOT_SDI_BJT RH -outputlayer X;
    NOT POLY X -outputlayer A;
    SELECT -interact X A -lt 2 ; // -outputlayer _EPTMPL265228
    SELECT -interact -not X A ; // -outputlayer _EPTMPL265229
}

RULE RES.11 {
    CAPTION "RPO intersecting (OD AND RH) must form two more ODs (except BJT or ESD circuit)";
    NOT ODRES SDI -outputlayer ODRES_NOT_SDI_BJT;
    AND ODRES_NOT_SDI_BJT RH -outputlayer X;
    NOT OD X -outputlayer A;
    SELECT -interact X A -lt 2 ; // -outputlayer _EPTMPL265233
    SELECT -interact -not X A ; // -outputlayer _EPTMPL265234
}

RULE RES.21 {
    CAPTION "NP OD resistor is not allowed interacting with NW";
    AND OD NP -outputlayer _EPTMPL265235;
    AND _EPTMPL265235 RH -outputlayer _EPTMPL265236;
    AND _EPTMPL265236 RPDMY -outputlayer _EPTMPL265237;
    SELECT -interact _EPTMPL265237 NWi -single_point also ; // -outputlayer _EPTMPL265238
}

RULE RES.22 {
    CAPTION "PP OD resistor is only allowed inside NW";
    AND OD PP -outputlayer _EPTMPL265239;
    AND _EPTMPL265239 RH -outputlayer _EPTMPL265240;
    AND _EPTMPL265240 RPDMY -outputlayer _EPTMPL265241;
    SELECT -inside -not _EPTMPL265241 NWi ; // -outputlayer _EPTMPL265242
}

RULE RES.12g {
    CAPTION "{RPO AND PO} must be fully covered by RH except for BJT or ESD circuits";
    NOT PORESg RH ; // -outputlayer _EPTMPL265243
}

RULE RES.13g {
    CAPTION "{RPO AND OD} must be fully covered by RH except for BJT or ESD circuits";
    NOT ODRES RH ; // -outputlayer _EPTMPL265244
}
SELECT -outside -not GATE VAR -outputlayer VAR_GATE;
SELECT -inside VAR_GATE RFDMY -outputlayer VAR_RF_GATE;
EDGE_SELECT -coincident_only -inside GATE_W VAR_GATE -outputlayer VAR_GATE_W;
EDGE_SELECT -coincident_only -inside GATE_W VAR_RF_GATE -outputlayer VAR_RF_GATE_W;
EDGE_BOOLEAN -inside VAR_RF_GATE_W OD2 -outputlayer VAR_RF_HV_GATE_W;
EDGE_BOOLEAN -inside -not VAR_RF_GATE_W OD2 -outputlayer VAR_RF_LV_GATE_W;

RULE VAR.W.1 {
    CAPTION "Length of {gate AND VAR} >= 0.2 um";
    INTE VAR_GATE -lt "VAR_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265251
}

RULE VAR.W.4 {
    CAPTION "Channel width of { gate AND VAR } >= 0.4 um";
    EDGE_LENGTH VAR_GATE_W -lt "VAR_W_4" ; // -outputlayer _EPTMPL265252
}

RULE VAR.S.1 {
    CAPTION "Space to Active >= 0.13";
    EXTE VAR DACT -lt "VAR_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265253
}

RULE VAR.EN.1 {
    CAPTION "Enclosure of OD >= 0.16";
    ENC OD VAR -lt "VAR_EN_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265254
    SELECT -cut OD VAR ; // -outputlayer _EPTMPL265255
}

RULE VAR.R.1 {
    CAPTION "VAR layer must be drawn to fully cover the varactor devices.";
    NOT VAR_GATE VAR ; // -outputlayer _EPTMPL265256
}

RULE VAR.R.2 {
    CAPTION "Overlap of VTL_N, VTL_P, VTH_N, VTH_P, mVTL, NT_N, PW, or RPO is not allowed.";
    AND VAR VTLN ; // -outputlayer _EPTMPL265257
    AND VAR VTLP ; // -outputlayer _EPTMPL265258
    AND VAR NTN ; // -outputlayer _EPTMPL265259
    AND VAR VTHN ; // -outputlayer _EPTMPL265260
    AND VAR VTHP ; // -outputlayer _EPTMPL265261
    AND VAR mVTL ; // -outputlayer _EPTMPL265262
    NOT VAR NWEL ; // -outputlayer _EPTMPL265263
    AND VAR RPO ; // -outputlayer _EPTMPL265264
}

RULE VAR.R.3 {
    CAPTION "PP overlap of {gate AND VAR} is not allowed.";
    AND VAR_GATE PP ; // -outputlayer _EPTMPL265265
}

RULE VAR.R.4 {
    CAPTION "Overlap of {gate SIZING 0.16 um} is not allowed.";
    SIZE VAR -by "VAR_W_1" -outputlayer VAR_E;
    SELECT -interact GATE VAR_E -outputlayer _EPTMPL265267;
    SELECT -outside _EPTMPL265267 VAR -outputlayer VAR_EXG;
    SIZE VAR_EXG -by "VAR_R_4" -outputlayer VAR_EXGS;
    AND VAR VAR_EXGS ; // -outputlayer _EPTMPL265270
}

RULE VAR.R.5 {
    CAPTION "NP must fully cover ((((VAR AND GATE) SIZING 0.19) AND OD) SIZING 0.13)";
    AND VAR GATE -outputlayer _EPTMPL265271;
    SIZE _EPTMPL265271 -by "VAR_R_5_1" -outputlayer A;
    AND A OD -outputlayer _EPTMPL265273;
    SIZE _EPTMPL265273 -by "VAR_R_5_2" -outputlayer B;
    NOT B NP ; // -outputlayer _EPTMPL265275
}

RULE HVD_N:WARN {
    CAPTION "5V HV MOS is allowed only in LP process";
    COPY HVD_N_nw ; // -outputlayer _EPTMPL265276
}

RULE HVD_P:WARN {
    CAPTION "5V HV MOS is allowed only in LP process";
    COPY HVD_P ; // -outputlayer _EPTMPL265277
}
SELECT -interact PPOD HVD_P -outputlayer HVPMOS;
SELECT -interact NPOD HVD_N_nw -outputlayer HVNMOS;
EDGE_BOOLEAN -inside HVPMOS POLY -outputlayer _EPTMPL265280;
EDGE_SELECT -coincident_only HVPMOS _EPTMPL265280 -outputlayer HVPMOS_LSIDE;
EDGE_BOOLEAN -coincident_only -not HVPMOS HVPMOS_LSIDE -outputlayer HVPMOS_WSIDE;

RULE GR.R.1 {
    CAPTION "It is not allowed to place HVNMOS and HVPMOS inside the same guard-ring";
    SELECT -inside -not HVNMOS PTAP_guard_ring_hole ; // -outputlayer _EPTMPL265283
    SELECT -inside -not HVPMOS NTAP_guard_ring_hole ; // -outputlayer _EPTMPL265284
}

RULE GR.R.7__GR.R.8 {
    CAPTION "For one row and two rows multi-OD in the same guard ring, the outer edge of OD in PO endcap direction of each HV PMOS space to the N+/NW guard ring (NW STRAP) <= 2 um. The OD space in PO endcap direction between two rows multi-OD HV PMOS in the same guard ring <= 4 um";
    EXTE HVPMOS_LSIDE -le "GR_R_8" -output positive1 -outputlayer A;
    EDGE_BOOLEAN -coincident_only -not HVPMOS_LSIDE A -outputlayer B;
    EXTE B NSTP -le "GR_R_7" -output positive1 -outputlayer C;
    EDGE_BOOLEAN -coincident_only -not B C ; // -outputlayer _EPTMPL265288
}

RULE GR.R.10__GR.R.11 {
    CAPTION "For one row and two rows multi-OD in the same guard ring, the outer edge of OD in S/D direction of HV PMOS row space to the N+/NW guard ring (NW STRAP) <= 2 um. The OD space in S/D direction between each HV PMOS in the same guard ring <= 2 um";
    EXTE HVPMOS_WSIDE -le "GR_R_10" -output positive1 -outputlayer A;
    EDGE_BOOLEAN -coincident_only -not HVPMOS_WSIDE A -outputlayer B;
    EXTE B NSTP -le "GR_R_11" -output positive1 -outputlayer C;
    EDGE_BOOLEAN -coincident_only -not B C ; // -outputlayer _EPTMPL265292
}
EXTE HVPMOS_LSIDE -le "GR_R_8" -output region -outputlayer HVPMOS_2RS_EXT;
SELECT -touch HVPMOS HVPMOS_2RS_EXT -outputlayer HVPMOS_2RS;
EDGE_BOOLEAN -coincident_only -not HVPMOS_2RS HVPMOS_LSIDE -outputlayer HVPMOS_2RS_WSIDE;

RULE GR.R.13 {
    CAPTION "The OD width of two rows multi-OD HV PMOS within the same guard ring <= 10 um";
    EDGE_LENGTH HVPMOS_2RS_WSIDE -gt "GR_R_13" ; // -outputlayer _EPTMPL265296
}

RULE GR.R.14 {
    CAPTION "HV N/PMOS enclosed by (guard ring with RPO) is not allowed.";
    HOLES NSTP -outputlayer _EPTMPL265297;
    HOLES PSTP -outputlayer _EPTMPL265298;
    OR _EPTMPL265297 _EPTMPL265298 -outputlayer GR_HOLE;
    OR HVPMOS HVNMOS -outputlayer _EPTMPL265300;
    SELECT -enclose GR_HOLE _EPTMPL265300 -outputlayer GR_HOLE_CHK;
    SELECT -touch NSTP GR_HOLE_CHK -outputlayer _EPTMPL265302;
    AND _EPTMPL265302 RPO ; // -outputlayer _EPTMPL265303
    SELECT -touch PSTP GR_HOLE_CHK -outputlayer _EPTMPL265304;
    AND _EPTMPL265304 RPO ; // -outputlayer _EPTMPL265305
}

RULE CO.W.1 {
    CAPTION "Width (maximum = minimum except for seal-ring and fuse protection ring) = 0.09 um";
    CAPTION "CO.R.3  45-degree rotated CO is not allowed";
    RECT_CHK -not COs -eq "CO_W_1" -by -eq "CO_W_1" -orthogonal_only -outputlayer A;
    NOT A VIA_EXD -outputlayer _EPTMPL265307;
    SELECT -inside -not _EPTMPL265307 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265308
}

RULE CO.W.2 {
    CAPTION "CO bar width >= 0.09 um (CO bar is covered by SEALRING layer and only allowed in seal-ring and fuse protecion ring)";
    INTE CO_BAR -lt "CO_W_2" -abut -lt 90 -metric opposite -para ONLY ; // -outputlayer _EPTMPL265309
    WITH_WIDTH CO_BAR -gt "CO_W_2" -outputlayer A;
    ANGLE CO_BAR -eq 45 -outputlayer B;
    INTE B -lt "CO_W_2 + GRID" -output region -outputlayer C;
    NOT A C -outputlayer D;
    SELECT -enclose_rect D -width 1 -length 0.005 ; // -outputlayer _EPTMPL265314
}

RULE CO.S.1 {
    CAPTION "Spacing >= 0.11 um";
    EXTE CO -lt "CO_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265315
}

RULE CO.S.2 {
    CAPTION "Space to 3-neighboring CO (< 0.15 um distance) >= 0.14 um";
    SELECT -with_neighbor CO -gt 2 -space -lt CO_S_2_N -outputlayer X;
    EXTE X CO -lt "CO_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265317
}
STAMP CO COi -outputlayer CO_NODAL;

RULE CO.S.2.1 {
    CAPTION "Space to neighboring CO [different net and common parallel run length > 0] >= 0.14 um";
    EXTE CO_NODAL -lt "CO_S_2_1" -abut -lt 90 -not_connected -metric opposite -output region ; // -outputlayer _EPTMPL265319
}

RULE CO.S.2.2 {
    CAPTION "Space to neighboring CO [different net] >= 0.12 um";
    EXTE CO_NODAL -lt "CO_S_2_2" -abut -lt 90 -not_connected -output region ; // -outputlayer _EPTMPL265320
}

RULE CO.S.3 {
    CAPTION "Space to GATE (Overlap of GATE is not allowed) >= 0.055 um";
    EXTE COOD GATE -lt "CO_S_3" -abut -lt 90 -single_point -output region -outputlayer A;
    SELECT -inside -not A SRAMDMY_PERI ; // -outputlayer _EPTMPL265322
    AND CO GATE ; // -outputlayer _EPTMPL265323
}

RULE CO.S.4 {
    CAPTION "{CO inside PO} space to OD >= 0.07 um";
    EXTE COPO OD -lt "CO_S_4" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265324
}

RULE CO.S.5 {
    CAPTION "{CO inside OD} space to 1.8V or 2.5V or 3.3V GATE >= 0.09 um";
    EXTE COOD HV_GATE -lt "CO_S_5" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265325
}

RULE CO.S.6 {
    CAPTION "Space to butted PP/NP edge on OD (overlap of NP/PP boundary on OD is not allowed.) >= 0.06 um";
    EXTE NP_PP_BTE COOD -lt "CO_S_6" -abut -lt 90 -output region ; // -outputlayer _EPTMPL265326
    ENC COOD NP_PP_BTE -lt "CO_S_6" -abut -lt 90 -output region ; // -outputlayer _EPTMPL265327
    NOT COOD CSRDMY -outputlayer _EPTMPL265328;
    NOT _EPTMPL265328 SEALRING -outputlayer _EPTMPL265329;
    SELECT -cut _EPTMPL265329 PP ; // -outputlayer _EPTMPL265330
    ENC COOD PP -lt 0.001 -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265331
    ENC COOD NP -lt 0.001 -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265332
}

RULE CO.EN.1 {
    CAPTION "Enclosure by OD >= 0.015 um";
    ENC COOD OD -lt "CO_EN_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265333
}

RULE CO.EN.1.1 {
    CAPTION "Enclosure by OD [at least two opposite side] >= 0.03 um.";
    RECT_ENC COOD OD -abut -lt 90 -single_point -good CO_EN_1 CO_EN_1_1 opposite CO_EN_1 CO_EN_1_1 opposite -outputlayer X;
    ENC X OD -lt "CO_EN_1_1" -abut -lt 90 -metric opposite -output positive1 -outputlayer Y;
    EDGE_SELECT -coincident_only X Y -outputlayer Z;
    INTE Z -lt "CO_W_1" -abut -eq 90 -intersecting ONLY -output region ; // -outputlayer _EPTMPL265337
}

RULE CO.EN.2 {
    CAPTION "Enclosure by PO >= 0.01";
    ENC COPO POLYs -lt "CO_EN_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265338
    NOT COPO POLY ; // -outputlayer _EPTMPL265339
}

RULE CO.EN.3__CO.EN.4 {
    CAPTION "Enclosure by PO [at least two opposite sides] >= 0.04 ,or [all sides] >= 0.03";
    RECT_ENC CO POLYs -abut -ltgt 0 90 -single_point -good CO_EN_2 CO_EN_3 opposite CO_EN_2 CO_EN_3 opposite -outputlayer X;
    ENC X POLYs -lt "CO_EN_4" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265341
}
SIZE M1 -by "M1_S_2_W/2" -underover -truncate "M1_S_2_W/2" -outputlayer _EPTMPL265342;
AND _EPTMPL265342 M1 -outputlayer M1Wide_first;
SIZE M1Wide_first -by "M1_S_2_1_W/2" -underover -truncate "M1_S_2_1_W/2" -outputlayer _EPTMPL265344;
AND _EPTMPL265344 M1Wide_first -outputlayer M1Wide_0.4;
SIZE M1Wide_first -by "M1_S_3_W/2" -underover -truncate "M1_S_3_W/2" -outputlayer _EPTMPL265346;
AND _EPTMPL265346 M1Wide_first -outputlayer M1Wide_1.5;
SIZE M1Wide_1.5 -by "M1_S_4_W/2" -underover -truncate "M1_S_4_W/2" -outputlayer _EPTMPL265348;
AND _EPTMPL265348 M1Wide_1.5 -outputlayer M1Wide_4.5;
NOT M1Wide_first CB_NON_CUP -outputlayer M1_10;
NOT M1Wide_0.4 CB_NON_CUP -outputlayer M1_11;
NOT M1Wide_1.5 CB_NON_CUP -outputlayer M1_2;
NOT M1Wide_4.5 CB_NON_CUP -outputlayer M1_3;
AREA M1 -gt "M1_S_3_L*M1_W_1" -outputlayer M1AS3;
AREA M1AS3 -gt "M1_S_4_L*M1_W_1" -outputlayer M1AS4;
ANGLE M1 -eq 45 -outputlayer M1_EDGE_45;

RULE M1.W.1 {
    CAPTION "Width >= 0.09 um";
    INTE M1s -lt "M1_W_1" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL265357;
    SELECT -inside -not _EPTMPL265357 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265358
}

RULE M1.W.2 {
    CAPTION "Width of 45-degree bent M1 Please make sure the vertex of 45-degree pattern is on 5nm grid (refer to the guideline, G.6gU, in section XXX) >= 0.19";
    INTE M1_EDGE_45 -lt "M1_W_2" -abut -lt 90 -output region ; // -outputlayer _EPTMPL265359
}

RULE M1.W.3 {
    CAPTION "Maximum width <= 12 um";
    SIZE M1 -by "M1_W_3/2" -underover -truncate "M1_W_3/2" ; // -outputlayer _EPTMPL265360
}

RULE M1.S.1 {
    CAPTION "Spacing >= 0.09 um";
    EXTE M1 -lt "M1_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265361
}

RULE M1.S.2 {
    CAPTION "Space [at least one metal line width > 0.2 um  and the parallel metal run length > 0.38 um ] (union projection) >= 0.11";
    EXTE M1_10 M1 -lt "M1_S_2" -metric opposite -output region -measure all -outputlayer X;
    NOT X M1 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length M1_S_2_L+GRID ; // -outputlayer _EPTMPL265364
}

RULE M1.S.2.1 {
    CAPTION "Space [at least one metal line width > 0.42 um  and the parallel metal run length > 0.42 um ] (union projection) >= 0.16";
    EXTE M1_11 M1 -lt "M1_S_2_1" -metric opposite -output region -measure all -outputlayer X;
    NOT X M1 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length M1_S_2_1_L+GRID ; // -outputlayer _EPTMPL265367
}

RULE M1.S.3 {
    CAPTION "Space [at least one metal line width > 1.5 um  and the parallel metal run length > 1.5 um ] (union projection) >= 0.5";
    EXTE M1_2 M1AS3 -lt "M1_S_3" -metric opposite -output region -measure all -outputlayer X;
    NOT X M1 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length M1_S_3_L+GRID ; // -outputlayer _EPTMPL265370
}

RULE M1.S.4 {
    CAPTION "Space [at least one metal line width > 4.5 um  and the parallel metal run length > 4.5 um ] (union projection) >= 1.5";
    EXTE M1_3 M1AS4 -lt "M1_S_4" -metric opposite -output region -measure all -outputlayer X;
    NOT X M1 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length M1_S_4_L+GRID ; // -outputlayer _EPTMPL265373
}

RULE M1.S.5 {
    CAPTION "If M1 has parallel run length with opposite M1 along two adjacent edges of M1 [any one edge < 0.11 um (Q) and its opposite extension< 0.035um (T) distance from the corner of the two edges of M1], then one of the space (S1 or S2) to opposite M1 must be >= 0.11 um.";
    CONVEX_EDGE M1 -angle1 -eq 90 -angle2 -eq 90 -with_length -lt "M1_S_5_Q" -outputlayer A;
    EXTE A M1 -lt "M1_S_5" -abut -lt 90 -metric opposite_extended "M1_S_5_E" -output positive1 -outputlayer B;
    EDGE_SELECT -coincident_only -inside A B -outputlayer C;
    INTE C M1 -lt "M1_S_5_Q" -abut -eq 90 -intersecting ONLY -output positive2 -outputlayer D;
    EDGE_LENGTH D -ge "M1_W_1" -outputlayer I;
    EDGE_EXPAND I -inside_by 0.001 -extend_by "M1_S_5_E" -outputlayer J;
    EDGE_EXPAND I -inside_by 0.001 -outputlayer K;
    NOT J K -outputlayer L;
    SELECT -with_edge L A -outputlayer M;
    OR M K -outputlayer N;
    EDGE_SELECT -coincident_only N I -outputlayer O;
    EXTE O M1 -lt "M1_S_5" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL265385
}

RULE M1.S.6 {
    CAPTION "Space to 45-degree bent M1 >= 0.19 um";
    EDGE_EXPAND M1_EDGE_45 -outside_by "M1_S_6" -outputlayer X;
    AND X M1 ; // -outputlayer _EPTMPL265387
}

RULE M1.EN.1 {
    CAPTION "Enclosure of CO >= 0 um";
    NOT COs M1s ; // -outputlayer _EPTMPL265388
}

RULE M1.EN.2__M1.EN.3 {
    CAPTION "Enclosure of CO [at least two opposite sides] >= 0.04, or [all sides] >= 0.025 um";
    RECT_ENC COs M1s -abut -ltgt 0 90 -good 0 M1_EN_2 opposite 0 M1_EN_2 opposite -outputlayer A;
    ENC A M1s -lt "M1_EN_3" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL265390;
    SELECT -inside -not _EPTMPL265390 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265391
}
SIZE M1Wide_first -by "M1_EN_4_W/2" -underover -truncate "M1_EN_4_W/2" -outputlayer _EPTMPL265392;
AND _EPTMPL265392 M1Wide_first -outputlayer M1Wide_1.0;

RULE M1.EN.4 {
    CAPTION "Enclosure of CO [M1 width > 1um] >= 0.04 um";
    SELECT -inside COs M1Wide_1.0 -outputlayer A;
    ENC A M1s -lt "M1_EN_4" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265395
}

RULE M1.A.1 {
    CAPTION "Area >= 0.042 um2";
    AREA M1s -lt "M1_A_1" -outputlayer _EPTMPL265396;
    SELECT -inside -not _EPTMPL265396 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265397
}
variable M1_A_2pre " ((M1_A_2 + (M1_S_1 * M1_S_1 * 3.142))/(2 * M1_S_1))   *((M1_A_2 + (M1_S_1 * M1_S_1 * 3.142))/(2 * M1_S_1))/3.141 ";

RULE M1.A.2 {
    CAPTION "Enclosed area >= 0.2 um2";
    HOLES M1s -inner -lt "M1_A_2pre" -outputlayer X;
    NOT X M1i -outputlayer _EPTMPL265399;
    AREA _EPTMPL265399 -lt "M1_A_2" -outputlayer _EPTMPL265400;
    SELECT -inside -not _EPTMPL265400 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265401
}
COPY M1_EXC -outputlayer M1DN1H_EXC;
COPY M1_EXC_LOW -outputlayer M1DN1L_EXC;

RULE M1.DN.1 {
    CAPTION "M1 local density must be >= 0.1 range over 75 um x 75 um step 37.5 um";
    NOT M1x M1DN1L_EXC -outputlayer M1_CHECK;
    NOT CHIP M1DN1L_EXC -outputlayer CHIP_CHECK;
    DENSITY M1_CHECK CHIP_CHECK -lt M1_DN_1L -window "M1_DN_1L_W" -step "M1_DN_1L_S" -inside_of layer CHIPx -backup -expr "  AREA(M1_CHECK)/AREA(CHIP_CHECK)  " -outputlayer ERR_WIN;
    NOT ERR_WIN M1DN1L_EXC -outputlayer _EPTMPL265407;
    WITH_WIDTH _EPTMPL265407 -ge "M1_DN_1L_E" -outputlayer F;
    DENSITY F M1_CHECK CHIP_CHECK -lt M1_DN_1L -window "M1_DN_1L_W" -step "M1_DN_1L_S" -inside_of layer CHIPx -backup -print "M1.DN.1.density" -expr "  ! AREA(F)+AREA(M1_CHECK)/AREA(CHIP_CHECK)  " ; // -outputlayer _EPTMPL265409
}

RULE M1.DN.1.1 {
    CAPTION "M1 local density must be <= 0.8 range over 100 um x 100 um step 50 um";
    NOT M1x M1DN1H_EXC -outputlayer M1_CHECK;
    NOT CHIP M1DN1H_EXC -outputlayer CHIP_CHECK;
    DENSITY M1_CHECK CHIP_CHECK -gt M1_DN_1H -window "M1_DN_1H_W" -step "M1_DN_1H_S" -inside_of layer CHIPx -backup -expr "  AREA(M1_CHECK)/AREA(CHIP_CHECK)  " -outputlayer ERR_WIN;
    NOT ERR_WIN M1DN1H_EXC -outputlayer _EPTMPL265413;
    WITH_WIDTH _EPTMPL265413 -ge "M1_DN_1H_E" -outputlayer F;
    DENSITY F M1_CHECK CHIP_CHECK -gt M1_DN_1H -window "M1_DN_1H_W" -step "M1_DN_1H_S" -inside_of layer CHIPx -backup -print "M1.DN.1.1.density" -expr "  !! AREA(F)*AREA(M1_CHECK)/AREA(CHIP_CHECK)  " ; // -outputlayer _EPTMPL265415
}
COPY EMPTYi -outputlayer M1DN2_EXC;

RULE M1.DN.2 {
    CAPTION "M1 local density must be <= 0.9 range over 20 um x 20 um step 10 um";
    NOT M1x M1DN2_EXC -outputlayer M1_CHECK;
    DENSITY M1_CHECK CHIP -gt M1_DN_2 -window "M1_DN_2_W" -step "M1_DN_2_S" -inside_of layer CHIPx -backup -expr "  AREA(M1_CHECK)/AREA(CHIP)  " -outputlayer ERR_WIN;
    NOT ERR_WIN M1DN2_EXC -outputlayer _EPTMPL265419;
    WITH_WIDTH _EPTMPL265419 -ge "M1_DN_2_E" -outputlayer F;
    DENSITY F M1_CHECK CHIP -gt M1_DN_2 -window "M1_DN_2_W" -step "M1_DN_2_S" -inside_of layer CHIPx -backup -print "M1.DN.2.density" -expr "  !! AREA(F)*AREA(M1_CHECK)/AREA(CHIP)  " ; // -outputlayer _EPTMPL265421
}

RULE M1.DN.4 {
    CAPTION "The metal density difference between any two 250 um x 250 um neighboring checking windows including DM1EXCL <= 0.4";
    DENSITY M1x CHIP -le 1 -window "M1_DN_4_W" -backup -gradient -gt M1_DN_4 -corner -print "M1.DN.4.density" -expr "  AREA(M1x)/AREA(CHIP)  " ; // -outputlayer _EPTMPL265422
}
NOT M1x SRCSR -outputlayer M1_CORE;
SIZE M2 -by "M2_S_2_W/2" -underover -truncate "M2_S_2_W/2" -outputlayer _EPTMPL265424;
AND _EPTMPL265424 M2 -outputlayer M2Wide_first;
SIZE M2Wide_first -by "M2_S_2_1_W/2" -underover -truncate "M2_S_2_1_W/2" -outputlayer _EPTMPL265426;
AND _EPTMPL265426 M2Wide_first -outputlayer M2Wide_0.4;
SIZE M2Wide_first -by "M2_S_3_W/2" -underover -truncate "M2_S_3_W/2" -outputlayer _EPTMPL265428;
AND _EPTMPL265428 M2Wide_first -outputlayer M2Wide_1.5;
SIZE M2Wide_1.5 -by "M2_S_4_W/2" -underover -truncate "M2_S_4_W/2" -outputlayer _EPTMPL265430;
AND _EPTMPL265430 M2Wide_1.5 -outputlayer M2Wide_4.5;
SIZE M1Wide_first -by "VIA1_R_2_W/2" -underover -truncate "VIA1_R_2_W/2" -outputlayer _EPTMPL265432;
AND _EPTMPL265432 M1Wide_first -outputlayer M1Wide_0.42_VIA1;
SIZE M1Wide_0.42_VIA1 -by "VIA1_R_4_W/2" -underover -truncate "VIA1_R_4_W/2" -outputlayer _EPTMPL265434;
AND _EPTMPL265434 M1Wide_0.42_VIA1 -outputlayer M1Wide_0.7_VIA1;
SIZE M1Wide_0.7_VIA1 -by "VIA1_R_3_W/2" -underover -truncate "VIA1_R_3_W/2" -outputlayer _EPTMPL265436;
AND _EPTMPL265436 M1Wide_0.7_VIA1 -outputlayer M1Wide_0.98_VIA1;
SIZE M1Wide_0.98_VIA1 -by "VIA1_R_5_W/2" -underover -truncate "VIA1_R_5_W/2" -outputlayer _EPTMPL265438;
AND _EPTMPL265438 M1Wide_0.98_VIA1 -outputlayer M1Wide_2_VIA1;
SIZE M1Wide_2_VIA1 -by "VIA1_R_6_W/2" -underover -truncate "VIA1_R_6_W/2" -outputlayer _EPTMPL265440;
AND _EPTMPL265440 M1Wide_2_VIA1 -outputlayer M1Wide_3_VIA1;
SIZE M2Wide_first -by "VIA1_R_2_W/2" -underover -truncate "VIA1_R_2_W/2" -outputlayer _EPTMPL265442;
AND _EPTMPL265442 M2Wide_first -outputlayer M2Wide_0.42_VIA1;
SIZE M2Wide_0.42_VIA1 -by "VIA1_R_4_W/2" -underover -truncate "VIA1_R_4_W/2" -outputlayer _EPTMPL265444;
AND _EPTMPL265444 M2Wide_0.42_VIA1 -outputlayer M2Wide_0.7_VIA1;
SIZE M2Wide_0.7_VIA1 -by "VIA1_R_3_W/2" -underover -truncate "VIA1_R_3_W/2" -outputlayer _EPTMPL265446;
AND _EPTMPL265446 M2Wide_0.7_VIA1 -outputlayer M2Wide_0.98_VIA1;
SIZE M2Wide_0.98_VIA1 -by "VIA1_R_5_W/2" -underover -truncate "VIA1_R_5_W/2" -outputlayer _EPTMPL265448;
AND _EPTMPL265448 M2Wide_0.98_VIA1 -outputlayer M2Wide_2_VIA1;
SIZE M2Wide_2_VIA1 -by "VIA1_R_6_W/2" -underover -truncate "VIA1_R_6_W/2" -outputlayer _EPTMPL265450;
AND _EPTMPL265450 M2Wide_2_VIA1 -outputlayer M2Wide_3_VIA1;

RULE VIA1.W.1 {
    CAPTION "Width (maximum = minimum except for seal-ring and fuse protection ring) = 0.1 um";
    CAPTION "VIA1.R.1 45-degree rotated VIA is not allowed";
    RECT_CHK -not VIA1s -eq "VIA1_W_1" -by -eq "VIA1_W_1" -orthogonal_only -outputlayer A;
    NOT A VIA_EXD -outputlayer _EPTMPL265453;
    NOT _EPTMPL265453 SRAM_EXCLUDE ; // -outputlayer _EPTMPL265454
}

RULE VIA1.W.2 {
    CAPTION "Width of VIAx bar. VIAx bar is only allowed in seal-ring and fuse protection ring. SEALRING layer (CAD layer: 162 for both seal-ring and fuse protection ring) is a Must to cover VIAx bar if VIAx bar is used = 0.1";
    INTE VIA1_BAR -lt "VIA1_W_2" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL265455
    WITH_WIDTH VIA1_BAR -gt "VIA1_W_2" -outputlayer A;
    ANGLE VIA1_BAR -eq 45 -outputlayer B;
    INTE B -lt "VIA1_W_2 + 2*GRID" -output region -outputlayer C;
    NOT A C -outputlayer D;
    SELECT -enclose_rect D -width 1 -length 0.005 ; // -outputlayer _EPTMPL265460
}

RULE VIA1.S.1 {
    CAPTION "Spacing >= 0.1 um";
    EXTE VIA1 -lt "VIA1_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265461
}

RULE VIA1.S.2 {
    CAPTION "Space to 3-neighboring VIAx (< 0.14 um distance) >= 0.13 um";
    SELECT -with_neighbor VIA1 -gt 2 -space -lt VIA1_S_2_S -outputlayer X;
    EXTE X VIA1 -lt "VIA1_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265463
}

RULE VIA1.S.3 {
    CAPTION "Space to neighboring VIAx [different net and common parallel run length > 0] >= 0.13 um";
    STAMP VIA1 VIA1i -outputlayer VIA1_NODAL;
    EXTE VIA1_NODAL -lt "VIA1_S_3" -abut -lt 90 -not_connected -metric opposite -output region ; // -outputlayer _EPTMPL265465
}

RULE VIA1.EN.1 {
    CAPTION "Enclosure by M1 >= 0 um";
    NOT VIA1 M1 ; // -outputlayer _EPTMPL265466
}

RULE VIA1.EN.2__VIA1.EN.3 {
    CAPTION "Enclosure by M1 [at least two opposite sides] >= 0.04 , or [all sides] >= 0.03";
    RECT_ENC VIA1 M1s -abut -lt 90 -single_point -good 0 VIA1_EN_2 opposite 0 VIA1_EN_2 opposite -outputlayer X;
    ENC X M1s -lt "VIA1_EN_3" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265468
}
variable VIA1_R_2_S2_S1 "(VIA1_R_2_S2 - VIA1_R_2_S1)/2";

RULE VIA1.R.2__VIA1.R.3 {
    CAPTION "When M1 or M2 width > 0.3 um, more than one VIA1 is required.";
    CAPTION "2 vias spacing should be <= 0.2 um or 4 vias spacing should be <= 0.25 um";
    CAPTION "When M1 or M2 width > 0.7 um, more than three VIA1 is required.";
    CAPTION "4 vias spacing should be <= 0.2 um or 9 vias spacing should be <= 0.35 um";
    AND M1Wide_0.42_VIA1 M2 -outputlayer _EPTMPL265469;
    AND M2Wide_0.42_VIA1 M1 -outputlayer _EPTMPL265470;
    OR _EPTMPL265469 _EPTMPL265470 -outputlayer M2OvpM1_W_;
    AND M1Wide_0.98_VIA1 M2 -outputlayer _EPTMPL265472;
    AND M2Wide_0.98_VIA1 M1 -outputlayer _EPTMPL265473;
    OR _EPTMPL265472 _EPTMPL265473 -outputlayer M2OvpM1_B;
    NOT M2OvpM1_W_ M2OvpM1_B -outputlayer M2OvpM1_W;
    SELECT -outside -not VIA1_EXD M2OvpM1_W -outputlayer Checked_VIA1_W_;
    SELECT -outside -not VIA1_EXD M2OvpM1_B -outputlayer Checked_VIA1_B;
    NOT Checked_VIA1_W_ Checked_VIA1_B -outputlayer Checked_VIA1_W;
    SELECT -interact M1i M2OvpM1_W_ -outputlayer M1_effect;
    SELECT -interact M2i M2OvpM1_W_ -outputlayer M2_effect;
    AND M1_effect M2_effect -outputlayer effect_M2OvpM1_;
    SELECT -interact effect_M2OvpM1_ M2OvpM1_W_ -outputlayer effect_M2OvpM1;
    SELECT -interact VIA1_EXD effect_M2OvpM1 -outputlayer effect_VIA;
    SIZE effect_VIA -by "VIA1_R_2_S1/2" -inside_of effect_M2OvpM1 -step "M1_S_1*0.7" -outputlayer V1Merged_A;
    SIZE V1Merged_A -by "VIA1_R_2_S2_S1" -inside_of effect_M2OvpM1 -step "M1_S_1*0.7" -outputlayer V1Merged_B;
    SIZE V1Merged_B -by "(VIA1_R_3_S2 - VIA1_R_2_S2)/2" -inside_of effect_M2OvpM1 -step "M1_S_1*0.7" -outputlayer V1Merged_C;
    SELECT -interact V1Merged_A effect_VIA -lt 2 -outputlayer V1Merged_A2R;
    SELECT -outside V1Merged_A V1Merged_A2R -outputlayer V1Merged_A2;
    SELECT -interact V1Merged_A2 effect_VIA -lt 4 -outputlayer V1Merged_A4R;
    SELECT -outside V1Merged_A2 V1Merged_A4R -outputlayer V1Merged_A4;
    SELECT -interact V1Merged_B effect_VIA -lt 4 -outputlayer V1Merged_B4R;
    SELECT -outside V1Merged_B V1Merged_B4R -outputlayer V1Merged_B4;
    SELECT -interact V1Merged_C effect_VIA -lt 9 -outputlayer V1Merged_C9R;
    SELECT -outside V1Merged_C V1Merged_C9R -outputlayer V1Merged_C9;
    OR V1Merged_A2 V1Merged_B4 -outputlayer GMergeW;
    OR V1Merged_A4 V1Merged_C9 -outputlayer GMergeB;
    SELECT -interact Checked_VIA1_W GMergeW -outputlayer GVIA_W;
    SELECT -interact Checked_VIA1_B GMergeB -outputlayer GVIA_B;
    SELECT -interact M2OvpM1_W GVIA_W -outputlayer GOOD_AREA_W;
    SELECT -interact M2OvpM1_B GVIA_B -outputlayer GOOD_AREA_B;
    SELECT -outside Checked_VIA1_W GOOD_AREA_W ; // -outputlayer _EPTMPL265501
    SELECT -outside Checked_VIA1_B GOOD_AREA_B ; // -outputlayer _EPTMPL265502
}

RULE VIA1.R.4:M1 {
    CAPTION " At least two VIAx must be used for a connection that is <= 0.8 um (D) away from a metal plate (either Mx or Mx+1) with length > 0.3 um (L) and width > 0.3 um (W). (It is allowed to use one VIAx for a connection that is > 0.8 um (D) away from a metal plate (either Mx or Mx+1) with length > 0.3 um (L) and width > 0.3 um (W).)";
    SIZE M1Wide_0.7_VIA1 -by "VIA1_R_4_D + GRID" -outputlayer _EPTMPL265503;
    NOT _EPTMPL265503 M1Wide_0.7_VIA1 -outputlayer _EPTMPL265504;
    AND _EPTMPL265504 M1 -outputlayer Branch1;
    SELECT -interact Branch1 M1Wide_0.7_VIA1 -outputlayer _EPTMPL265506;
    SELECT -interact _EPTMPL265506 VIA1 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M1Wide_0.7_VIA1 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA1_R_4_D" -inside_of Branch1HasVia -step "M1_S_1*0.5" -outputlayer Branch;
    AND Branch M2 -outputlayer _EPTMPL265511;
    SELECT -interact _EPTMPL265511 VIA1 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA1 Branch -outputlayer _EPTMPL265513;
    SELECT -outside _EPTMPL265513 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M2 BranchSingleVia -outputlayer _EPTMPL265515;
    AND _EPTMPL265515 M1 -outputlayer _EPTMPL265516;
    SELECT -interact _EPTMPL265516 BranchSingleVia -outputlayer _EPTMPL265517;
    SELECT -interact _EPTMPL265517 VIA1 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL265519;
    NOT _EPTMPL265519 VIA_EXD ; // -outputlayer _EPTMPL265520
}

RULE VIA1.R.4:M2 {
    CAPTION "At least two VIAx must be used for a connection that is <= 0.8 um (D) away from a metal plate (either Mx or Mx+1) with length > 0.3 um (L) and width > 0.3 um (W). (It is allowed to use one VIAx for a connection that is > 0.8 um (D) away from a metal plate (either Mx or Mx+1) with length > 0.3 um (L) and width > 0.3 um (W).)";
    SIZE M2Wide_0.7_VIA1 -by "VIA1_R_4_D + GRID" -outputlayer _EPTMPL265521;
    NOT _EPTMPL265521 M2Wide_0.7_VIA1 -outputlayer _EPTMPL265522;
    AND _EPTMPL265522 M2 -outputlayer Branch1;
    SELECT -interact Branch1 M2Wide_0.7_VIA1 -outputlayer _EPTMPL265524;
    SELECT -interact _EPTMPL265524 VIA1 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M2Wide_0.7_VIA1 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA1_R_4_D" -inside_of Branch1HasVia -step "M2_S_1*0.5" -outputlayer Branch;
    AND Branch M1 -outputlayer _EPTMPL265529;
    SELECT -interact _EPTMPL265529 VIA1 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA1 Branch -outputlayer _EPTMPL265531;
    SELECT -outside _EPTMPL265531 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M1 BranchSingleVia -outputlayer _EPTMPL265533;
    AND _EPTMPL265533 M2 -outputlayer _EPTMPL265534;
    SELECT -interact _EPTMPL265534 BranchSingleVia -outputlayer _EPTMPL265535;
    SELECT -interact _EPTMPL265535 VIA1 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL265537;
    NOT _EPTMPL265537 VIA_EXD ; // -outputlayer _EPTMPL265538
}

RULE VIA1.R.5:M1 {
    CAPTION "At least two VIAx must be used for a connection that is <= 2 um (D) away from a metal plate (either Mx or Mx+1) with length > 2 um (L) and width > 2 um (W). It is allowed to use one VIAx for a connection that is > 2 um (D) away from a metal plate (either Mx or Mx+1) with length> 2 um (L) and width > 2 um (W).";
    SIZE M1Wide_2_VIA1 -by "VIA1_R_5_D + GRID" -outputlayer _EPTMPL265539;
    NOT _EPTMPL265539 M1Wide_2_VIA1 -outputlayer _EPTMPL265540;
    AND _EPTMPL265540 M1 -outputlayer Branch1;
    SELECT -interact Branch1 M1Wide_2_VIA1 -outputlayer _EPTMPL265542;
    SELECT -interact _EPTMPL265542 VIA1 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M1Wide_2_VIA1 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA1_R_5_D" -inside_of Branch1HasVia -step "M1_S_1*0.7" -outputlayer Branch;
    AND Branch M2 -outputlayer _EPTMPL265547;
    SELECT -interact _EPTMPL265547 VIA1 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA1 Branch -outputlayer _EPTMPL265549;
    SELECT -outside _EPTMPL265549 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M2 BranchSingleVia -outputlayer _EPTMPL265551;
    AND _EPTMPL265551 M1 -outputlayer _EPTMPL265552;
    SELECT -interact _EPTMPL265552 BranchSingleVia -outputlayer _EPTMPL265553;
    SELECT -interact _EPTMPL265553 VIA1 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL265555;
    NOT _EPTMPL265555 VIA_EXD ; // -outputlayer _EPTMPL265556
}

RULE VIA1.R.5:M2 {
    CAPTION "At least two VIAx must be used for a connection that is <= 2 um (D) away from a metal plate (either Mx or Mx+1) with length > 2 um (L) and width > 2 um (W). It is allowed to use one VIAx for a connection that is > 2 um (D) away from a metal plate (either Mx or Mx+1) with length> 2 um (L) and width > 2 um (W).";
    SIZE M2Wide_2_VIA1 -by "VIA1_R_5_D + GRID" -outputlayer _EPTMPL265557;
    NOT _EPTMPL265557 M2Wide_2_VIA1 -outputlayer _EPTMPL265558;
    AND _EPTMPL265558 M2 -outputlayer Branch1;
    SELECT -interact Branch1 M2Wide_2_VIA1 -outputlayer _EPTMPL265560;
    SELECT -interact _EPTMPL265560 VIA1 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M2Wide_2_VIA1 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA1_R_5_D" -inside_of Branch1HasVia -step "M2_S_1*0.7" -outputlayer Branch;
    AND Branch M1 -outputlayer _EPTMPL265565;
    SELECT -interact _EPTMPL265565 VIA1 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA1 Branch -outputlayer _EPTMPL265567;
    SELECT -outside _EPTMPL265567 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M1 BranchSingleVia -outputlayer _EPTMPL265569;
    AND _EPTMPL265569 M2 -outputlayer _EPTMPL265570;
    SELECT -interact _EPTMPL265570 BranchSingleVia -outputlayer _EPTMPL265571;
    SELECT -interact _EPTMPL265571 VIA1 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL265573;
    NOT _EPTMPL265573 VIA_EXD ; // -outputlayer _EPTMPL265574
}
SELECT -enclose_rect M1Wide_3_VIA1 -width VIA1_R_6_W -length VIA1_R_6_L+GRID -outputlayer M1Big_3_VIA1;

RULE VIA1.R.6:M1 {
    CAPTION " At least two VIAx must be used for a connection that is <= 5 um (D) away from a metal plate (either Mx or Mx+1) with length > 10 um (L) and width > 3 um (W). (It is allowed to use one VIAx for a connection that is > 5 um (D) away from a metal plate (either Mx or Mx+1) with length> 10 um (L) and width > 3 um (W)).";
    SIZE M1Big_3_VIA1 -by "VIA1_R_6_D + GRID" -outputlayer _EPTMPL265576;
    NOT _EPTMPL265576 M1Big_3_VIA1 -outputlayer _EPTMPL265577;
    AND _EPTMPL265577 M1 -outputlayer Branch1;
    SELECT -interact Branch1 M1Big_3_VIA1 -outputlayer _EPTMPL265579;
    SELECT -interact _EPTMPL265579 VIA1 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M1Big_3_VIA1 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA1_R_6_D" -inside_of Branch1HasVia -step "M1_S_1*0.7" -outputlayer Branch;
    AND Branch M2 -outputlayer _EPTMPL265584;
    SELECT -interact _EPTMPL265584 VIA1 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA1 Branch -outputlayer _EPTMPL265586;
    SELECT -outside _EPTMPL265586 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M2 BranchSingleVia -outputlayer _EPTMPL265588;
    AND _EPTMPL265588 M1 -outputlayer _EPTMPL265589;
    SELECT -interact _EPTMPL265589 BranchSingleVia -outputlayer _EPTMPL265590;
    SELECT -interact _EPTMPL265590 VIA1 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL265592;
    NOT _EPTMPL265592 VIA_EXD ; // -outputlayer _EPTMPL265593
}
SELECT -enclose_rect M2Wide_3_VIA1 -width VIA1_R_6_W -length VIA1_R_6_L+GRID -outputlayer M2Big_3_VIA1;

RULE VIA1.R.6:M2 {
    CAPTION "At least two VIAx must be used for a connection that is <= 5 um (D) away from a metal plate (either Mx or Mx+1) with length > 10 um (L) and width > 3 um (W). (It is allowed to use one VIAx for a connection that is > 5 um (D) away from a metal plate (either Mx or Mx+1) with length> 10 um (L) and width > 3 um (W)).";
    SIZE M2Big_3_VIA1 -by "VIA1_R_6_D + GRID" -outputlayer _EPTMPL265595;
    NOT _EPTMPL265595 M2Big_3_VIA1 -outputlayer _EPTMPL265596;
    AND _EPTMPL265596 M2 -outputlayer Branch1;
    SELECT -interact Branch1 M2Big_3_VIA1 -outputlayer _EPTMPL265598;
    SELECT -interact _EPTMPL265598 VIA1 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M2Big_3_VIA1 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA1_R_6_D" -inside_of Branch1HasVia -step "M2_S_1*0.7" -outputlayer Branch;
    AND Branch M1 -outputlayer _EPTMPL265603;
    SELECT -interact _EPTMPL265603 VIA1 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA1 Branch -outputlayer _EPTMPL265605;
    SELECT -outside _EPTMPL265605 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M1 BranchSingleVia -outputlayer _EPTMPL265607;
    AND _EPTMPL265607 M2 -outputlayer _EPTMPL265608;
    SELECT -interact _EPTMPL265608 BranchSingleVia -outputlayer _EPTMPL265609;
    SELECT -interact _EPTMPL265609 VIA1 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL265611;
    NOT _EPTMPL265611 VIA_EXD ; // -outputlayer _EPTMPL265612
}

RULE VIA1.R.11 {
    CAPTION "Single VIAx is not allowed for H-shape  Mx+1 when all of the following conditions come into existence:";
    CAPTION "1. The Mx+1 has H-shape interact with two metal holes : both two metal hole area <= 5 um2 and two metal hole length(L2) <= 5 um";
    CAPTION "2. The VIAx overlaps on the center metal bar of this H-shape Mx+1";
    CAPTION "3. The length (L) of the center metal bar <= 1 um and the width of metal bar is <= 0.3 um.";
    WITH_WIDTH M2i -le "VIA1_R_11_W" -outputlayer W;
    HOLES M2i -inner -le "VIA1_R_11_A" -outputlayer _EPTMPL265614;
    SELECT -interact _EPTMPL265614 W -outputlayer H_HOLE;
    SELECT -interact M2i H_HOLE -outputlayer A0;
    EDGE_BOOLEAN -coincident_only -outside A0 H_HOLE -outputlayer A;
    INTE A -le "VIA1_R_11_W" -abut -lt 90 -metric opposite -output region -exclude_shielded 4 -outputlayer _EPTMPL265618;
    SELECT -inside _EPTMPL265618 A0 -outputlayer _EPTMPL265619;
    SELECT -interact _EPTMPL265619 H_HOLE -eq 2 -outputlayer B0;
    INTE A -le "VIA1_R_11_L" -abut -lt 90 -metric opposite -output region -exclude_shielded 4 -outputlayer _EPTMPL265621;
    SELECT -inside _EPTMPL265621 A0 -outputlayer _EPTMPL265622;
    AND _EPTMPL265622 W -outputlayer _EPTMPL265623;
    SELECT -interact _EPTMPL265623 H_HOLE -eq 2 -outputlayer B1;
    EXTE H_HOLE -le "VIA1_R_11_W" -abut -lt 90 -metric opposite -notch only -output region -outputlayer HOLE_NOTCH;
    NOT B1 HOLE_NOTCH -outputlayer _EPTMPL265626;
    OR _EPTMPL265626 B0 -outputlayer B2;
    EXTE B2 -le "VIA1_R_11_W" -abut -eq 90 -intersecting ONLY -output region_extents -outputlayer _EPTMPL265628;
    SELECT -touch _EPTMPL265628 B2 -eq 2 -outputlayer _EPTMPL265629;
    AND _EPTMPL265629 W -outputlayer CORNER_M;
    OR B2 CORNER_M -outputlayer B;
    SELECT -enclose_rect -not B -width GRID -length VIA1_R_11_L+GRID -outputlayer CENTER_BAR1;
    SELECT -interact CENTER_BAR1 H_HOLE -eq 2 -outputlayer _EPTMPL265633;
    SELECT -interact _EPTMPL265633 VIA1i -outputlayer CENTER_BAR2;
    EDGE_BOOLEAN -coincident_only -outside CENTER_BAR2 H_HOLE -outputlayer C;
    EXTE C A -le "VIA1_R_11_L2" -metric opposite -output positive1 -outputlayer D;
    EDGE_BOOLEAN -coincident_only -inside -not C D -outputlayer E;
    SELECT -with_edge -not CENTER_BAR2 E -outputlayer CENTER_BAR3;
    SELECT -outside -not VIA1i CENTER_BAR3 -outputlayer CHECK_VIA;
    SELECT -interact A0 CHECK_VIA -outputlayer _EPTMPL265640;
    SELECT -interact M1i CHECK_VIA -outputlayer _EPTMPL265641;
    AND _EPTMPL265640 _EPTMPL265641 -outputlayer _EPTMPL265642;
    SELECT -interact _EPTMPL265642 VIA1i -eq 1 -outputlayer _EPTMPL265643;
    AND CHECK_VIA _EPTMPL265643 ; // -outputlayer _EPTMPL265644
}
NOT M2Wide_first CB_NON_CUP -outputlayer M21;
NOT M2Wide_0.4 CB_NON_CUP -outputlayer M211;
NOT M2Wide_1.5 CB_NON_CUP -outputlayer M22;
NOT M2Wide_4.5 CB_NON_CUP -outputlayer M23;
AREA M2 -gt "M2_S_3_L*M2_W_1" -outputlayer M2AS3;
AREA M2AS3 -gt "M2_S_4_L*M2_W_1" -outputlayer M2AS4;
ANGLE M2 -eq 45 -outputlayer M2_EDGE_45;

RULE M2.W.1 {
    CAPTION "Width >= 0.1 um";
    INTE M2 -lt "M2_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265652
}

RULE M2.W.2 {
    CAPTION "Width of 45-degree bent Mx Please make sure the vertex of 45 degree pattern is on 5nm grid >= 0.19 um";
    INTE M2_EDGE_45 -lt "M2_W_2" -abut -lt 90 -output region ; // -outputlayer _EPTMPL265653
}

RULE M2.W.3 {
    CAPTION "Maximum width <= 12 um";
    SIZE M2 -by "M2_W_3/2" -underover -truncate "M2_W_3/2" ; // -outputlayer _EPTMPL265654
}

RULE M2.S.1 {
    CAPTION "Spacing >= 0.1 um";
    EXTE M2 -lt "M2_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265655
}

RULE M2.S.2 {
    CAPTION "Space [at least one metal line width > 0.2 um  and the parallel metal run length > 0.38 um ] (union projection) >= 0.12";
    EXTE M21 M2 -lt "M2_S_2" -metric opposite -output region -measure all -outputlayer X;
    NOT X M2 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length M2_S_2_L+GRID ; // -outputlayer _EPTMPL265658
}

RULE M2.S.2.1 {
    CAPTION "Space [at least one metal line width > 0.4 um  and the parallel metal run length > 0.4 um ] (union projection) >= 0.16";
    EXTE M211 M2 -lt "M2_S_2_1" -metric opposite -output region -measure all -outputlayer X;
    NOT X M2 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length M2_S_2_1_L+GRID ; // -outputlayer _EPTMPL265661
}

RULE M2.S.3 {
    CAPTION "Space [at least one metal line width > 1.5 um  and the parallel metal run length > 1.5 um ] (union projection) >= 0.5";
    EXTE M22 M2AS3 -lt "M2_S_3" -metric opposite -output region -measure all -outputlayer X;
    NOT X M2 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length M2_S_3_L+GRID ; // -outputlayer _EPTMPL265664
}

RULE M2.S.4 {
    CAPTION "Space [at least one metal line width > 4.5 um  and the parallel metal run length > 4.5 um ] (union projection) >= 1.5";
    EXTE M23 M2AS4 -lt "M2_S_4" -metric opposite -output region -measure all -outputlayer X;
    NOT X M2 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length M2_S_4_L+GRID ; // -outputlayer _EPTMPL265667
}

RULE M2.S.5 {
    CAPTION "Space at Mx line-end (W<Q=0.120) in a dense-line-end configuration: If Mx has parallel run length with opposite Mx (measured with T=0.035 extension) along 2 adjacent edges of Mx [any one edge <Q distance from the corner of the two edges], then one of the space (S1 or S2) needs to be at least this value (except for small jog with edge length < 0.10 um (R)) >= 0.12 um.";
    NOT M2 SRAM_EXCLUDE -outputlayer M2sx;
    CONVEX_EDGE M2sx -angle1 -eq 90 -angle2 -eq 90 -with_length -lt "M2_S_5_Q" -outputlayer A;
    EXTE A M2sx -lt "M2_S_5" -abut -lt 90 -metric opposite_extended "M2_S_5_E" -output positive1 -outputlayer B;
    EDGE_SELECT -coincident_only -inside A B -outputlayer C;
    INTE C M2sx -lt "M2_S_5_Q" -abut -eq 90 -intersecting ONLY -output positive2 -outputlayer D;
    EDGE_LENGTH D -ge "M2_W_1" -outputlayer I;
    EDGE_EXPAND I -inside_by 0.001 -extend_by "M2_S_5_E" -outputlayer J;
    EDGE_EXPAND I -inside_by 0.001 -outputlayer K;
    NOT J K -outputlayer L;
    SELECT -with_edge L A -outputlayer M;
    OR M K -outputlayer N;
    EDGE_SELECT -coincident_only N I -outputlayer O;
    EXTE O M2sx -lt "M2_S_5" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL265680
}

RULE M2.EN.1 {
    CAPTION " Enclosure of VIA1 >= 0 um";
    NOT VIA1 M2 ; // -outputlayer _EPTMPL265681
}

RULE M2.EN.2__M2.EN.3 {
    CAPTION "Enclosure of VIA1 [at least two opposite sides] >= 0.04 ,or [all sides] >= 0.03";
    RECT_ENC VIA1 M2 -abut -lt 90 -single_point -good 0 M2_EN_2 opposite 0 M2_EN_2 opposite -outputlayer X;
    ENC X M2 -lt "M2_EN_3" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265683
}

RULE M2.A.1 {
    CAPTION "Area >= 0.052 um2";
    AREA M2 -lt "M2_A_1" -outputlayer A;
    NOT A SRAM_EXCLUDE ; // -outputlayer _EPTMPL265685
}
variable M2_A_2pre " ((M2_A_2 + (M2_S_1 * M2_S_1 * 3.142))/(2 * M2_S_1))   *((M2_A_2 + (M2_S_1 * M2_S_1 * 3.142))/(2 * M2_S_1))/3.141 ";

RULE M2.A.2 {
    CAPTION "Enclosed area >= 0.2 um";
    HOLES M2 -inner -lt "M2_A_2pre" -outputlayer X;
    NOT X M2 -outputlayer _EPTMPL265687;
    AREA _EPTMPL265687 -lt "M2_A_2" ; // -outputlayer _EPTMPL265688
}

RULE M2.S.6 {
    CAPTION "Space to 45 degree bent M2 >=  M2_S_6 um";
    EDGE_EXPAND M2_EDGE_45 -outside_by "M2_S_6" -outputlayer X;
    AND X M2 ; // -outputlayer _EPTMPL265690
}
COPY M2_EXC -outputlayer M2DN1H_EXC;
COPY M2_EXC_LOW -outputlayer M2DN1L_EXC;

RULE M2.DN.1 {
    CAPTION "M2 local density must be >= 0.1 range over 75 um x 75 um step 37.5 um";
    NOT M2x M2DN1L_EXC -outputlayer M2_CHECK;
    NOT CHIP M2DN1L_EXC -outputlayer CHIP_CHECK;
    DENSITY M2_CHECK CHIP_CHECK -lt M2_DN_1L -window "M2_DN_1L_W" -step "M2_DN_1L_S" -inside_of layer CHIPx -backup -expr "  AREA(M2_CHECK)/AREA(CHIP_CHECK)  " -outputlayer ERR_WIN;
    NOT ERR_WIN M2DN1L_EXC -outputlayer _EPTMPL265696;
    WITH_WIDTH _EPTMPL265696 -ge "M2_DN_1L_E" -outputlayer F;
    DENSITY F M2_CHECK CHIP_CHECK -lt M2_DN_1L -window "M2_DN_1L_W" -step "M2_DN_1L_S" -inside_of layer CHIPx -backup -print "M2.DN.1.density" -expr "  ! AREA(F)+AREA(M2_CHECK)/AREA(CHIP_CHECK)  " ; // -outputlayer _EPTMPL265698
}

RULE M2.DN.1.1 {
    CAPTION "M2 local density must be <= 0.8 range over 100 um x 100 um step 50 um";
    NOT M2x M2DN1H_EXC -outputlayer M2_CHECK;
    NOT CHIP M2DN1H_EXC -outputlayer CHIP_CHECK;
    DENSITY M2_CHECK CHIP_CHECK -gt M2_DN_1H -window "M2_DN_1H_W" -step "M2_DN_1H_S" -inside_of layer CHIPx -backup -expr "  AREA(M2_CHECK)/AREA(CHIP_CHECK)  " -outputlayer ERR_WIN;
    NOT ERR_WIN M2DN1H_EXC -outputlayer _EPTMPL265702;
    WITH_WIDTH _EPTMPL265702 -ge "M2_DN_1H_E" -outputlayer F;
    DENSITY F M2_CHECK CHIP_CHECK -gt M2_DN_1H -window "M2_DN_1H_W" -step "M2_DN_1H_S" -inside_of layer CHIPx -backup -print "M2.DN.1.1.density" -expr "  !! AREA(F)*AREA(M2_CHECK)/AREA(CHIP_CHECK)  " ; // -outputlayer _EPTMPL265704
}
COPY EMPTYi -outputlayer M2DN2_EXC;

RULE M2.DN.2 {
    CAPTION "M2 local density must be <= 0.9 range over 20 um x 20 um step 10 um";
    NOT M2x M2DN2_EXC -outputlayer M2_CHECK;
    DENSITY M2_CHECK CHIP -gt M2_DN_2 -window "M2_DN_2_W" -step "M2_DN_2_S" -inside_of layer CHIPx -backup -expr "  AREA(M2_CHECK)/AREA(CHIP)  " -outputlayer ERR_WIN;
    NOT ERR_WIN M2DN2_EXC -outputlayer _EPTMPL265708;
    WITH_WIDTH _EPTMPL265708 -ge "M2_DN_2_E" -outputlayer F;
    DENSITY F M2_CHECK CHIP -gt M2_DN_2 -window "M2_DN_2_W" -step "M2_DN_2_S" -inside_of layer CHIPx -backup -print "M2.DN.2.density" -expr "  !! AREA(F)*AREA(M2_CHECK)/AREA(CHIP)  " ; // -outputlayer _EPTMPL265710
}

RULE M2.DN.4 {
    CAPTION "The metal density difference between any two 250 um x 250 um neighboring checking windows including DM2EXCL <= 0.4";
    DENSITY M2x CHIP -le 1 -window "M2_DN_4_W" -backup -gradient -gt M2_DN_4 -corner -print "M2.DN.4.density" -expr "  AREA(M2x)/AREA(CHIP)  " ; // -outputlayer _EPTMPL265711
}
NOT M2x SRCSR -outputlayer M2_CORE;
SIZE M3 -by "M3_S_2_W/2" -underover -truncate "M3_S_2_W/2" -outputlayer _EPTMPL265713;
AND _EPTMPL265713 M3 -outputlayer M3Wide_first;
SIZE M3Wide_first -by "M3_S_2_1_W/2" -underover -truncate "M3_S_2_1_W/2" -outputlayer _EPTMPL265715;
AND _EPTMPL265715 M3Wide_first -outputlayer M3Wide_0.4;
SIZE M3Wide_first -by "M3_S_3_W/2" -underover -truncate "M3_S_3_W/2" -outputlayer _EPTMPL265717;
AND _EPTMPL265717 M3Wide_first -outputlayer M3Wide_1.5;
SIZE M3Wide_1.5 -by "M3_S_4_W/2" -underover -truncate "M3_S_4_W/2" -outputlayer _EPTMPL265719;
AND _EPTMPL265719 M3Wide_1.5 -outputlayer M3Wide_4.5;
SIZE M2Wide_first -by "VIA2_R_2_W/2" -underover -truncate "VIA2_R_2_W/2" -outputlayer _EPTMPL265721;
AND _EPTMPL265721 M2Wide_first -outputlayer M2Wide_0.42_VIA2;
SIZE M2Wide_0.42_VIA2 -by "VIA2_R_4_W/2" -underover -truncate "VIA2_R_4_W/2" -outputlayer _EPTMPL265723;
AND _EPTMPL265723 M2Wide_0.42_VIA2 -outputlayer M2Wide_0.7_VIA2;
SIZE M2Wide_0.7_VIA2 -by "VIA2_R_3_W/2" -underover -truncate "VIA2_R_3_W/2" -outputlayer _EPTMPL265725;
AND _EPTMPL265725 M2Wide_0.7_VIA2 -outputlayer M2Wide_0.98_VIA2;
SIZE M2Wide_0.98_VIA2 -by "VIA2_R_5_W/2" -underover -truncate "VIA2_R_5_W/2" -outputlayer _EPTMPL265727;
AND _EPTMPL265727 M2Wide_0.98_VIA2 -outputlayer M2Wide_2_VIA2;
SIZE M2Wide_2_VIA2 -by "VIA2_R_6_W/2" -underover -truncate "VIA2_R_6_W/2" -outputlayer _EPTMPL265729;
AND _EPTMPL265729 M2Wide_2_VIA2 -outputlayer M2Wide_3_VIA2;
SIZE M3Wide_first -by "VIA2_R_2_W/2" -underover -truncate "VIA2_R_2_W/2" -outputlayer _EPTMPL265731;
AND _EPTMPL265731 M3Wide_first -outputlayer M3Wide_0.42_VIA2;
SIZE M3Wide_0.42_VIA2 -by "VIA2_R_4_W/2" -underover -truncate "VIA2_R_4_W/2" -outputlayer _EPTMPL265733;
AND _EPTMPL265733 M3Wide_0.42_VIA2 -outputlayer M3Wide_0.7_VIA2;
SIZE M3Wide_0.7_VIA2 -by "VIA2_R_3_W/2" -underover -truncate "VIA2_R_3_W/2" -outputlayer _EPTMPL265735;
AND _EPTMPL265735 M3Wide_0.7_VIA2 -outputlayer M3Wide_0.98_VIA2;
SIZE M3Wide_0.98_VIA2 -by "VIA2_R_5_W/2" -underover -truncate "VIA2_R_5_W/2" -outputlayer _EPTMPL265737;
AND _EPTMPL265737 M3Wide_0.98_VIA2 -outputlayer M3Wide_2_VIA2;
SIZE M3Wide_2_VIA2 -by "VIA2_R_6_W/2" -underover -truncate "VIA2_R_6_W/2" -outputlayer _EPTMPL265739;
AND _EPTMPL265739 M3Wide_2_VIA2 -outputlayer M3Wide_3_VIA2;

RULE VIA2.W.1 {
    CAPTION "Width (maximum = minimum except for seal-ring and fuse protection ring) = 0.1 um";
    CAPTION "VIA2.R.1 45-degree rotated VIA is not allowed";
    RECT_CHK -not VIA2 -eq "VIA2_W_1" -by -eq "VIA2_W_1" -orthogonal_only -outputlayer A;
    NOT A VIA_EXD ; // -outputlayer _EPTMPL265742
}

RULE VIA2.W.2 {
    CAPTION "Width of VIAx bar. VIAx bar is only allowed in seal-ring and fuse protection ring. SEALRING layer (CAD layer: 162 for both seal-ring and fuse protection ring) is a Must to cover VIAx bar if VIAx bar is used = 0.1";
    INTE VIA2_BAR -lt "VIA2_W_2" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL265743
    WITH_WIDTH VIA2_BAR -gt "VIA2_W_2" -outputlayer A;
    ANGLE VIA2_BAR -eq 45 -outputlayer B;
    INTE B -lt "VIA2_W_2 + 2*GRID" -output region -outputlayer C;
    NOT A C -outputlayer D;
    SELECT -enclose_rect D -width 1 -length 0.005 ; // -outputlayer _EPTMPL265748
}

RULE VIA2.S.1 {
    CAPTION "Spacing >= 0.1 um";
    EXTE VIA2 -lt "VIA2_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265749
}

RULE VIA2.S.2 {
    CAPTION "Space to 3-neighboring VIAx (< 0.14 um distance) >= 0.13 um";
    SELECT -with_neighbor VIA2 -gt 2 -space -lt VIA2_S_2_S -outputlayer X;
    EXTE X VIA2 -lt "VIA2_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265751
}

RULE VIA2.S.3 {
    CAPTION "Space to neighboring VIAx [different net and common parallel run length > 0] >= 0.13 um";
    STAMP VIA2 VIA2i -outputlayer VIA2_NODAL;
    EXTE VIA2_NODAL -lt "VIA2_S_3" -abut -lt 90 -not_connected -metric opposite -output region ; // -outputlayer _EPTMPL265753
}

RULE VIA2.EN.1 {
    CAPTION "Enclosure by M2 >= 0 um";
    NOT VIA2 M2 ; // -outputlayer _EPTMPL265754
}

RULE VIA2.EN.2__VIA2.EN.3 {
    CAPTION "Enclosure by M2 [at least two opposite sides] >= 0.04 , or [all sides] >= 0.03";
    NOT VIA2 SRAM_EXCLUDE -outputlayer A;
    RECT_ENC A M2 -abut -lt 90 -single_point -good 0 VIA2_EN_2 opposite 0 VIA2_EN_2 opposite -outputlayer X;
    ENC X M2 -lt "VIA2_EN_3" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265757
}
variable VIA2_R_2_S2_S1 "(VIA2_R_2_S2 - VIA2_R_2_S1)/2";

RULE VIA2.R.2__VIA2.R.3 {
    CAPTION "When M2 or M3 width > 0.3 um, more than one VIA2 is required.";
    CAPTION "2 vias spacing should be <= 0.2 um or 4 vias spacing should be <= 0.25 um";
    CAPTION "When M2 or M3 width > 0.7 um, more than three VIA2 is required.";
    CAPTION "4 vias spacing should be <= 0.2 um or 9 vias spacing should be <= 0.35 um";
    AND M2Wide_0.42_VIA2 M3 -outputlayer _EPTMPL265758;
    AND M3Wide_0.42_VIA2 M2 -outputlayer _EPTMPL265759;
    OR _EPTMPL265758 _EPTMPL265759 -outputlayer M3OvpM2_W_;
    AND M2Wide_0.98_VIA2 M3 -outputlayer _EPTMPL265761;
    AND M3Wide_0.98_VIA2 M2 -outputlayer _EPTMPL265762;
    OR _EPTMPL265761 _EPTMPL265762 -outputlayer M3OvpM2_B;
    NOT M3OvpM2_W_ M3OvpM2_B -outputlayer M3OvpM2_W;
    SELECT -outside -not VIA2_EXD M3OvpM2_W -outputlayer Checked_VIA2_W_;
    SELECT -outside -not VIA2_EXD M3OvpM2_B -outputlayer Checked_VIA2_B;
    NOT Checked_VIA2_W_ Checked_VIA2_B -outputlayer Checked_VIA2_W;
    SELECT -interact M2i M3OvpM2_W_ -outputlayer M2_effect;
    SELECT -interact M3i M3OvpM2_W_ -outputlayer M3_effect;
    AND M2_effect M3_effect -outputlayer effect_M3OvpM2_;
    SELECT -interact effect_M3OvpM2_ M3OvpM2_W_ -outputlayer effect_M3OvpM2;
    SELECT -interact VIA2_EXD effect_M3OvpM2 -outputlayer effect_VIA;
    SIZE effect_VIA -by "VIA2_R_2_S1/2" -inside_of effect_M3OvpM2 -step "M2_S_1*0.7" -outputlayer V2Merged_A;
    SIZE V2Merged_A -by "VIA2_R_2_S2_S1" -inside_of effect_M3OvpM2 -step "M2_S_1*0.7" -outputlayer V2Merged_B;
    SIZE V2Merged_B -by "(VIA2_R_3_S2 - VIA2_R_2_S2)/2" -inside_of effect_M3OvpM2 -step "M2_S_1*0.7" -outputlayer V2Merged_C;
    SELECT -interact V2Merged_A effect_VIA -lt 2 -outputlayer V2Merged_A2R;
    SELECT -outside V2Merged_A V2Merged_A2R -outputlayer V2Merged_A2;
    SELECT -interact V2Merged_A2 effect_VIA -lt 4 -outputlayer V2Merged_A4R;
    SELECT -outside V2Merged_A2 V2Merged_A4R -outputlayer V2Merged_A4;
    SELECT -interact V2Merged_B effect_VIA -lt 4 -outputlayer V2Merged_B4R;
    SELECT -outside V2Merged_B V2Merged_B4R -outputlayer V2Merged_B4;
    SELECT -interact V2Merged_C effect_VIA -lt 9 -outputlayer V2Merged_C9R;
    SELECT -outside V2Merged_C V2Merged_C9R -outputlayer V2Merged_C9;
    OR V2Merged_A2 V2Merged_B4 -outputlayer GMergeW;
    OR V2Merged_A4 V2Merged_C9 -outputlayer GMergeB;
    SELECT -interact Checked_VIA2_W GMergeW -outputlayer GVIA_W;
    SELECT -interact Checked_VIA2_B GMergeB -outputlayer GVIA_B;
    SELECT -interact M3OvpM2_W GVIA_W -outputlayer GOOD_AREA_W;
    SELECT -interact M3OvpM2_B GVIA_B -outputlayer GOOD_AREA_B;
    SELECT -outside Checked_VIA2_W GOOD_AREA_W ; // -outputlayer _EPTMPL265790
    SELECT -outside Checked_VIA2_B GOOD_AREA_B ; // -outputlayer _EPTMPL265791
}

RULE VIA2.R.4:M2 {
    CAPTION " At least two VIAx must be used for a connection that is <= 0.8 um (D) away from a metal plate (either Mx or Mx+1) with length > 0.3 um (L) and width > 0.3 um (W). (It is allowed to use one VIAx for a connection that is > 0.8 um (D) away from a metal plate (either Mx or Mx+1) with length > 0.3 um (L) and width > 0.3 um (W).)";
    SIZE M2Wide_0.7_VIA2 -by "VIA2_R_4_D + GRID" -outputlayer _EPTMPL265792;
    NOT _EPTMPL265792 M2Wide_0.7_VIA2 -outputlayer _EPTMPL265793;
    AND _EPTMPL265793 M2 -outputlayer Branch1;
    SELECT -interact Branch1 M2Wide_0.7_VIA2 -outputlayer _EPTMPL265795;
    SELECT -interact _EPTMPL265795 VIA2 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M2Wide_0.7_VIA2 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA2_R_4_D" -inside_of Branch1HasVia -step "M2_S_1*0.5" -outputlayer Branch;
    AND Branch M3 -outputlayer _EPTMPL265800;
    SELECT -interact _EPTMPL265800 VIA2 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA2 Branch -outputlayer _EPTMPL265802;
    SELECT -outside _EPTMPL265802 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M3 BranchSingleVia -outputlayer _EPTMPL265804;
    AND _EPTMPL265804 M2 -outputlayer _EPTMPL265805;
    SELECT -interact _EPTMPL265805 BranchSingleVia -outputlayer _EPTMPL265806;
    SELECT -interact _EPTMPL265806 VIA2 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL265808;
    NOT _EPTMPL265808 VIA_EXD ; // -outputlayer _EPTMPL265809
}

RULE VIA2.R.4:M3 {
    CAPTION "At least two VIAx must be used for a connection that is <= 0.8 um (D) away from a metal plate (either Mx or Mx+1) with length > 0.3 um (L) and width > 0.3 um (W). (It is allowed to use one VIAx for a connection that is > 0.8 um (D) away from a metal plate (either Mx or Mx+1) with length > 0.3 um (L) and width > 0.3 um (W).)";
    SIZE M3Wide_0.7_VIA2 -by "VIA2_R_4_D + GRID" -outputlayer _EPTMPL265810;
    NOT _EPTMPL265810 M3Wide_0.7_VIA2 -outputlayer _EPTMPL265811;
    AND _EPTMPL265811 M3 -outputlayer Branch1;
    SELECT -interact Branch1 M3Wide_0.7_VIA2 -outputlayer _EPTMPL265813;
    SELECT -interact _EPTMPL265813 VIA2 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M3Wide_0.7_VIA2 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA2_R_4_D" -inside_of Branch1HasVia -step "M3_S_1*0.5" -outputlayer Branch;
    AND Branch M2 -outputlayer _EPTMPL265818;
    SELECT -interact _EPTMPL265818 VIA2 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA2 Branch -outputlayer _EPTMPL265820;
    SELECT -outside _EPTMPL265820 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M2 BranchSingleVia -outputlayer _EPTMPL265822;
    AND _EPTMPL265822 M3 -outputlayer _EPTMPL265823;
    SELECT -interact _EPTMPL265823 BranchSingleVia -outputlayer _EPTMPL265824;
    SELECT -interact _EPTMPL265824 VIA2 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL265826;
    NOT _EPTMPL265826 VIA_EXD ; // -outputlayer _EPTMPL265827
}

RULE VIA2.R.5:M2 {
    CAPTION "At least two VIAx must be used for a connection that is <= 2 um (D) away from a metal plate (either Mx or Mx+1) with length > 2 um (L) and width > 2 um (W). It is allowed to use one VIAx for a connection that is > 2 um (D) away from a metal plate (either Mx or Mx+1) with length> 2 um (L) and width > 2 um (W).";
    SIZE M2Wide_2_VIA2 -by "VIA2_R_5_D + GRID" -outputlayer _EPTMPL265828;
    NOT _EPTMPL265828 M2Wide_2_VIA2 -outputlayer _EPTMPL265829;
    AND _EPTMPL265829 M2 -outputlayer Branch1;
    SELECT -interact Branch1 M2Wide_2_VIA2 -outputlayer _EPTMPL265831;
    SELECT -interact _EPTMPL265831 VIA2 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M2Wide_2_VIA2 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA2_R_5_D" -inside_of Branch1HasVia -step "M2_S_1*0.7" -outputlayer Branch;
    AND Branch M3 -outputlayer _EPTMPL265836;
    SELECT -interact _EPTMPL265836 VIA2 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA2 Branch -outputlayer _EPTMPL265838;
    SELECT -outside _EPTMPL265838 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M3 BranchSingleVia -outputlayer _EPTMPL265840;
    AND _EPTMPL265840 M2 -outputlayer _EPTMPL265841;
    SELECT -interact _EPTMPL265841 BranchSingleVia -outputlayer _EPTMPL265842;
    SELECT -interact _EPTMPL265842 VIA2 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL265844;
    NOT _EPTMPL265844 VIA_EXD ; // -outputlayer _EPTMPL265845
}

RULE VIA2.R.5:M3 {
    CAPTION "At least two VIAx must be used for a connection that is <= 2 um (D) away from a metal plate (either Mx or Mx+1) with length > 2 um (L) and width > 2 um (W). It is allowed to use one VIAx for a connection that is > 2 um (D) away from a metal plate (either Mx or Mx+1) with length> 2 um (L) and width > 2 um (W).";
    SIZE M3Wide_2_VIA2 -by "VIA2_R_5_D + GRID" -outputlayer _EPTMPL265846;
    NOT _EPTMPL265846 M3Wide_2_VIA2 -outputlayer _EPTMPL265847;
    AND _EPTMPL265847 M3 -outputlayer Branch1;
    SELECT -interact Branch1 M3Wide_2_VIA2 -outputlayer _EPTMPL265849;
    SELECT -interact _EPTMPL265849 VIA2 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M3Wide_2_VIA2 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA2_R_5_D" -inside_of Branch1HasVia -step "M3_S_1*0.7" -outputlayer Branch;
    AND Branch M2 -outputlayer _EPTMPL265854;
    SELECT -interact _EPTMPL265854 VIA2 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA2 Branch -outputlayer _EPTMPL265856;
    SELECT -outside _EPTMPL265856 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M2 BranchSingleVia -outputlayer _EPTMPL265858;
    AND _EPTMPL265858 M3 -outputlayer _EPTMPL265859;
    SELECT -interact _EPTMPL265859 BranchSingleVia -outputlayer _EPTMPL265860;
    SELECT -interact _EPTMPL265860 VIA2 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL265862;
    NOT _EPTMPL265862 VIA_EXD ; // -outputlayer _EPTMPL265863
}
SELECT -enclose_rect M2Wide_3_VIA2 -width VIA2_R_6_W -length VIA2_R_6_L+GRID -outputlayer M2Big_3_VIA2;

RULE VIA2.R.6:M2 {
    CAPTION " At least two VIAx must be used for a connection that is <= 5 um (D) away from a metal plate (either Mx or Mx+1) with length > 10 um (L) and width > 3 um (W). (It is allowed to use one VIAx for a connection that is > 5 um (D) away from a metal plate (either Mx or Mx+1) with length> 10 um (L) and width > 3 um (W)).";
    SIZE M2Big_3_VIA2 -by "VIA2_R_6_D + GRID" -outputlayer _EPTMPL265865;
    NOT _EPTMPL265865 M2Big_3_VIA2 -outputlayer _EPTMPL265866;
    AND _EPTMPL265866 M2 -outputlayer Branch1;
    SELECT -interact Branch1 M2Big_3_VIA2 -outputlayer _EPTMPL265868;
    SELECT -interact _EPTMPL265868 VIA2 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M2Big_3_VIA2 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA2_R_6_D" -inside_of Branch1HasVia -step "M2_S_1*0.7" -outputlayer Branch;
    AND Branch M3 -outputlayer _EPTMPL265873;
    SELECT -interact _EPTMPL265873 VIA2 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA2 Branch -outputlayer _EPTMPL265875;
    SELECT -outside _EPTMPL265875 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M3 BranchSingleVia -outputlayer _EPTMPL265877;
    AND _EPTMPL265877 M2 -outputlayer _EPTMPL265878;
    SELECT -interact _EPTMPL265878 BranchSingleVia -outputlayer _EPTMPL265879;
    SELECT -interact _EPTMPL265879 VIA2 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL265881;
    NOT _EPTMPL265881 VIA_EXD ; // -outputlayer _EPTMPL265882
}
SELECT -enclose_rect M3Wide_3_VIA2 -width VIA2_R_6_W -length VIA2_R_6_L+GRID -outputlayer M3Big_3_VIA2;

RULE VIA2.R.6:M3 {
    CAPTION "At least two VIAx must be used for a connection that is <= 5 um (D) away from a metal plate (either Mx or Mx+1) with length > 10 um (L) and width > 3 um (W). (It is allowed to use one VIAx for a connection that is > 5 um (D) away from a metal plate (either Mx or Mx+1) with length> 10 um (L) and width > 3 um (W)).";
    SIZE M3Big_3_VIA2 -by "VIA2_R_6_D + GRID" -outputlayer _EPTMPL265884;
    NOT _EPTMPL265884 M3Big_3_VIA2 -outputlayer _EPTMPL265885;
    AND _EPTMPL265885 M3 -outputlayer Branch1;
    SELECT -interact Branch1 M3Big_3_VIA2 -outputlayer _EPTMPL265887;
    SELECT -interact _EPTMPL265887 VIA2 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M3Big_3_VIA2 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA2_R_6_D" -inside_of Branch1HasVia -step "M3_S_1*0.7" -outputlayer Branch;
    AND Branch M2 -outputlayer _EPTMPL265892;
    SELECT -interact _EPTMPL265892 VIA2 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA2 Branch -outputlayer _EPTMPL265894;
    SELECT -outside _EPTMPL265894 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M2 BranchSingleVia -outputlayer _EPTMPL265896;
    AND _EPTMPL265896 M3 -outputlayer _EPTMPL265897;
    SELECT -interact _EPTMPL265897 BranchSingleVia -outputlayer _EPTMPL265898;
    SELECT -interact _EPTMPL265898 VIA2 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL265900;
    NOT _EPTMPL265900 VIA_EXD ; // -outputlayer _EPTMPL265901
}

RULE VIA2.R.11 {
    CAPTION "Single VIAx is not allowed for H-shape  Mx+1 when all of the following conditions come into existence:";
    CAPTION "1. The Mx+1 has H-shape interact with two metal holes : both two metal hole area <= 5 um2 and two metal hole length(L2) <= 5 um";
    CAPTION "2. The VIAx overlaps on the center metal bar of this H-shape Mx+1";
    CAPTION "3. The length (L) of the center metal bar <= 1 um and the width of metal bar is <= 0.3 um.";
    WITH_WIDTH M3i -le "VIA2_R_11_W" -outputlayer W;
    HOLES M3i -inner -le "VIA2_R_11_A" -outputlayer _EPTMPL265903;
    SELECT -interact _EPTMPL265903 W -outputlayer H_HOLE;
    SELECT -interact M3i H_HOLE -outputlayer A0;
    EDGE_BOOLEAN -coincident_only -outside A0 H_HOLE -outputlayer A;
    INTE A -le "VIA2_R_11_W" -abut -lt 90 -metric opposite -output region -exclude_shielded 4 -outputlayer _EPTMPL265907;
    SELECT -inside _EPTMPL265907 A0 -outputlayer _EPTMPL265908;
    SELECT -interact _EPTMPL265908 H_HOLE -eq 2 -outputlayer B0;
    INTE A -le "VIA2_R_11_L" -abut -lt 90 -metric opposite -output region -exclude_shielded 4 -outputlayer _EPTMPL265910;
    SELECT -inside _EPTMPL265910 A0 -outputlayer _EPTMPL265911;
    AND _EPTMPL265911 W -outputlayer _EPTMPL265912;
    SELECT -interact _EPTMPL265912 H_HOLE -eq 2 -outputlayer B1;
    EXTE H_HOLE -le "VIA2_R_11_W" -abut -lt 90 -metric opposite -notch only -output region -outputlayer HOLE_NOTCH;
    NOT B1 HOLE_NOTCH -outputlayer _EPTMPL265915;
    OR _EPTMPL265915 B0 -outputlayer B2;
    EXTE B2 -le "VIA2_R_11_W" -abut -eq 90 -intersecting ONLY -output region_extents -outputlayer _EPTMPL265917;
    SELECT -touch _EPTMPL265917 B2 -eq 2 -outputlayer _EPTMPL265918;
    AND _EPTMPL265918 W -outputlayer CORNER_M;
    OR B2 CORNER_M -outputlayer B;
    SELECT -enclose_rect -not B -width GRID -length VIA2_R_11_L+GRID -outputlayer CENTER_BAR1;
    SELECT -interact CENTER_BAR1 H_HOLE -eq 2 -outputlayer _EPTMPL265922;
    SELECT -interact _EPTMPL265922 VIA2i -outputlayer CENTER_BAR2;
    EDGE_BOOLEAN -coincident_only -outside CENTER_BAR2 H_HOLE -outputlayer C;
    EXTE C A -le "VIA2_R_11_L2" -metric opposite -output positive1 -outputlayer D;
    EDGE_BOOLEAN -coincident_only -inside -not C D -outputlayer E;
    SELECT -with_edge -not CENTER_BAR2 E -outputlayer CENTER_BAR3;
    SELECT -outside -not VIA2i CENTER_BAR3 -outputlayer CHECK_VIA;
    SELECT -interact A0 CHECK_VIA -outputlayer _EPTMPL265929;
    SELECT -interact M2i CHECK_VIA -outputlayer _EPTMPL265930;
    AND _EPTMPL265929 _EPTMPL265930 -outputlayer _EPTMPL265931;
    SELECT -interact _EPTMPL265931 VIA2i -eq 1 -outputlayer _EPTMPL265932;
    AND CHECK_VIA _EPTMPL265932 ; // -outputlayer _EPTMPL265933
}
NOT M3Wide_first CB_NON_CUP -outputlayer M31;
NOT M3Wide_0.4 CB_NON_CUP -outputlayer M311;
NOT M3Wide_1.5 CB_NON_CUP -outputlayer M32;
NOT M3Wide_4.5 CB_NON_CUP -outputlayer M33;
AREA M3 -gt "M3_S_3_L*M3_W_1" -outputlayer M3AS3;
AREA M3AS3 -gt "M3_S_4_L*M3_W_1" -outputlayer M3AS4;
ANGLE M3 -eq 45 -outputlayer M3_EDGE_45;

RULE M3.W.1 {
    CAPTION "Width >= 0.1 um";
    INTE M3 -lt "M3_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265941
}

RULE M3.W.2 {
    CAPTION "Width of 45-degree bent Mx Please make sure the vertex of 45 degree pattern is on 5nm grid >= 0.19 um";
    INTE M3_EDGE_45 -lt "M3_W_2" -abut -lt 90 -output region ; // -outputlayer _EPTMPL265942
}

RULE M3.W.3 {
    CAPTION "Maximum width <= 12 um";
    SIZE M3 -by "M3_W_3/2" -underover -truncate "M3_W_3/2" ; // -outputlayer _EPTMPL265943
}

RULE M3.S.1 {
    CAPTION "Spacing >= 0.1 um";
    EXTE M3 -lt "M3_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265944
}

RULE M3.S.2 {
    CAPTION "Space [at least one metal line width > 0.2 um  and the parallel metal run length > 0.38 um ] (union projection) >= 0.12";
    EXTE M31 M3 -lt "M3_S_2" -metric opposite -output region -measure all -outputlayer X;
    NOT X M3 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length M3_S_2_L+GRID ; // -outputlayer _EPTMPL265947
}

RULE M3.S.2.1 {
    CAPTION "Space [at least one metal line width > 0.4 um  and the parallel metal run length > 0.4 um ] (union projection) >= 0.16";
    EXTE M311 M3 -lt "M3_S_2_1" -metric opposite -output region -measure all -outputlayer X;
    NOT X M3 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length M3_S_2_1_L+GRID ; // -outputlayer _EPTMPL265950
}

RULE M3.S.3 {
    CAPTION "Space [at least one metal line width > 1.5 um  and the parallel metal run length > 1.5 um ] (union projection) >= 0.5";
    EXTE M32 M3AS3 -lt "M3_S_3" -metric opposite -output region -measure all -outputlayer X;
    NOT X M3 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length M3_S_3_L+GRID ; // -outputlayer _EPTMPL265953
}

RULE M3.S.4 {
    CAPTION "Space [at least one metal line width > 4.5 um  and the parallel metal run length > 4.5 um ] (union projection) >= 1.5";
    EXTE M33 M3AS4 -lt "M3_S_4" -metric opposite -output region -measure all -outputlayer X;
    NOT X M3 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length M3_S_4_L+GRID ; // -outputlayer _EPTMPL265956
}

RULE M3.S.5 {
    CAPTION "Space at Mx line-end (W<Q=0.120) in a dense-line-end configuration: If Mx has parallel run length with opposite Mx (measured with T=0.035 extension) along 2 adjacent edges of Mx [any one edge <Q distance from the corner of the two edges], then one of the space (S1 or S2) needs to be at least this value (except for small jog with edge length < 0.10 um (R)) >= 0.12 um.";
    CONVEX_EDGE M3 -angle1 -eq 90 -angle2 -eq 90 -with_length -lt "M3_S_5_Q" -outputlayer A;
    EXTE A M3 -lt "M3_S_5" -abut -lt 90 -metric opposite_extended "M3_S_5_E" -output positive1 -outputlayer B;
    EDGE_SELECT -coincident_only -inside A B -outputlayer C;
    INTE C M3 -lt "M3_S_5_Q" -abut -eq 90 -intersecting ONLY -output positive2 -outputlayer D;
    EDGE_LENGTH D -ge "M3_W_1" -outputlayer I;
    EDGE_EXPAND I -inside_by 0.001 -extend_by "M3_S_5_E" -outputlayer J;
    EDGE_EXPAND I -inside_by 0.001 -outputlayer K;
    NOT J K -outputlayer L;
    SELECT -with_edge L A -outputlayer M;
    OR M K -outputlayer N;
    EDGE_SELECT -coincident_only N I -outputlayer O;
    EXTE O M3 -lt "M3_S_5" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL265968
}

RULE M3.EN.1 {
    CAPTION " Enclosure of VIA2 >= 0 um";
    NOT VIA2 M3 ; // -outputlayer _EPTMPL265969
}

RULE M3.EN.2__M3.EN.3 {
    CAPTION "Enclosure of VIA2 [at least two opposite sides] >= 0.04 ,or [all sides] >= 0.03";
    NOT VIA2 SRAM_EXCLUDE -outputlayer A;
    RECT_ENC A M3 -abut -lt 90 -single_point -good 0 M3_EN_2 opposite 0 M3_EN_2 opposite -outputlayer X;
    ENC X M3 -lt "M3_EN_3" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL265972
}

RULE M3.A.1 {
    CAPTION "Area >= 0.052 um2";
    AREA M3 -lt "M3_A_1" ; // -outputlayer _EPTMPL265973
}
variable M3_A_2pre " ((M3_A_2 + (M3_S_1 * M3_S_1 * 3.142))/(2 * M3_S_1))   *((M3_A_2 + (M3_S_1 * M3_S_1 * 3.142))/(2 * M3_S_1))/3.141 ";

RULE M3.A.2 {
    CAPTION "Enclosed area >= 0.2 um";
    HOLES M3 -inner -lt "M3_A_2pre" -outputlayer X;
    NOT X M3 -outputlayer _EPTMPL265975;
    AREA _EPTMPL265975 -lt "M3_A_2" ; // -outputlayer _EPTMPL265976
}

RULE M3.S.6 {
    CAPTION "Space to 45 degree bent M3 >=  M3_S_6 um";
    EDGE_EXPAND M3_EDGE_45 -outside_by "M3_S_6" -outputlayer X;
    AND X M3 ; // -outputlayer _EPTMPL265978
}
COPY M3_EXC -outputlayer M3DN1H_EXC;
COPY M3_EXC_LOW -outputlayer M3DN1L_EXC;

RULE M3.DN.1 {
    CAPTION "M3 local density must be >= 0.1 range over 75 um x 75 um step 37.5 um";
    NOT M3x M3DN1L_EXC -outputlayer M3_CHECK;
    NOT CHIP M3DN1L_EXC -outputlayer CHIP_CHECK;
    DENSITY M3_CHECK CHIP_CHECK -lt M3_DN_1L -window "M3_DN_1L_W" -step "M3_DN_1L_S" -inside_of layer CHIPx -backup -expr "  AREA(M3_CHECK)/AREA(CHIP_CHECK)  " -outputlayer ERR_WIN;
    NOT ERR_WIN M3DN1L_EXC -outputlayer _EPTMPL265984;
    WITH_WIDTH _EPTMPL265984 -ge "M3_DN_1L_E" -outputlayer F;
    DENSITY F M3_CHECK CHIP_CHECK -lt M3_DN_1L -window "M3_DN_1L_W" -step "M3_DN_1L_S" -inside_of layer CHIPx -backup -print "M3.DN.1.density" -expr "  ! AREA(F)+AREA(M3_CHECK)/AREA(CHIP_CHECK)  " ; // -outputlayer _EPTMPL265986
}

RULE M3.DN.1.1 {
    CAPTION "M3 local density must be <= 0.8 range over 100 um x 100 um step 50 um";
    NOT M3x M3DN1H_EXC -outputlayer M3_CHECK;
    NOT CHIP M3DN1H_EXC -outputlayer CHIP_CHECK;
    DENSITY M3_CHECK CHIP_CHECK -gt M3_DN_1H -window "M3_DN_1H_W" -step "M3_DN_1H_S" -inside_of layer CHIPx -backup -expr "  AREA(M3_CHECK)/AREA(CHIP_CHECK)  " -outputlayer ERR_WIN;
    NOT ERR_WIN M3DN1H_EXC -outputlayer _EPTMPL265990;
    WITH_WIDTH _EPTMPL265990 -ge "M3_DN_1H_E" -outputlayer F;
    DENSITY F M3_CHECK CHIP_CHECK -gt M3_DN_1H -window "M3_DN_1H_W" -step "M3_DN_1H_S" -inside_of layer CHIPx -backup -print "M3.DN.1.1.density" -expr "  !! AREA(F)*AREA(M3_CHECK)/AREA(CHIP_CHECK)  " ; // -outputlayer _EPTMPL265992
}
COPY EMPTYi -outputlayer M3DN2_EXC;

RULE M3.DN.2 {
    CAPTION "M3 local density must be <= 0.9 range over 20 um x 20 um step 10 um";
    NOT M3x M3DN2_EXC -outputlayer M3_CHECK;
    DENSITY M3_CHECK CHIP -gt M3_DN_2 -window "M3_DN_2_W" -step "M3_DN_2_S" -inside_of layer CHIPx -backup -expr "  AREA(M3_CHECK)/AREA(CHIP)  " -outputlayer ERR_WIN;
    NOT ERR_WIN M3DN2_EXC -outputlayer _EPTMPL265996;
    WITH_WIDTH _EPTMPL265996 -ge "M3_DN_2_E" -outputlayer F;
    DENSITY F M3_CHECK CHIP -gt M3_DN_2 -window "M3_DN_2_W" -step "M3_DN_2_S" -inside_of layer CHIPx -backup -print "M3.DN.2.density" -expr "  !! AREA(F)*AREA(M3_CHECK)/AREA(CHIP)  " ; // -outputlayer _EPTMPL265998
}

RULE M3.DN.4 {
    CAPTION "The metal density difference between any two 250 um x 250 um neighboring checking windows including DM3EXCL <= 0.4";
    DENSITY M3x CHIP -le 1 -window "M3_DN_4_W" -backup -gradient -gt M3_DN_4 -corner -print "M3.DN.4.density" -expr "  AREA(M3x)/AREA(CHIP)  " ; // -outputlayer _EPTMPL265999
}
NOT M3x SRCSR -outputlayer M3_CORE;

RULE M1.DN.5 {
    CAPTION "It is not allowed to have local density > 0.8 of all 3 consecutive metal (M1,M2,M3) over any 50 um x 50 um window (stepping 25 um)";
    DENSITY M1_CORE M2_CORE M3_CORE -gt 0 -window "Mx_DN_5_W" -step "Mx_DN_5_S" -backup -expr "  ! ~(AREA(M1_CORE)/AREA()-Mx_DN_5)*!~(AREA(M2_CORE)/AREA()-Mx_DN_5)*!~(AREA(M3_CORE)/AREA()-Mx_DN_5)  " -rdb M1.DN.5.density ; // -outputlayer _EPTMPL266001
}
variable M1_DN_6 0.15;
SIZE CBM -by 25 -outputlayer _EPTMPL266002;
SIZE _EPTMPL266002 -by -25 -outputlayer M1DN6_CBM_MERGE;
AREA M1DN6_CBM_MERGE -ge "200 * 200" -outputlayer M1DN6_CHECK_CBM;
AND M1x M1DN6_CHECK_CBM -outputlayer M1DN6_M1_CHECK;
AND M2x M1DN6_CHECK_CBM -outputlayer M1DN6_M2_CHECK;
AND M3x M1DN6_CHECK_CBM -outputlayer M1DN6_M3_CHECK;
CONNECT M1DN6_CHECK_CBM M1DN6_M1_CHECK;
CONNECT M1DN6_CHECK_CBM M1DN6_M2_CHECK;
CONNECT M1DN6_CHECK_CBM M1DN6_M3_CHECK;

RULE M1.DN.6 {
    CAPTION "It is not allowed to have local density < 0.15 of all 3 consecutive metal (M1,M2,M3) under ((CBM SIZING 25) SIZING -25) whose size is >= 200um X 200um";
    ANTENNA M1DN6_CHECK_CBM M1DN6_M1_CHECK -lt "M1_DN_6" -expr "  AREA(M1DN6_M1_CHECK)/AREA(M1DN6_CHECK_CBM)  " -rdb M1.DN.6.M1.density -outputlayer A;
    ANTENNA M1DN6_CHECK_CBM M1DN6_M2_CHECK -lt "M1_DN_6" -expr "  AREA(M1DN6_M2_CHECK)/AREA(M1DN6_CHECK_CBM)  " -rdb M1.DN.6.M2.density -outputlayer B;
    ANTENNA M1DN6_CHECK_CBM M1DN6_M3_CHECK -lt "M1_DN_6" -expr "  AREA(M1DN6_M3_CHECK)/AREA(M1DN6_CHECK_CBM)  " -rdb M1.DN.6.M3.density -outputlayer C;
    AND A B -outputlayer _EPTMPL266014;
    AND _EPTMPL266014 C ; // -outputlayer _EPTMPL266015
}
SIZE M4 -by "M4_S_2_W/2" -underover -truncate "M4_S_2_W/2" -outputlayer _EPTMPL266016;
AND _EPTMPL266016 M4 -outputlayer M4Wide_first;
SIZE M4Wide_first -by "M4_S_2_1_W/2" -underover -truncate "M4_S_2_1_W/2" -outputlayer _EPTMPL266018;
AND _EPTMPL266018 M4Wide_first -outputlayer M4Wide_0.4;
SIZE M4Wide_first -by "M4_S_3_W/2" -underover -truncate "M4_S_3_W/2" -outputlayer _EPTMPL266020;
AND _EPTMPL266020 M4Wide_first -outputlayer M4Wide_1.5;
SIZE M4Wide_1.5 -by "M4_S_4_W/2" -underover -truncate "M4_S_4_W/2" -outputlayer _EPTMPL266022;
AND _EPTMPL266022 M4Wide_1.5 -outputlayer M4Wide_4.5;
SIZE M3Wide_first -by "VIA3_R_2_W/2" -underover -truncate "VIA3_R_2_W/2" -outputlayer _EPTMPL266024;
AND _EPTMPL266024 M3Wide_first -outputlayer M3Wide_0.42_VIA3;
SIZE M3Wide_0.42_VIA3 -by "VIA3_R_4_W/2" -underover -truncate "VIA3_R_4_W/2" -outputlayer _EPTMPL266026;
AND _EPTMPL266026 M3Wide_0.42_VIA3 -outputlayer M3Wide_0.7_VIA3;
SIZE M3Wide_0.7_VIA3 -by "VIA3_R_3_W/2" -underover -truncate "VIA3_R_3_W/2" -outputlayer _EPTMPL266028;
AND _EPTMPL266028 M3Wide_0.7_VIA3 -outputlayer M3Wide_0.98_VIA3;
SIZE M3Wide_0.98_VIA3 -by "VIA3_R_5_W/2" -underover -truncate "VIA3_R_5_W/2" -outputlayer _EPTMPL266030;
AND _EPTMPL266030 M3Wide_0.98_VIA3 -outputlayer M3Wide_2_VIA3;
SIZE M3Wide_2_VIA3 -by "VIA3_R_6_W/2" -underover -truncate "VIA3_R_6_W/2" -outputlayer _EPTMPL266032;
AND _EPTMPL266032 M3Wide_2_VIA3 -outputlayer M3Wide_3_VIA3;
SIZE M4Wide_first -by "VIA3_R_2_W/2" -underover -truncate "VIA3_R_2_W/2" -outputlayer _EPTMPL266034;
AND _EPTMPL266034 M4Wide_first -outputlayer M4Wide_0.42_VIA3;
SIZE M4Wide_0.42_VIA3 -by "VIA3_R_4_W/2" -underover -truncate "VIA3_R_4_W/2" -outputlayer _EPTMPL266036;
AND _EPTMPL266036 M4Wide_0.42_VIA3 -outputlayer M4Wide_0.7_VIA3;
SIZE M4Wide_0.7_VIA3 -by "VIA3_R_3_W/2" -underover -truncate "VIA3_R_3_W/2" -outputlayer _EPTMPL266038;
AND _EPTMPL266038 M4Wide_0.7_VIA3 -outputlayer M4Wide_0.98_VIA3;
SIZE M4Wide_0.98_VIA3 -by "VIA3_R_5_W/2" -underover -truncate "VIA3_R_5_W/2" -outputlayer _EPTMPL266040;
AND _EPTMPL266040 M4Wide_0.98_VIA3 -outputlayer M4Wide_2_VIA3;
SIZE M4Wide_2_VIA3 -by "VIA3_R_6_W/2" -underover -truncate "VIA3_R_6_W/2" -outputlayer _EPTMPL266042;
AND _EPTMPL266042 M4Wide_2_VIA3 -outputlayer M4Wide_3_VIA3;

RULE VIA3.W.1 {
    CAPTION "Width (maximum = minimum except for seal-ring and fuse protection ring) = 0.1 um";
    CAPTION "VIA3.R.1 45-degree rotated VIA is not allowed";
    RECT_CHK -not VIA3 -eq "VIA3_W_1" -by -eq "VIA3_W_1" -orthogonal_only -outputlayer A;
    NOT A VIA_EXD ; // -outputlayer _EPTMPL266045
}

RULE VIA3.W.2 {
    CAPTION "Width of VIAx bar. VIAx bar is only allowed in seal-ring and fuse protection ring. SEALRING layer (CAD layer: 162 for both seal-ring and fuse protection ring) is a Must to cover VIAx bar if VIAx bar is used = 0.1";
    INTE VIA3_BAR -lt "VIA3_W_2" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL266046
    WITH_WIDTH VIA3_BAR -gt "VIA3_W_2" -outputlayer A;
    ANGLE VIA3_BAR -eq 45 -outputlayer B;
    INTE B -lt "VIA3_W_2 + 2*GRID" -output region -outputlayer C;
    NOT A C -outputlayer D;
    SELECT -enclose_rect D -width 1 -length 0.005 ; // -outputlayer _EPTMPL266051
}

RULE VIA3.S.1 {
    CAPTION "Spacing >= 0.1 um";
    EXTE VIA3 -lt "VIA3_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL266052
}

RULE VIA3.S.2 {
    CAPTION "Space to 3-neighboring VIAx (< 0.14 um distance) >= 0.13 um";
    SELECT -with_neighbor VIA3 -gt 2 -space -lt VIA3_S_2_S -outputlayer X;
    EXTE X VIA3 -lt "VIA3_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL266054
}

RULE VIA3.S.3 {
    CAPTION "Space to neighboring VIAx [different net and common parallel run length > 0] >= 0.13 um";
    STAMP VIA3 VIA3i -outputlayer VIA3_NODAL;
    EXTE VIA3_NODAL -lt "VIA3_S_3" -abut -lt 90 -not_connected -metric opposite -output region ; // -outputlayer _EPTMPL266056
}

RULE VIA3.EN.1 {
    CAPTION "Enclosure by M3 >= 0 um";
    NOT VIA3 M3 ; // -outputlayer _EPTMPL266057
}

RULE VIA3.EN.2__VIA3.EN.3 {
    CAPTION "Enclosure by M3 [at least two opposite sides] >= 0.04 , or [all sides] >= 0.03";
    RECT_ENC VIA3 M3 -abut -lt 90 -single_point -good 0 VIA3_EN_2 opposite 0 VIA3_EN_2 opposite -outputlayer X;
    ENC X M3 -lt "VIA3_EN_3" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL266059
}
variable VIA3_R_2_S2_S1 "(VIA3_R_2_S2 - VIA3_R_2_S1)/2";

RULE VIA3.R.2__VIA3.R.3 {
    CAPTION "When M3 or M4 width > 0.3 um, more than one VIA3 is required.";
    CAPTION "2 vias spacing should be <= 0.2 um or 4 vias spacing should be <= 0.25 um";
    CAPTION "When M3 or M4 width > 0.7 um, more than three VIA3 is required.";
    CAPTION "4 vias spacing should be <= 0.2 um or 9 vias spacing should be <= 0.35 um";
    AND M3Wide_0.42_VIA3 M4 -outputlayer _EPTMPL266060;
    AND M4Wide_0.42_VIA3 M3 -outputlayer _EPTMPL266061;
    OR _EPTMPL266060 _EPTMPL266061 -outputlayer M4OvpM3_W_;
    AND M3Wide_0.98_VIA3 M4 -outputlayer _EPTMPL266063;
    AND M4Wide_0.98_VIA3 M3 -outputlayer _EPTMPL266064;
    OR _EPTMPL266063 _EPTMPL266064 -outputlayer M4OvpM3_B;
    NOT M4OvpM3_W_ M4OvpM3_B -outputlayer M4OvpM3_W;
    SELECT -outside -not VIA3_EXD M4OvpM3_W -outputlayer Checked_VIA3_W_;
    SELECT -outside -not VIA3_EXD M4OvpM3_B -outputlayer Checked_VIA3_B;
    NOT Checked_VIA3_W_ Checked_VIA3_B -outputlayer Checked_VIA3_W;
    SELECT -interact M3i M4OvpM3_W_ -outputlayer M3_effect;
    SELECT -interact M4i M4OvpM3_W_ -outputlayer M4_effect;
    AND M3_effect M4_effect -outputlayer effect_M4OvpM3_;
    SELECT -interact effect_M4OvpM3_ M4OvpM3_W_ -outputlayer effect_M4OvpM3;
    SELECT -interact VIA3_EXD effect_M4OvpM3 -outputlayer effect_VIA;
    SIZE effect_VIA -by "VIA3_R_2_S1/2" -inside_of effect_M4OvpM3 -step "M3_S_1*0.7" -outputlayer V3Merged_A;
    SIZE V3Merged_A -by "VIA3_R_2_S2_S1" -inside_of effect_M4OvpM3 -step "M3_S_1*0.7" -outputlayer V3Merged_B;
    SIZE V3Merged_B -by "(VIA3_R_3_S2 - VIA3_R_2_S2)/2" -inside_of effect_M4OvpM3 -step "M3_S_1*0.7" -outputlayer V3Merged_C;
    SELECT -interact V3Merged_A effect_VIA -lt 2 -outputlayer V3Merged_A2R;
    SELECT -outside V3Merged_A V3Merged_A2R -outputlayer V3Merged_A2;
    SELECT -interact V3Merged_A2 effect_VIA -lt 4 -outputlayer V3Merged_A4R;
    SELECT -outside V3Merged_A2 V3Merged_A4R -outputlayer V3Merged_A4;
    SELECT -interact V3Merged_B effect_VIA -lt 4 -outputlayer V3Merged_B4R;
    SELECT -outside V3Merged_B V3Merged_B4R -outputlayer V3Merged_B4;
    SELECT -interact V3Merged_C effect_VIA -lt 9 -outputlayer V3Merged_C9R;
    SELECT -outside V3Merged_C V3Merged_C9R -outputlayer V3Merged_C9;
    OR V3Merged_A2 V3Merged_B4 -outputlayer GMergeW;
    OR V3Merged_A4 V3Merged_C9 -outputlayer GMergeB;
    SELECT -interact Checked_VIA3_W GMergeW -outputlayer GVIA_W;
    SELECT -interact Checked_VIA3_B GMergeB -outputlayer GVIA_B;
    SELECT -interact M4OvpM3_W GVIA_W -outputlayer GOOD_AREA_W;
    SELECT -interact M4OvpM3_B GVIA_B -outputlayer GOOD_AREA_B;
    SELECT -outside Checked_VIA3_W GOOD_AREA_W ; // -outputlayer _EPTMPL266092
    SELECT -outside Checked_VIA3_B GOOD_AREA_B ; // -outputlayer _EPTMPL266093
}

RULE VIA3.R.4:M3 {
    CAPTION " At least two VIAx must be used for a connection that is <= 0.8 um (D) away from a metal plate (either Mx or Mx+1) with length > 0.3 um (L) and width > 0.3 um (W). (It is allowed to use one VIAx for a connection that is > 0.8 um (D) away from a metal plate (either Mx or Mx+1) with length > 0.3 um (L) and width > 0.3 um (W).)";
    SIZE M3Wide_0.7_VIA3 -by "VIA3_R_4_D + GRID" -outputlayer _EPTMPL266094;
    NOT _EPTMPL266094 M3Wide_0.7_VIA3 -outputlayer _EPTMPL266095;
    AND _EPTMPL266095 M3 -outputlayer Branch1;
    SELECT -interact Branch1 M3Wide_0.7_VIA3 -outputlayer _EPTMPL266097;
    SELECT -interact _EPTMPL266097 VIA3 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M3Wide_0.7_VIA3 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA3_R_4_D" -inside_of Branch1HasVia -step "M3_S_1*0.5" -outputlayer Branch;
    AND Branch M4 -outputlayer _EPTMPL266102;
    SELECT -interact _EPTMPL266102 VIA3 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA3 Branch -outputlayer _EPTMPL266104;
    SELECT -outside _EPTMPL266104 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M4 BranchSingleVia -outputlayer _EPTMPL266106;
    AND _EPTMPL266106 M3 -outputlayer _EPTMPL266107;
    SELECT -interact _EPTMPL266107 BranchSingleVia -outputlayer _EPTMPL266108;
    SELECT -interact _EPTMPL266108 VIA3 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL266110;
    NOT _EPTMPL266110 VIA_EXD ; // -outputlayer _EPTMPL266111
}

RULE VIA3.R.4:M4 {
    CAPTION "At least two VIAx must be used for a connection that is <= 0.8 um (D) away from a metal plate (either Mx or Mx+1) with length > 0.3 um (L) and width > 0.3 um (W). (It is allowed to use one VIAx for a connection that is > 0.8 um (D) away from a metal plate (either Mx or Mx+1) with length > 0.3 um (L) and width > 0.3 um (W).)";
    SIZE M4Wide_0.7_VIA3 -by "VIA3_R_4_D + GRID" -outputlayer _EPTMPL266112;
    NOT _EPTMPL266112 M4Wide_0.7_VIA3 -outputlayer _EPTMPL266113;
    AND _EPTMPL266113 M4 -outputlayer Branch1;
    SELECT -interact Branch1 M4Wide_0.7_VIA3 -outputlayer _EPTMPL266115;
    SELECT -interact _EPTMPL266115 VIA3 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M4Wide_0.7_VIA3 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA3_R_4_D" -inside_of Branch1HasVia -step "M4_S_1*0.5" -outputlayer Branch;
    AND Branch M3 -outputlayer _EPTMPL266120;
    SELECT -interact _EPTMPL266120 VIA3 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA3 Branch -outputlayer _EPTMPL266122;
    SELECT -outside _EPTMPL266122 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M3 BranchSingleVia -outputlayer _EPTMPL266124;
    AND _EPTMPL266124 M4 -outputlayer _EPTMPL266125;
    SELECT -interact _EPTMPL266125 BranchSingleVia -outputlayer _EPTMPL266126;
    SELECT -interact _EPTMPL266126 VIA3 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL266128;
    NOT _EPTMPL266128 VIA_EXD ; // -outputlayer _EPTMPL266129
}

RULE VIA3.R.5:M3 {
    CAPTION "At least two VIAx must be used for a connection that is <= 2 um (D) away from a metal plate (either Mx or Mx+1) with length > 2 um (L) and width > 2 um (W). It is allowed to use one VIAx for a connection that is > 2 um (D) away from a metal plate (either Mx or Mx+1) with length> 2 um (L) and width > 2 um (W).";
    SIZE M3Wide_2_VIA3 -by "VIA3_R_5_D + GRID" -outputlayer _EPTMPL266130;
    NOT _EPTMPL266130 M3Wide_2_VIA3 -outputlayer _EPTMPL266131;
    AND _EPTMPL266131 M3 -outputlayer Branch1;
    SELECT -interact Branch1 M3Wide_2_VIA3 -outputlayer _EPTMPL266133;
    SELECT -interact _EPTMPL266133 VIA3 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M3Wide_2_VIA3 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA3_R_5_D" -inside_of Branch1HasVia -step "M3_S_1*0.7" -outputlayer Branch;
    AND Branch M4 -outputlayer _EPTMPL266138;
    SELECT -interact _EPTMPL266138 VIA3 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA3 Branch -outputlayer _EPTMPL266140;
    SELECT -outside _EPTMPL266140 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M4 BranchSingleVia -outputlayer _EPTMPL266142;
    AND _EPTMPL266142 M3 -outputlayer _EPTMPL266143;
    SELECT -interact _EPTMPL266143 BranchSingleVia -outputlayer _EPTMPL266144;
    SELECT -interact _EPTMPL266144 VIA3 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL266146;
    NOT _EPTMPL266146 VIA_EXD ; // -outputlayer _EPTMPL266147
}

RULE VIA3.R.5:M4 {
    CAPTION "At least two VIAx must be used for a connection that is <= 2 um (D) away from a metal plate (either Mx or Mx+1) with length > 2 um (L) and width > 2 um (W). It is allowed to use one VIAx for a connection that is > 2 um (D) away from a metal plate (either Mx or Mx+1) with length> 2 um (L) and width > 2 um (W).";
    SIZE M4Wide_2_VIA3 -by "VIA3_R_5_D + GRID" -outputlayer _EPTMPL266148;
    NOT _EPTMPL266148 M4Wide_2_VIA3 -outputlayer _EPTMPL266149;
    AND _EPTMPL266149 M4 -outputlayer Branch1;
    SELECT -interact Branch1 M4Wide_2_VIA3 -outputlayer _EPTMPL266151;
    SELECT -interact _EPTMPL266151 VIA3 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M4Wide_2_VIA3 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA3_R_5_D" -inside_of Branch1HasVia -step "M4_S_1*0.7" -outputlayer Branch;
    AND Branch M3 -outputlayer _EPTMPL266156;
    SELECT -interact _EPTMPL266156 VIA3 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA3 Branch -outputlayer _EPTMPL266158;
    SELECT -outside _EPTMPL266158 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M3 BranchSingleVia -outputlayer _EPTMPL266160;
    AND _EPTMPL266160 M4 -outputlayer _EPTMPL266161;
    SELECT -interact _EPTMPL266161 BranchSingleVia -outputlayer _EPTMPL266162;
    SELECT -interact _EPTMPL266162 VIA3 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL266164;
    NOT _EPTMPL266164 VIA_EXD ; // -outputlayer _EPTMPL266165
}
SELECT -enclose_rect M3Wide_3_VIA3 -width VIA3_R_6_W -length VIA3_R_6_L+GRID -outputlayer M3Big_3_VIA3;

RULE VIA3.R.6:M3 {
    CAPTION " At least two VIAx must be used for a connection that is <= 5 um (D) away from a metal plate (either Mx or Mx+1) with length > 10 um (L) and width > 3 um (W). (It is allowed to use one VIAx for a connection that is > 5 um (D) away from a metal plate (either Mx or Mx+1) with length> 10 um (L) and width > 3 um (W)).";
    SIZE M3Big_3_VIA3 -by "VIA3_R_6_D + GRID" -outputlayer _EPTMPL266167;
    NOT _EPTMPL266167 M3Big_3_VIA3 -outputlayer _EPTMPL266168;
    AND _EPTMPL266168 M3 -outputlayer Branch1;
    SELECT -interact Branch1 M3Big_3_VIA3 -outputlayer _EPTMPL266170;
    SELECT -interact _EPTMPL266170 VIA3 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M3Big_3_VIA3 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA3_R_6_D" -inside_of Branch1HasVia -step "M3_S_1*0.7" -outputlayer Branch;
    AND Branch M4 -outputlayer _EPTMPL266175;
    SELECT -interact _EPTMPL266175 VIA3 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA3 Branch -outputlayer _EPTMPL266177;
    SELECT -outside _EPTMPL266177 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M4 BranchSingleVia -outputlayer _EPTMPL266179;
    AND _EPTMPL266179 M3 -outputlayer _EPTMPL266180;
    SELECT -interact _EPTMPL266180 BranchSingleVia -outputlayer _EPTMPL266181;
    SELECT -interact _EPTMPL266181 VIA3 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL266183;
    NOT _EPTMPL266183 VIA_EXD ; // -outputlayer _EPTMPL266184
}
SELECT -enclose_rect M4Wide_3_VIA3 -width VIA3_R_6_W -length VIA3_R_6_L+GRID -outputlayer M4Big_3_VIA3;

RULE VIA3.R.6:M4 {
    CAPTION "At least two VIAx must be used for a connection that is <= 5 um (D) away from a metal plate (either Mx or Mx+1) with length > 10 um (L) and width > 3 um (W). (It is allowed to use one VIAx for a connection that is > 5 um (D) away from a metal plate (either Mx or Mx+1) with length> 10 um (L) and width > 3 um (W)).";
    SIZE M4Big_3_VIA3 -by "VIA3_R_6_D + GRID" -outputlayer _EPTMPL266186;
    NOT _EPTMPL266186 M4Big_3_VIA3 -outputlayer _EPTMPL266187;
    AND _EPTMPL266187 M4 -outputlayer Branch1;
    SELECT -interact Branch1 M4Big_3_VIA3 -outputlayer _EPTMPL266189;
    SELECT -interact _EPTMPL266189 VIA3 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M4Big_3_VIA3 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA3_R_6_D" -inside_of Branch1HasVia -step "M4_S_1*0.7" -outputlayer Branch;
    AND Branch M3 -outputlayer _EPTMPL266194;
    SELECT -interact _EPTMPL266194 VIA3 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA3 Branch -outputlayer _EPTMPL266196;
    SELECT -outside _EPTMPL266196 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M3 BranchSingleVia -outputlayer _EPTMPL266198;
    AND _EPTMPL266198 M4 -outputlayer _EPTMPL266199;
    SELECT -interact _EPTMPL266199 BranchSingleVia -outputlayer _EPTMPL266200;
    SELECT -interact _EPTMPL266200 VIA3 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL266202;
    NOT _EPTMPL266202 VIA_EXD ; // -outputlayer _EPTMPL266203
}

RULE VIA3.R.11 {
    CAPTION "Single VIAx is not allowed for H-shape  Mx+1 when all of the following conditions come into existence:";
    CAPTION "1. The Mx+1 has H-shape interact with two metal holes : both two metal hole area <= 5 um2 and two metal hole length(L2) <= 5 um";
    CAPTION "2. The VIAx overlaps on the center metal bar of this H-shape Mx+1";
    CAPTION "3. The length (L) of the center metal bar <= 1 um and the width of metal bar is <= 0.3 um.";
    WITH_WIDTH M4i -le "VIA3_R_11_W" -outputlayer W;
    HOLES M4i -inner -le "VIA3_R_11_A" -outputlayer _EPTMPL266205;
    SELECT -interact _EPTMPL266205 W -outputlayer H_HOLE;
    SELECT -interact M4i H_HOLE -outputlayer A0;
    EDGE_BOOLEAN -coincident_only -outside A0 H_HOLE -outputlayer A;
    INTE A -le "VIA3_R_11_W" -abut -lt 90 -metric opposite -output region -exclude_shielded 4 -outputlayer _EPTMPL266209;
    SELECT -inside _EPTMPL266209 A0 -outputlayer _EPTMPL266210;
    SELECT -interact _EPTMPL266210 H_HOLE -eq 2 -outputlayer B0;
    INTE A -le "VIA3_R_11_L" -abut -lt 90 -metric opposite -output region -exclude_shielded 4 -outputlayer _EPTMPL266212;
    SELECT -inside _EPTMPL266212 A0 -outputlayer _EPTMPL266213;
    AND _EPTMPL266213 W -outputlayer _EPTMPL266214;
    SELECT -interact _EPTMPL266214 H_HOLE -eq 2 -outputlayer B1;
    EXTE H_HOLE -le "VIA3_R_11_W" -abut -lt 90 -metric opposite -notch only -output region -outputlayer HOLE_NOTCH;
    NOT B1 HOLE_NOTCH -outputlayer _EPTMPL266217;
    OR _EPTMPL266217 B0 -outputlayer B2;
    EXTE B2 -le "VIA3_R_11_W" -abut -eq 90 -intersecting ONLY -output region_extents -outputlayer _EPTMPL266219;
    SELECT -touch _EPTMPL266219 B2 -eq 2 -outputlayer _EPTMPL266220;
    AND _EPTMPL266220 W -outputlayer CORNER_M;
    OR B2 CORNER_M -outputlayer B;
    SELECT -enclose_rect -not B -width GRID -length VIA3_R_11_L+GRID -outputlayer CENTER_BAR1;
    SELECT -interact CENTER_BAR1 H_HOLE -eq 2 -outputlayer _EPTMPL266224;
    SELECT -interact _EPTMPL266224 VIA3i -outputlayer CENTER_BAR2;
    EDGE_BOOLEAN -coincident_only -outside CENTER_BAR2 H_HOLE -outputlayer C;
    EXTE C A -le "VIA3_R_11_L2" -metric opposite -output positive1 -outputlayer D;
    EDGE_BOOLEAN -coincident_only -inside -not C D -outputlayer E;
    SELECT -with_edge -not CENTER_BAR2 E -outputlayer CENTER_BAR3;
    SELECT -outside -not VIA3i CENTER_BAR3 -outputlayer CHECK_VIA;
    SELECT -interact A0 CHECK_VIA -outputlayer _EPTMPL266231;
    SELECT -interact M3i CHECK_VIA -outputlayer _EPTMPL266232;
    AND _EPTMPL266231 _EPTMPL266232 -outputlayer _EPTMPL266233;
    SELECT -interact _EPTMPL266233 VIA3i -eq 1 -outputlayer _EPTMPL266234;
    AND CHECK_VIA _EPTMPL266234 ; // -outputlayer _EPTMPL266235
}
NOT M4Wide_first CB_NON_CUP -outputlayer M41;
NOT M4Wide_0.4 CB_NON_CUP -outputlayer M411;
NOT M4Wide_1.5 CB_NON_CUP -outputlayer M42;
NOT M4Wide_4.5 CB_NON_CUP -outputlayer M43;
AREA M4 -gt "M4_S_3_L*M4_W_1" -outputlayer M4AS3;
AREA M4AS3 -gt "M4_S_4_L*M4_W_1" -outputlayer M4AS4;
ANGLE M4 -eq 45 -outputlayer M4_EDGE_45;

RULE M4.W.1 {
    CAPTION "Width >= 0.1 um";
    INTE M4 -lt "M4_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL266243
}

RULE M4.W.2 {
    CAPTION "Width of 45-degree bent Mx Please make sure the vertex of 45 degree pattern is on 5nm grid >= 0.19 um";
    INTE M4_EDGE_45 -lt "M4_W_2" -abut -lt 90 -output region ; // -outputlayer _EPTMPL266244
}

RULE M4.W.3 {
    CAPTION "Maximum width <= 12 um";
    SIZE M4 -by "M4_W_3/2" -underover -truncate "M4_W_3/2" ; // -outputlayer _EPTMPL266245
}

RULE M4.S.1 {
    CAPTION "Spacing >= 0.1 um";
    EXTE M4 -lt "M4_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL266246
}

RULE M4.S.2 {
    CAPTION "Space [at least one metal line width > 0.2 um  and the parallel metal run length > 0.38 um ] (union projection) >= 0.12";
    EXTE M41 M4 -lt "M4_S_2" -metric opposite -output region -measure all -outputlayer X;
    NOT X M4 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length M4_S_2_L+GRID ; // -outputlayer _EPTMPL266249
}

RULE M4.S.2.1 {
    CAPTION "Space [at least one metal line width > 0.4 um  and the parallel metal run length > 0.4 um ] (union projection) >= 0.16";
    EXTE M411 M4 -lt "M4_S_2_1" -metric opposite -output region -measure all -outputlayer X;
    NOT X M4 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length M4_S_2_1_L+GRID ; // -outputlayer _EPTMPL266252
}

RULE M4.S.3 {
    CAPTION "Space [at least one metal line width > 1.5 um  and the parallel metal run length > 1.5 um ] (union projection) >= 0.5";
    EXTE M42 M4AS3 -lt "M4_S_3" -metric opposite -output region -measure all -outputlayer X;
    NOT X M4 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length M4_S_3_L+GRID ; // -outputlayer _EPTMPL266255
}

RULE M4.S.4 {
    CAPTION "Space [at least one metal line width > 4.5 um  and the parallel metal run length > 4.5 um ] (union projection) >= 1.5";
    EXTE M43 M4AS4 -lt "M4_S_4" -metric opposite -output region -measure all -outputlayer X;
    NOT X M4 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length M4_S_4_L+GRID ; // -outputlayer _EPTMPL266258
}

RULE M4.S.5 {
    CAPTION "Space at Mx line-end (W<Q=0.120) in a dense-line-end configuration: If Mx has parallel run length with opposite Mx (measured with T=0.035 extension) along 2 adjacent edges of Mx [any one edge <Q distance from the corner of the two edges], then one of the space (S1 or S2) needs to be at least this value (except for small jog with edge length < 0.10 um (R)) >= 0.12 um.";
    CONVEX_EDGE M4 -angle1 -eq 90 -angle2 -eq 90 -with_length -lt "M4_S_5_Q" -outputlayer A;
    EXTE A M4 -lt "M4_S_5" -abut -lt 90 -metric opposite_extended "M4_S_5_E" -output positive1 -outputlayer B;
    EDGE_SELECT -coincident_only -inside A B -outputlayer C;
    INTE C M4 -lt "M4_S_5_Q" -abut -eq 90 -intersecting ONLY -output positive2 -outputlayer D;
    EDGE_LENGTH D -ge "M4_W_1" -outputlayer I;
    EDGE_EXPAND I -inside_by 0.001 -extend_by "M4_S_5_E" -outputlayer J;
    EDGE_EXPAND I -inside_by 0.001 -outputlayer K;
    NOT J K -outputlayer L;
    SELECT -with_edge L A -outputlayer M;
    OR M K -outputlayer N;
    EDGE_SELECT -coincident_only N I -outputlayer O;
    EXTE O M4 -lt "M4_S_5" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL266270
}

RULE M4.EN.1 {
    CAPTION " Enclosure of VIA3 >= 0 um";
    NOT VIA3 M4 ; // -outputlayer _EPTMPL266271
}

RULE M4.EN.2__M4.EN.3 {
    CAPTION "Enclosure of VIA3 [at least two opposite sides] >= 0.04 ,or [all sides] >= 0.03";
    RECT_ENC VIA3 M4 -abut -lt 90 -single_point -good 0 M4_EN_2 opposite 0 M4_EN_2 opposite -outputlayer X;
    ENC X M4 -lt "M4_EN_3" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL266273
}

RULE M4.A.1 {
    CAPTION "Area >= 0.052 um2";
    AREA M4 -lt "M4_A_1" ; // -outputlayer _EPTMPL266274
}
variable M4_A_2pre " ((M4_A_2 + (M4_S_1 * M4_S_1 * 3.142))/(2 * M4_S_1))   *((M4_A_2 + (M4_S_1 * M4_S_1 * 3.142))/(2 * M4_S_1))/3.141 ";

RULE M4.A.2 {
    CAPTION "Enclosed area >= 0.2 um";
    HOLES M4 -inner -lt "M4_A_2pre" -outputlayer X;
    NOT X M4 -outputlayer _EPTMPL266276;
    AREA _EPTMPL266276 -lt "M4_A_2" ; // -outputlayer _EPTMPL266277
}

RULE M4.S.6 {
    CAPTION "Space to 45 degree bent M4 >=  M4_S_6 um";
    EDGE_EXPAND M4_EDGE_45 -outside_by "M4_S_6" -outputlayer X;
    AND X M4 ; // -outputlayer _EPTMPL266279
}
COPY M4_EXC -outputlayer M4DN1H_EXC;
COPY M4_EXC_LOW -outputlayer M4DN1L_EXC;

RULE M4.DN.1 {
    CAPTION "M4 local density must be >= 0.1 range over 75 um x 75 um step 37.5 um";
    NOT M4x M4DN1L_EXC -outputlayer M4_CHECK;
    NOT CHIP M4DN1L_EXC -outputlayer CHIP_CHECK;
    DENSITY M4_CHECK CHIP_CHECK -lt M4_DN_1L -window "M4_DN_1L_W" -step "M4_DN_1L_S" -inside_of layer CHIPx -backup -expr "  AREA(M4_CHECK)/AREA(CHIP_CHECK)  " -outputlayer ERR_WIN;
    NOT ERR_WIN M4DN1L_EXC -outputlayer _EPTMPL266285;
    WITH_WIDTH _EPTMPL266285 -ge "M4_DN_1L_E" -outputlayer F;
    DENSITY F M4_CHECK CHIP_CHECK -lt M4_DN_1L -window "M4_DN_1L_W" -step "M4_DN_1L_S" -inside_of layer CHIPx -backup -print "M4.DN.1.density" -expr "  ! AREA(F)+AREA(M4_CHECK)/AREA(CHIP_CHECK)  " ; // -outputlayer _EPTMPL266287
}

RULE M4.DN.1.1 {
    CAPTION "M4 local density must be <= 0.8 range over 100 um x 100 um step 50 um";
    NOT M4x M4DN1H_EXC -outputlayer M4_CHECK;
    NOT CHIP M4DN1H_EXC -outputlayer CHIP_CHECK;
    DENSITY M4_CHECK CHIP_CHECK -gt M4_DN_1H -window "M4_DN_1H_W" -step "M4_DN_1H_S" -inside_of layer CHIPx -backup -expr "  AREA(M4_CHECK)/AREA(CHIP_CHECK)  " -outputlayer ERR_WIN;
    NOT ERR_WIN M4DN1H_EXC -outputlayer _EPTMPL266291;
    WITH_WIDTH _EPTMPL266291 -ge "M4_DN_1H_E" -outputlayer F;
    DENSITY F M4_CHECK CHIP_CHECK -gt M4_DN_1H -window "M4_DN_1H_W" -step "M4_DN_1H_S" -inside_of layer CHIPx -backup -print "M4.DN.1.1.density" -expr "  !! AREA(F)*AREA(M4_CHECK)/AREA(CHIP_CHECK)  " ; // -outputlayer _EPTMPL266293
}
COPY EMPTYi -outputlayer M4DN2_EXC;

RULE M4.DN.2 {
    CAPTION "M4 local density must be <= 0.9 range over 20 um x 20 um step 10 um";
    NOT M4x M4DN2_EXC -outputlayer M4_CHECK;
    DENSITY M4_CHECK CHIP -gt M4_DN_2 -window "M4_DN_2_W" -step "M4_DN_2_S" -inside_of layer CHIPx -backup -expr "  AREA(M4_CHECK)/AREA(CHIP)  " -outputlayer ERR_WIN;
    NOT ERR_WIN M4DN2_EXC -outputlayer _EPTMPL266297;
    WITH_WIDTH _EPTMPL266297 -ge "M4_DN_2_E" -outputlayer F;
    DENSITY F M4_CHECK CHIP -gt M4_DN_2 -window "M4_DN_2_W" -step "M4_DN_2_S" -inside_of layer CHIPx -backup -print "M4.DN.2.density" -expr "  !! AREA(F)*AREA(M4_CHECK)/AREA(CHIP)  " ; // -outputlayer _EPTMPL266299
}

RULE M4.DN.4 {
    CAPTION "The metal density difference between any two 250 um x 250 um neighboring checking windows including DM4EXCL <= 0.4";
    DENSITY M4x CHIP -le 1 -window "M4_DN_4_W" -backup -gradient -gt M4_DN_4 -corner -print "M4.DN.4.density" -expr "  AREA(M4x)/AREA(CHIP)  " ; // -outputlayer _EPTMPL266300
}
NOT M4x SRCSR -outputlayer M4_CORE;

RULE M2.DN.5 {
    CAPTION "It is not allowed to have local density > 0.8 of all 3 consecutive metal (M2,M3,M4) over any 50 um x 50 um window (stepping 25 um)";
    DENSITY M2_CORE M3_CORE M4_CORE -gt 0 -window "Mx_DN_5_W" -step "Mx_DN_5_S" -backup -expr "  ! ~(AREA(M2_CORE)/AREA()-Mx_DN_5)*!~(AREA(M3_CORE)/AREA()-Mx_DN_5)*!~(AREA(M4_CORE)/AREA()-Mx_DN_5)  " -rdb M2.DN.5.density ; // -outputlayer _EPTMPL266302
}
variable M2_DN_6 0.15;
SIZE CBM -by 25 -outputlayer _EPTMPL266303;
SIZE _EPTMPL266303 -by -25 -outputlayer M2DN6_CBM_MERGE;
AREA M2DN6_CBM_MERGE -ge "200 * 200" -outputlayer M2DN6_CHECK_CBM;
AND M2x M2DN6_CHECK_CBM -outputlayer M2DN6_M2_CHECK;
AND M3x M2DN6_CHECK_CBM -outputlayer M2DN6_M3_CHECK;
AND M4x M2DN6_CHECK_CBM -outputlayer M2DN6_M4_CHECK;
CONNECT M2DN6_CHECK_CBM M2DN6_M2_CHECK;
CONNECT M2DN6_CHECK_CBM M2DN6_M3_CHECK;
CONNECT M2DN6_CHECK_CBM M2DN6_M4_CHECK;

RULE M2.DN.6 {
    CAPTION "It is not allowed to have local density < 0.15 of all 3 consecutive metal (M2,M3,M4) under ((CBM SIZING 25) SIZING -25) whose size is >= 200um X 200um";
    ANTENNA M2DN6_CHECK_CBM M2DN6_M2_CHECK -lt "M2_DN_6" -expr "  AREA(M2DN6_M2_CHECK)/AREA(M2DN6_CHECK_CBM)  " -rdb M2.DN.6.M2.density -outputlayer A;
    ANTENNA M2DN6_CHECK_CBM M2DN6_M3_CHECK -lt "M2_DN_6" -expr "  AREA(M2DN6_M3_CHECK)/AREA(M2DN6_CHECK_CBM)  " -rdb M2.DN.6.M3.density -outputlayer B;
    ANTENNA M2DN6_CHECK_CBM M2DN6_M4_CHECK -lt "M2_DN_6" -expr "  AREA(M2DN6_M4_CHECK)/AREA(M2DN6_CHECK_CBM)  " -rdb M2.DN.6.M4.density -outputlayer C;
    AND A B -outputlayer _EPTMPL266315;
    AND _EPTMPL266315 C ; // -outputlayer _EPTMPL266316
}
SIZE M5 -by "M5_S_2_W/2" -underover -truncate "M5_S_2_W/2" -outputlayer _EPTMPL266317;
AND _EPTMPL266317 M5 -outputlayer M5Wide_first;
SIZE M5Wide_first -by "M5_S_2_1_W/2" -underover -truncate "M5_S_2_1_W/2" -outputlayer _EPTMPL266319;
AND _EPTMPL266319 M5Wide_first -outputlayer M5Wide_0.4;
SIZE M5Wide_first -by "M5_S_3_W/2" -underover -truncate "M5_S_3_W/2" -outputlayer _EPTMPL266321;
AND _EPTMPL266321 M5Wide_first -outputlayer M5Wide_1.5;
SIZE M5Wide_1.5 -by "M5_S_4_W/2" -underover -truncate "M5_S_4_W/2" -outputlayer _EPTMPL266323;
AND _EPTMPL266323 M5Wide_1.5 -outputlayer M5Wide_4.5;
SIZE M4Wide_first -by "VIA4_R_2_W/2" -underover -truncate "VIA4_R_2_W/2" -outputlayer _EPTMPL266325;
AND _EPTMPL266325 M4Wide_first -outputlayer M4Wide_0.42_VIA4;
SIZE M4Wide_0.42_VIA4 -by "VIA4_R_4_W/2" -underover -truncate "VIA4_R_4_W/2" -outputlayer _EPTMPL266327;
AND _EPTMPL266327 M4Wide_0.42_VIA4 -outputlayer M4Wide_0.7_VIA4;
SIZE M4Wide_0.7_VIA4 -by "VIA4_R_3_W/2" -underover -truncate "VIA4_R_3_W/2" -outputlayer _EPTMPL266329;
AND _EPTMPL266329 M4Wide_0.7_VIA4 -outputlayer M4Wide_0.98_VIA4;
SIZE M4Wide_0.98_VIA4 -by "VIA4_R_5_W/2" -underover -truncate "VIA4_R_5_W/2" -outputlayer _EPTMPL266331;
AND _EPTMPL266331 M4Wide_0.98_VIA4 -outputlayer M4Wide_2_VIA4;
SIZE M4Wide_2_VIA4 -by "VIA4_R_6_W/2" -underover -truncate "VIA4_R_6_W/2" -outputlayer _EPTMPL266333;
AND _EPTMPL266333 M4Wide_2_VIA4 -outputlayer M4Wide_3_VIA4;
SIZE M5Wide_first -by "VIA4_R_2_W/2" -underover -truncate "VIA4_R_2_W/2" -outputlayer _EPTMPL266335;
AND _EPTMPL266335 M5Wide_first -outputlayer M5Wide_0.42_VIA4;
SIZE M5Wide_0.42_VIA4 -by "VIA4_R_4_W/2" -underover -truncate "VIA4_R_4_W/2" -outputlayer _EPTMPL266337;
AND _EPTMPL266337 M5Wide_0.42_VIA4 -outputlayer M5Wide_0.7_VIA4;
SIZE M5Wide_0.7_VIA4 -by "VIA4_R_3_W/2" -underover -truncate "VIA4_R_3_W/2" -outputlayer _EPTMPL266339;
AND _EPTMPL266339 M5Wide_0.7_VIA4 -outputlayer M5Wide_0.98_VIA4;
SIZE M5Wide_0.98_VIA4 -by "VIA4_R_5_W/2" -underover -truncate "VIA4_R_5_W/2" -outputlayer _EPTMPL266341;
AND _EPTMPL266341 M5Wide_0.98_VIA4 -outputlayer M5Wide_2_VIA4;
SIZE M5Wide_2_VIA4 -by "VIA4_R_6_W/2" -underover -truncate "VIA4_R_6_W/2" -outputlayer _EPTMPL266343;
AND _EPTMPL266343 M5Wide_2_VIA4 -outputlayer M5Wide_3_VIA4;

RULE VIA4.W.1 {
    CAPTION "Width (maximum = minimum except for seal-ring and fuse protection ring) = 0.1 um";
    CAPTION "VIA4.R.1 45-degree rotated VIA is not allowed";
    RECT_CHK -not VIA4 -eq "VIA4_W_1" -by -eq "VIA4_W_1" -orthogonal_only -outputlayer A;
    NOT A VIA_EXD ; // -outputlayer _EPTMPL266346
}

RULE VIA4.W.2 {
    CAPTION "Width of VIAx bar. VIAx bar is only allowed in seal-ring and fuse protection ring. SEALRING layer (CAD layer: 162 for both seal-ring and fuse protection ring) is a Must to cover VIAx bar if VIAx bar is used = 0.1";
    INTE VIA4_BAR -lt "VIA4_W_2" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL266347
    WITH_WIDTH VIA4_BAR -gt "VIA4_W_2" -outputlayer A;
    ANGLE VIA4_BAR -eq 45 -outputlayer B;
    INTE B -lt "VIA4_W_2 + 2*GRID" -output region -outputlayer C;
    NOT A C -outputlayer D;
    SELECT -enclose_rect D -width 1 -length 0.005 ; // -outputlayer _EPTMPL266352
}

RULE VIA4.S.1 {
    CAPTION "Spacing >= 0.1 um";
    EXTE VIA4 -lt "VIA4_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL266353
}

RULE VIA4.S.2 {
    CAPTION "Space to 3-neighboring VIAx (< 0.14 um distance) >= 0.13 um";
    SELECT -with_neighbor VIA4 -gt 2 -space -lt VIA4_S_2_S -outputlayer X;
    EXTE X VIA4 -lt "VIA4_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL266355
}

RULE VIA4.S.3 {
    CAPTION "Space to neighboring VIAx [different net and common parallel run length > 0] >= 0.13 um";
    STAMP VIA4 VIA4i -outputlayer VIA4_NODAL;
    EXTE VIA4_NODAL -lt "VIA4_S_3" -abut -lt 90 -not_connected -metric opposite -output region ; // -outputlayer _EPTMPL266357
}

RULE VIA4.EN.1 {
    CAPTION "Enclosure by M4 >= 0 um";
    NOT VIA4 M4 ; // -outputlayer _EPTMPL266358
}

RULE VIA4.EN.2__VIA4.EN.3 {
    CAPTION "Enclosure by M4 [at least two opposite sides] >= 0.04 , or [all sides] >= 0.03";
    RECT_ENC VIA4 M4 -abut -lt 90 -single_point -good 0 VIA4_EN_2 opposite 0 VIA4_EN_2 opposite -outputlayer X;
    ENC X M4 -lt "VIA4_EN_3" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL266360
}
variable VIA4_R_2_S2_S1 "(VIA4_R_2_S2 - VIA4_R_2_S1)/2";

RULE VIA4.R.2__VIA4.R.3 {
    CAPTION "When M4 or M5 width > 0.3 um, more than one VIA4 is required.";
    CAPTION "2 vias spacing should be <= 0.2 um or 4 vias spacing should be <= 0.25 um";
    CAPTION "When M4 or M5 width > 0.7 um, more than three VIA4 is required.";
    CAPTION "4 vias spacing should be <= 0.2 um or 9 vias spacing should be <= 0.35 um";
    AND M4Wide_0.42_VIA4 M5 -outputlayer _EPTMPL266361;
    AND M5Wide_0.42_VIA4 M4 -outputlayer _EPTMPL266362;
    OR _EPTMPL266361 _EPTMPL266362 -outputlayer M5OvpM4_W_;
    AND M4Wide_0.98_VIA4 M5 -outputlayer _EPTMPL266364;
    AND M5Wide_0.98_VIA4 M4 -outputlayer _EPTMPL266365;
    OR _EPTMPL266364 _EPTMPL266365 -outputlayer M5OvpM4_B;
    NOT M5OvpM4_W_ M5OvpM4_B -outputlayer M5OvpM4_W;
    SELECT -outside -not VIA4_EXD M5OvpM4_W -outputlayer Checked_VIA4_W_;
    SELECT -outside -not VIA4_EXD M5OvpM4_B -outputlayer Checked_VIA4_B;
    NOT Checked_VIA4_W_ Checked_VIA4_B -outputlayer Checked_VIA4_W;
    SELECT -interact M4i M5OvpM4_W_ -outputlayer M4_effect;
    SELECT -interact M5i M5OvpM4_W_ -outputlayer M5_effect;
    AND M4_effect M5_effect -outputlayer effect_M5OvpM4_;
    SELECT -interact effect_M5OvpM4_ M5OvpM4_W_ -outputlayer effect_M5OvpM4;
    SELECT -interact VIA4_EXD effect_M5OvpM4 -outputlayer effect_VIA;
    SIZE effect_VIA -by "VIA4_R_2_S1/2" -inside_of effect_M5OvpM4 -step "M4_S_1*0.7" -outputlayer V4Merged_A;
    SIZE V4Merged_A -by "VIA4_R_2_S2_S1" -inside_of effect_M5OvpM4 -step "M4_S_1*0.7" -outputlayer V4Merged_B;
    SIZE V4Merged_B -by "(VIA4_R_3_S2 - VIA4_R_2_S2)/2" -inside_of effect_M5OvpM4 -step "M4_S_1*0.7" -outputlayer V4Merged_C;
    SELECT -interact V4Merged_A effect_VIA -lt 2 -outputlayer V4Merged_A2R;
    SELECT -outside V4Merged_A V4Merged_A2R -outputlayer V4Merged_A2;
    SELECT -interact V4Merged_A2 effect_VIA -lt 4 -outputlayer V4Merged_A4R;
    SELECT -outside V4Merged_A2 V4Merged_A4R -outputlayer V4Merged_A4;
    SELECT -interact V4Merged_B effect_VIA -lt 4 -outputlayer V4Merged_B4R;
    SELECT -outside V4Merged_B V4Merged_B4R -outputlayer V4Merged_B4;
    SELECT -interact V4Merged_C effect_VIA -lt 9 -outputlayer V4Merged_C9R;
    SELECT -outside V4Merged_C V4Merged_C9R -outputlayer V4Merged_C9;
    OR V4Merged_A2 V4Merged_B4 -outputlayer GMergeW;
    OR V4Merged_A4 V4Merged_C9 -outputlayer GMergeB;
    SELECT -interact Checked_VIA4_W GMergeW -outputlayer GVIA_W;
    SELECT -interact Checked_VIA4_B GMergeB -outputlayer GVIA_B;
    SELECT -interact M5OvpM4_W GVIA_W -outputlayer GOOD_AREA_W;
    SELECT -interact M5OvpM4_B GVIA_B -outputlayer GOOD_AREA_B;
    SELECT -outside Checked_VIA4_W GOOD_AREA_W ; // -outputlayer _EPTMPL266393
    SELECT -outside Checked_VIA4_B GOOD_AREA_B ; // -outputlayer _EPTMPL266394
}

RULE VIA4.R.4:M4 {
    CAPTION " At least two VIAx must be used for a connection that is <= 0.8 um (D) away from a metal plate (either Mx or Mx+1) with length > 0.3 um (L) and width > 0.3 um (W). (It is allowed to use one VIAx for a connection that is > 0.8 um (D) away from a metal plate (either Mx or Mx+1) with length > 0.3 um (L) and width > 0.3 um (W).)";
    SIZE M4Wide_0.7_VIA4 -by "VIA4_R_4_D + GRID" -outputlayer _EPTMPL266395;
    NOT _EPTMPL266395 M4Wide_0.7_VIA4 -outputlayer _EPTMPL266396;
    AND _EPTMPL266396 M4 -outputlayer Branch1;
    SELECT -interact Branch1 M4Wide_0.7_VIA4 -outputlayer _EPTMPL266398;
    SELECT -interact _EPTMPL266398 VIA4 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M4Wide_0.7_VIA4 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA4_R_4_D" -inside_of Branch1HasVia -step "M4_S_1*0.5" -outputlayer Branch;
    AND Branch M5 -outputlayer _EPTMPL266403;
    SELECT -interact _EPTMPL266403 VIA4 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA4 Branch -outputlayer _EPTMPL266405;
    SELECT -outside _EPTMPL266405 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M5 BranchSingleVia -outputlayer _EPTMPL266407;
    AND _EPTMPL266407 M4 -outputlayer _EPTMPL266408;
    SELECT -interact _EPTMPL266408 BranchSingleVia -outputlayer _EPTMPL266409;
    SELECT -interact _EPTMPL266409 VIA4 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL266411;
    NOT _EPTMPL266411 VIA_EXD ; // -outputlayer _EPTMPL266412
}

RULE VIA4.R.4:M5 {
    CAPTION "At least two VIAx must be used for a connection that is <= 0.8 um (D) away from a metal plate (either Mx or Mx+1) with length > 0.3 um (L) and width > 0.3 um (W). (It is allowed to use one VIAx for a connection that is > 0.8 um (D) away from a metal plate (either Mx or Mx+1) with length > 0.3 um (L) and width > 0.3 um (W).)";
    SIZE M5Wide_0.7_VIA4 -by "VIA4_R_4_D + GRID" -outputlayer _EPTMPL266413;
    NOT _EPTMPL266413 M5Wide_0.7_VIA4 -outputlayer _EPTMPL266414;
    AND _EPTMPL266414 M5 -outputlayer Branch1;
    SELECT -interact Branch1 M5Wide_0.7_VIA4 -outputlayer _EPTMPL266416;
    SELECT -interact _EPTMPL266416 VIA4 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M5Wide_0.7_VIA4 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA4_R_4_D" -inside_of Branch1HasVia -step "M5_S_1*0.5" -outputlayer Branch;
    AND Branch M4 -outputlayer _EPTMPL266421;
    SELECT -interact _EPTMPL266421 VIA4 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA4 Branch -outputlayer _EPTMPL266423;
    SELECT -outside _EPTMPL266423 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M4 BranchSingleVia -outputlayer _EPTMPL266425;
    AND _EPTMPL266425 M5 -outputlayer _EPTMPL266426;
    SELECT -interact _EPTMPL266426 BranchSingleVia -outputlayer _EPTMPL266427;
    SELECT -interact _EPTMPL266427 VIA4 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL266429;
    NOT _EPTMPL266429 VIA_EXD ; // -outputlayer _EPTMPL266430
}

RULE VIA4.R.5:M4 {
    CAPTION "At least two VIAx must be used for a connection that is <= 2 um (D) away from a metal plate (either Mx or Mx+1) with length > 2 um (L) and width > 2 um (W). It is allowed to use one VIAx for a connection that is > 2 um (D) away from a metal plate (either Mx or Mx+1) with length> 2 um (L) and width > 2 um (W).";
    SIZE M4Wide_2_VIA4 -by "VIA4_R_5_D + GRID" -outputlayer _EPTMPL266431;
    NOT _EPTMPL266431 M4Wide_2_VIA4 -outputlayer _EPTMPL266432;
    AND _EPTMPL266432 M4 -outputlayer Branch1;
    SELECT -interact Branch1 M4Wide_2_VIA4 -outputlayer _EPTMPL266434;
    SELECT -interact _EPTMPL266434 VIA4 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M4Wide_2_VIA4 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA4_R_5_D" -inside_of Branch1HasVia -step "M4_S_1*0.7" -outputlayer Branch;
    AND Branch M5 -outputlayer _EPTMPL266439;
    SELECT -interact _EPTMPL266439 VIA4 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA4 Branch -outputlayer _EPTMPL266441;
    SELECT -outside _EPTMPL266441 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M5 BranchSingleVia -outputlayer _EPTMPL266443;
    AND _EPTMPL266443 M4 -outputlayer _EPTMPL266444;
    SELECT -interact _EPTMPL266444 BranchSingleVia -outputlayer _EPTMPL266445;
    SELECT -interact _EPTMPL266445 VIA4 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL266447;
    NOT _EPTMPL266447 VIA_EXD ; // -outputlayer _EPTMPL266448
}

RULE VIA4.R.5:M5 {
    CAPTION "At least two VIAx must be used for a connection that is <= 2 um (D) away from a metal plate (either Mx or Mx+1) with length > 2 um (L) and width > 2 um (W). It is allowed to use one VIAx for a connection that is > 2 um (D) away from a metal plate (either Mx or Mx+1) with length> 2 um (L) and width > 2 um (W).";
    SIZE M5Wide_2_VIA4 -by "VIA4_R_5_D + GRID" -outputlayer _EPTMPL266449;
    NOT _EPTMPL266449 M5Wide_2_VIA4 -outputlayer _EPTMPL266450;
    AND _EPTMPL266450 M5 -outputlayer Branch1;
    SELECT -interact Branch1 M5Wide_2_VIA4 -outputlayer _EPTMPL266452;
    SELECT -interact _EPTMPL266452 VIA4 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M5Wide_2_VIA4 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA4_R_5_D" -inside_of Branch1HasVia -step "M5_S_1*0.7" -outputlayer Branch;
    AND Branch M4 -outputlayer _EPTMPL266457;
    SELECT -interact _EPTMPL266457 VIA4 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA4 Branch -outputlayer _EPTMPL266459;
    SELECT -outside _EPTMPL266459 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M4 BranchSingleVia -outputlayer _EPTMPL266461;
    AND _EPTMPL266461 M5 -outputlayer _EPTMPL266462;
    SELECT -interact _EPTMPL266462 BranchSingleVia -outputlayer _EPTMPL266463;
    SELECT -interact _EPTMPL266463 VIA4 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL266465;
    NOT _EPTMPL266465 VIA_EXD ; // -outputlayer _EPTMPL266466
}
SELECT -enclose_rect M4Wide_3_VIA4 -width VIA4_R_6_W -length VIA4_R_6_L+GRID -outputlayer M4Big_3_VIA4;

RULE VIA4.R.6:M4 {
    CAPTION " At least two VIAx must be used for a connection that is <= 5 um (D) away from a metal plate (either Mx or Mx+1) with length > 10 um (L) and width > 3 um (W). (It is allowed to use one VIAx for a connection that is > 5 um (D) away from a metal plate (either Mx or Mx+1) with length> 10 um (L) and width > 3 um (W)).";
    SIZE M4Big_3_VIA4 -by "VIA4_R_6_D + GRID" -outputlayer _EPTMPL266468;
    NOT _EPTMPL266468 M4Big_3_VIA4 -outputlayer _EPTMPL266469;
    AND _EPTMPL266469 M4 -outputlayer Branch1;
    SELECT -interact Branch1 M4Big_3_VIA4 -outputlayer _EPTMPL266471;
    SELECT -interact _EPTMPL266471 VIA4 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M4Big_3_VIA4 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA4_R_6_D" -inside_of Branch1HasVia -step "M4_S_1*0.7" -outputlayer Branch;
    AND Branch M5 -outputlayer _EPTMPL266476;
    SELECT -interact _EPTMPL266476 VIA4 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA4 Branch -outputlayer _EPTMPL266478;
    SELECT -outside _EPTMPL266478 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M5 BranchSingleVia -outputlayer _EPTMPL266480;
    AND _EPTMPL266480 M4 -outputlayer _EPTMPL266481;
    SELECT -interact _EPTMPL266481 BranchSingleVia -outputlayer _EPTMPL266482;
    SELECT -interact _EPTMPL266482 VIA4 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL266484;
    NOT _EPTMPL266484 VIA_EXD ; // -outputlayer _EPTMPL266485
}
SELECT -enclose_rect M5Wide_3_VIA4 -width VIA4_R_6_W -length VIA4_R_6_L+GRID -outputlayer M5Big_3_VIA4;

RULE VIA4.R.6:M5 {
    CAPTION "At least two VIAx must be used for a connection that is <= 5 um (D) away from a metal plate (either Mx or Mx+1) with length > 10 um (L) and width > 3 um (W). (It is allowed to use one VIAx for a connection that is > 5 um (D) away from a metal plate (either Mx or Mx+1) with length> 10 um (L) and width > 3 um (W)).";
    SIZE M5Big_3_VIA4 -by "VIA4_R_6_D + GRID" -outputlayer _EPTMPL266487;
    NOT _EPTMPL266487 M5Big_3_VIA4 -outputlayer _EPTMPL266488;
    AND _EPTMPL266488 M5 -outputlayer Branch1;
    SELECT -interact Branch1 M5Big_3_VIA4 -outputlayer _EPTMPL266490;
    SELECT -interact _EPTMPL266490 VIA4 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M5Big_3_VIA4 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA4_R_6_D" -inside_of Branch1HasVia -step "M5_S_1*0.7" -outputlayer Branch;
    AND Branch M4 -outputlayer _EPTMPL266495;
    SELECT -interact _EPTMPL266495 VIA4 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA4 Branch -outputlayer _EPTMPL266497;
    SELECT -outside _EPTMPL266497 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M4 BranchSingleVia -outputlayer _EPTMPL266499;
    AND _EPTMPL266499 M5 -outputlayer _EPTMPL266500;
    SELECT -interact _EPTMPL266500 BranchSingleVia -outputlayer _EPTMPL266501;
    SELECT -interact _EPTMPL266501 VIA4 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL266503;
    NOT _EPTMPL266503 VIA_EXD ; // -outputlayer _EPTMPL266504
}

RULE VIA4.R.11 {
    CAPTION "Single VIAx is not allowed for H-shape  Mx+1 when all of the following conditions come into existence:";
    CAPTION "1. The Mx+1 has H-shape interact with two metal holes : both two metal hole area <= 5 um2 and two metal hole length(L2) <= 5 um";
    CAPTION "2. The VIAx overlaps on the center metal bar of this H-shape Mx+1";
    CAPTION "3. The length (L) of the center metal bar <= 1 um and the width of metal bar is <= 0.3 um.";
    WITH_WIDTH M5i -le "VIA4_R_11_W" -outputlayer W;
    HOLES M5i -inner -le "VIA4_R_11_A" -outputlayer _EPTMPL266506;
    SELECT -interact _EPTMPL266506 W -outputlayer H_HOLE;
    SELECT -interact M5i H_HOLE -outputlayer A0;
    EDGE_BOOLEAN -coincident_only -outside A0 H_HOLE -outputlayer A;
    INTE A -le "VIA4_R_11_W" -abut -lt 90 -metric opposite -output region -exclude_shielded 4 -outputlayer _EPTMPL266510;
    SELECT -inside _EPTMPL266510 A0 -outputlayer _EPTMPL266511;
    SELECT -interact _EPTMPL266511 H_HOLE -eq 2 -outputlayer B0;
    INTE A -le "VIA4_R_11_L" -abut -lt 90 -metric opposite -output region -exclude_shielded 4 -outputlayer _EPTMPL266513;
    SELECT -inside _EPTMPL266513 A0 -outputlayer _EPTMPL266514;
    AND _EPTMPL266514 W -outputlayer _EPTMPL266515;
    SELECT -interact _EPTMPL266515 H_HOLE -eq 2 -outputlayer B1;
    EXTE H_HOLE -le "VIA4_R_11_W" -abut -lt 90 -metric opposite -notch only -output region -outputlayer HOLE_NOTCH;
    NOT B1 HOLE_NOTCH -outputlayer _EPTMPL266518;
    OR _EPTMPL266518 B0 -outputlayer B2;
    EXTE B2 -le "VIA4_R_11_W" -abut -eq 90 -intersecting ONLY -output region_extents -outputlayer _EPTMPL266520;
    SELECT -touch _EPTMPL266520 B2 -eq 2 -outputlayer _EPTMPL266521;
    AND _EPTMPL266521 W -outputlayer CORNER_M;
    OR B2 CORNER_M -outputlayer B;
    SELECT -enclose_rect -not B -width GRID -length VIA4_R_11_L+GRID -outputlayer CENTER_BAR1;
    SELECT -interact CENTER_BAR1 H_HOLE -eq 2 -outputlayer _EPTMPL266525;
    SELECT -interact _EPTMPL266525 VIA4i -outputlayer CENTER_BAR2;
    EDGE_BOOLEAN -coincident_only -outside CENTER_BAR2 H_HOLE -outputlayer C;
    EXTE C A -le "VIA4_R_11_L2" -metric opposite -output positive1 -outputlayer D;
    EDGE_BOOLEAN -coincident_only -inside -not C D -outputlayer E;
    SELECT -with_edge -not CENTER_BAR2 E -outputlayer CENTER_BAR3;
    SELECT -outside -not VIA4i CENTER_BAR3 -outputlayer CHECK_VIA;
    SELECT -interact A0 CHECK_VIA -outputlayer _EPTMPL266532;
    SELECT -interact M4i CHECK_VIA -outputlayer _EPTMPL266533;
    AND _EPTMPL266532 _EPTMPL266533 -outputlayer _EPTMPL266534;
    SELECT -interact _EPTMPL266534 VIA4i -eq 1 -outputlayer _EPTMPL266535;
    AND CHECK_VIA _EPTMPL266535 ; // -outputlayer _EPTMPL266536
}
NOT M5Wide_first CB_NON_CUP -outputlayer M51;
NOT M5Wide_0.4 CB_NON_CUP -outputlayer M511;
NOT M5Wide_1.5 CB_NON_CUP -outputlayer M52;
NOT M5Wide_4.5 CB_NON_CUP -outputlayer M53;
AREA M5 -gt "M5_S_3_L*M5_W_1" -outputlayer M5AS3;
AREA M5AS3 -gt "M5_S_4_L*M5_W_1" -outputlayer M5AS4;
ANGLE M5 -eq 45 -outputlayer M5_EDGE_45;

RULE M5.W.1 {
    CAPTION "Width >= 0.1 um";
    INTE M5 -lt "M5_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL266544
}

RULE M5.W.2 {
    CAPTION "Width of 45-degree bent Mx Please make sure the vertex of 45 degree pattern is on 5nm grid >= 0.19 um";
    INTE M5_EDGE_45 -lt "M5_W_2" -abut -lt 90 -output region ; // -outputlayer _EPTMPL266545
}

RULE M5.W.3 {
    CAPTION "Maximum width <= 12 um";
    SIZE M5 -by "M5_W_3/2" -underover -truncate "M5_W_3/2" ; // -outputlayer _EPTMPL266546
}

RULE M5.S.1 {
    CAPTION "Spacing >= 0.1 um";
    EXTE M5 -lt "M5_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL266547
}

RULE M5.S.2 {
    CAPTION "Space [at least one metal line width > 0.2 um  and the parallel metal run length > 0.38 um ] (union projection) >= 0.12";
    EXTE M51 M5 -lt "M5_S_2" -metric opposite -output region -measure all -outputlayer X;
    NOT X M5 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length M5_S_2_L+GRID ; // -outputlayer _EPTMPL266550
}

RULE M5.S.2.1 {
    CAPTION "Space [at least one metal line width > 0.4 um  and the parallel metal run length > 0.4 um ] (union projection) >= 0.16";
    EXTE M511 M5 -lt "M5_S_2_1" -metric opposite -output region -measure all -outputlayer X;
    NOT X M5 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length M5_S_2_1_L+GRID ; // -outputlayer _EPTMPL266553
}

RULE M5.S.3 {
    CAPTION "Space [at least one metal line width > 1.5 um  and the parallel metal run length > 1.5 um ] (union projection) >= 0.5";
    EXTE M52 M5AS3 -lt "M5_S_3" -metric opposite -output region -measure all -outputlayer X;
    NOT X M5 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length M5_S_3_L+GRID ; // -outputlayer _EPTMPL266556
}

RULE M5.S.4 {
    CAPTION "Space [at least one metal line width > 4.5 um  and the parallel metal run length > 4.5 um ] (union projection) >= 1.5";
    EXTE M53 M5AS4 -lt "M5_S_4" -metric opposite -output region -measure all -outputlayer X;
    NOT X M5 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length M5_S_4_L+GRID ; // -outputlayer _EPTMPL266559
}

RULE M5.S.5 {
    CAPTION "Space at Mx line-end (W<Q=0.120) in a dense-line-end configuration: If Mx has parallel run length with opposite Mx (measured with T=0.035 extension) along 2 adjacent edges of Mx [any one edge <Q distance from the corner of the two edges], then one of the space (S1 or S2) needs to be at least this value (except for small jog with edge length < 0.10 um (R)) >= 0.12 um.";
    CONVEX_EDGE M5 -angle1 -eq 90 -angle2 -eq 90 -with_length -lt "M5_S_5_Q" -outputlayer A;
    EXTE A M5 -lt "M5_S_5" -abut -lt 90 -metric opposite_extended "M5_S_5_E" -output positive1 -outputlayer B;
    EDGE_SELECT -coincident_only -inside A B -outputlayer C;
    INTE C M5 -lt "M5_S_5_Q" -abut -eq 90 -intersecting ONLY -output positive2 -outputlayer D;
    EDGE_LENGTH D -ge "M5_W_1" -outputlayer I;
    EDGE_EXPAND I -inside_by 0.001 -extend_by "M5_S_5_E" -outputlayer J;
    EDGE_EXPAND I -inside_by 0.001 -outputlayer K;
    NOT J K -outputlayer L;
    SELECT -with_edge L A -outputlayer M;
    OR M K -outputlayer N;
    EDGE_SELECT -coincident_only N I -outputlayer O;
    EXTE O M5 -lt "M5_S_5" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL266571
}

RULE M5.EN.1 {
    CAPTION " Enclosure of VIA4 >= 0 um";
    NOT VIA4 M5 ; // -outputlayer _EPTMPL266572
}

RULE M5.EN.2__M5.EN.3 {
    CAPTION "Enclosure of VIA4 [at least two opposite sides] >= 0.04 ,or [all sides] >= 0.03";
    RECT_ENC VIA4 M5 -abut -lt 90 -single_point -good 0 M5_EN_2 opposite 0 M5_EN_2 opposite -outputlayer X;
    ENC X M5 -lt "M5_EN_3" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL266574
}

RULE M5.A.1 {
    CAPTION "Area >= 0.052 um2";
    AREA M5 -lt "M5_A_1" ; // -outputlayer _EPTMPL266575
}
variable M5_A_2pre " ((M5_A_2 + (M5_S_1 * M5_S_1 * 3.142))/(2 * M5_S_1))   *((M5_A_2 + (M5_S_1 * M5_S_1 * 3.142))/(2 * M5_S_1))/3.141 ";

RULE M5.A.2 {
    CAPTION "Enclosed area >= 0.2 um";
    HOLES M5 -inner -lt "M5_A_2pre" -outputlayer X;
    NOT X M5 -outputlayer _EPTMPL266577;
    AREA _EPTMPL266577 -lt "M5_A_2" ; // -outputlayer _EPTMPL266578
}

RULE M5.S.6 {
    CAPTION "Space to 45 degree bent M5 >=  M5_S_6 um";
    EDGE_EXPAND M5_EDGE_45 -outside_by "M5_S_6" -outputlayer X;
    AND X M5 ; // -outputlayer _EPTMPL266580
}
COPY M5_EXC -outputlayer M5DN1H_EXC;
COPY M5_EXC_LOW -outputlayer M5DN1L_EXC;

RULE M5.DN.1 {
    CAPTION "M5 local density must be >= 0.1 range over 75 um x 75 um step 37.5 um";
    NOT M5x M5DN1L_EXC -outputlayer M5_CHECK;
    NOT CHIP M5DN1L_EXC -outputlayer CHIP_CHECK;
    DENSITY M5_CHECK CHIP_CHECK -lt M5_DN_1L -window "M5_DN_1L_W" -step "M5_DN_1L_S" -inside_of layer CHIPx -backup -expr "  AREA(M5_CHECK)/AREA(CHIP_CHECK)  " -outputlayer ERR_WIN;
    NOT ERR_WIN M5DN1L_EXC -outputlayer _EPTMPL266586;
    WITH_WIDTH _EPTMPL266586 -ge "M5_DN_1L_E" -outputlayer F;
    DENSITY F M5_CHECK CHIP_CHECK -lt M5_DN_1L -window "M5_DN_1L_W" -step "M5_DN_1L_S" -inside_of layer CHIPx -backup -print "M5.DN.1.density" -expr "  ! AREA(F)+AREA(M5_CHECK)/AREA(CHIP_CHECK)  " ; // -outputlayer _EPTMPL266588
}

RULE M5.DN.1.1 {
    CAPTION "M5 local density must be <= 0.8 range over 100 um x 100 um step 50 um";
    NOT M5x M5DN1H_EXC -outputlayer M5_CHECK;
    NOT CHIP M5DN1H_EXC -outputlayer CHIP_CHECK;
    DENSITY M5_CHECK CHIP_CHECK -gt M5_DN_1H -window "M5_DN_1H_W" -step "M5_DN_1H_S" -inside_of layer CHIPx -backup -expr "  AREA(M5_CHECK)/AREA(CHIP_CHECK)  " -outputlayer ERR_WIN;
    NOT ERR_WIN M5DN1H_EXC -outputlayer _EPTMPL266592;
    WITH_WIDTH _EPTMPL266592 -ge "M5_DN_1H_E" -outputlayer F;
    DENSITY F M5_CHECK CHIP_CHECK -gt M5_DN_1H -window "M5_DN_1H_W" -step "M5_DN_1H_S" -inside_of layer CHIPx -backup -print "M5.DN.1.1.density" -expr "  !! AREA(F)*AREA(M5_CHECK)/AREA(CHIP_CHECK)  " ; // -outputlayer _EPTMPL266594
}
COPY EMPTYi -outputlayer M5DN2_EXC;

RULE M5.DN.2 {
    CAPTION "M5 local density must be <= 0.9 range over 20 um x 20 um step 10 um";
    NOT M5x M5DN2_EXC -outputlayer M5_CHECK;
    DENSITY M5_CHECK CHIP -gt M5_DN_2 -window "M5_DN_2_W" -step "M5_DN_2_S" -inside_of layer CHIPx -backup -expr "  AREA(M5_CHECK)/AREA(CHIP)  " -outputlayer ERR_WIN;
    NOT ERR_WIN M5DN2_EXC -outputlayer _EPTMPL266598;
    WITH_WIDTH _EPTMPL266598 -ge "M5_DN_2_E" -outputlayer F;
    DENSITY F M5_CHECK CHIP -gt M5_DN_2 -window "M5_DN_2_W" -step "M5_DN_2_S" -inside_of layer CHIPx -backup -print "M5.DN.2.density" -expr "  !! AREA(F)*AREA(M5_CHECK)/AREA(CHIP)  " ; // -outputlayer _EPTMPL266600
}

RULE M5.DN.4 {
    CAPTION "The metal density difference between any two 250 um x 250 um neighboring checking windows including DM5EXCL <= 0.4";
    DENSITY M5x CHIP -le 1 -window "M5_DN_4_W" -backup -gradient -gt M5_DN_4 -corner -print "M5.DN.4.density" -expr "  AREA(M5x)/AREA(CHIP)  " ; // -outputlayer _EPTMPL266601
}
NOT M5x SRCSR -outputlayer M5_CORE;

RULE M3.DN.5 {
    CAPTION "It is not allowed to have local density > 0.8 of all 3 consecutive metal (M3,M4,M5) over any 50 um x 50 um window (stepping 25 um)";
    DENSITY M3_CORE M4_CORE M5_CORE -gt 0 -window "Mx_DN_5_W" -step "Mx_DN_5_S" -backup -expr "  ! ~(AREA(M3_CORE)/AREA()-Mx_DN_5)*!~(AREA(M4_CORE)/AREA()-Mx_DN_5)*!~(AREA(M5_CORE)/AREA()-Mx_DN_5)  " -rdb M3.DN.5.density ; // -outputlayer _EPTMPL266603
}
variable M3_DN_6 0.15;
SIZE CBM -by 25 -outputlayer _EPTMPL266604;
SIZE _EPTMPL266604 -by -25 -outputlayer M3DN6_CBM_MERGE;
AREA M3DN6_CBM_MERGE -ge "200 * 200" -outputlayer M3DN6_CHECK_CBM;
AND M3x M3DN6_CHECK_CBM -outputlayer M3DN6_M3_CHECK;
AND M4x M3DN6_CHECK_CBM -outputlayer M3DN6_M4_CHECK;
AND M5x M3DN6_CHECK_CBM -outputlayer M3DN6_M5_CHECK;
CONNECT M3DN6_CHECK_CBM M3DN6_M3_CHECK;
CONNECT M3DN6_CHECK_CBM M3DN6_M4_CHECK;
CONNECT M3DN6_CHECK_CBM M3DN6_M5_CHECK;

RULE M3.DN.6 {
    CAPTION "It is not allowed to have local density < 0.15 of all 3 consecutive metal (M3,M4,M5) under ((CBM SIZING 25) SIZING -25) whose size is >= 200um X 200um";
    ANTENNA M3DN6_CHECK_CBM M3DN6_M3_CHECK -lt "M3_DN_6" -expr "  AREA(M3DN6_M3_CHECK)/AREA(M3DN6_CHECK_CBM)  " -rdb M3.DN.6.M3.density -outputlayer A;
    ANTENNA M3DN6_CHECK_CBM M3DN6_M4_CHECK -lt "M3_DN_6" -expr "  AREA(M3DN6_M4_CHECK)/AREA(M3DN6_CHECK_CBM)  " -rdb M3.DN.6.M4.density -outputlayer B;
    ANTENNA M3DN6_CHECK_CBM M3DN6_M5_CHECK -lt "M3_DN_6" -expr "  AREA(M3DN6_M5_CHECK)/AREA(M3DN6_CHECK_CBM)  " -rdb M3.DN.6.M5.density -outputlayer C;
    AND A B -outputlayer _EPTMPL266616;
    AND _EPTMPL266616 C ; // -outputlayer _EPTMPL266617
}
SIZE M6 -by "M6_S_2_W/2" -underover -truncate "M6_S_2_W/2" -outputlayer _EPTMPL266618;
AND _EPTMPL266618 M6 -outputlayer M6Wide_first;
SIZE M6Wide_first -by "M6_S_2_1_W/2" -underover -truncate "M6_S_2_1_W/2" -outputlayer _EPTMPL266620;
AND _EPTMPL266620 M6Wide_first -outputlayer M6Wide_0.4;
SIZE M6Wide_first -by "M6_S_3_W/2" -underover -truncate "M6_S_3_W/2" -outputlayer _EPTMPL266622;
AND _EPTMPL266622 M6Wide_first -outputlayer M6Wide_1.5;
SIZE M6Wide_1.5 -by "M6_S_4_W/2" -underover -truncate "M6_S_4_W/2" -outputlayer _EPTMPL266624;
AND _EPTMPL266624 M6Wide_1.5 -outputlayer M6Wide_4.5;
SIZE M5Wide_first -by "VIA5_R_2_W/2" -underover -truncate "VIA5_R_2_W/2" -outputlayer _EPTMPL266626;
AND _EPTMPL266626 M5Wide_first -outputlayer M5Wide_0.42_VIA5;
SIZE M5Wide_0.42_VIA5 -by "VIA5_R_4_W/2" -underover -truncate "VIA5_R_4_W/2" -outputlayer _EPTMPL266628;
AND _EPTMPL266628 M5Wide_0.42_VIA5 -outputlayer M5Wide_0.7_VIA5;
SIZE M5Wide_0.7_VIA5 -by "VIA5_R_3_W/2" -underover -truncate "VIA5_R_3_W/2" -outputlayer _EPTMPL266630;
AND _EPTMPL266630 M5Wide_0.7_VIA5 -outputlayer M5Wide_0.98_VIA5;
SIZE M5Wide_0.98_VIA5 -by "VIA5_R_5_W/2" -underover -truncate "VIA5_R_5_W/2" -outputlayer _EPTMPL266632;
AND _EPTMPL266632 M5Wide_0.98_VIA5 -outputlayer M5Wide_2_VIA5;
SIZE M5Wide_2_VIA5 -by "VIA5_R_6_W/2" -underover -truncate "VIA5_R_6_W/2" -outputlayer _EPTMPL266634;
AND _EPTMPL266634 M5Wide_2_VIA5 -outputlayer M5Wide_3_VIA5;
SIZE M6Wide_first -by "VIA5_R_2_W/2" -underover -truncate "VIA5_R_2_W/2" -outputlayer _EPTMPL266636;
AND _EPTMPL266636 M6Wide_first -outputlayer M6Wide_0.42_VIA5;
SIZE M6Wide_0.42_VIA5 -by "VIA5_R_4_W/2" -underover -truncate "VIA5_R_4_W/2" -outputlayer _EPTMPL266638;
AND _EPTMPL266638 M6Wide_0.42_VIA5 -outputlayer M6Wide_0.7_VIA5;
SIZE M6Wide_0.7_VIA5 -by "VIA5_R_3_W/2" -underover -truncate "VIA5_R_3_W/2" -outputlayer _EPTMPL266640;
AND _EPTMPL266640 M6Wide_0.7_VIA5 -outputlayer M6Wide_0.98_VIA5;
SIZE M6Wide_0.98_VIA5 -by "VIA5_R_5_W/2" -underover -truncate "VIA5_R_5_W/2" -outputlayer _EPTMPL266642;
AND _EPTMPL266642 M6Wide_0.98_VIA5 -outputlayer M6Wide_2_VIA5;
SIZE M6Wide_2_VIA5 -by "VIA5_R_6_W/2" -underover -truncate "VIA5_R_6_W/2" -outputlayer _EPTMPL266644;
AND _EPTMPL266644 M6Wide_2_VIA5 -outputlayer M6Wide_3_VIA5;

RULE VIA5.W.1 {
    CAPTION "Width (maximum = minimum except for seal-ring and fuse protection ring) = 0.1 um";
    CAPTION "VIA5.R.1 45-degree rotated VIA is not allowed";
    RECT_CHK -not VIA5 -eq "VIA5_W_1" -by -eq "VIA5_W_1" -orthogonal_only -outputlayer A;
    NOT A VIA_EXD ; // -outputlayer _EPTMPL266647
}

RULE VIA5.W.2 {
    CAPTION "Width of VIAx bar. VIAx bar is only allowed in seal-ring and fuse protection ring. SEALRING layer (CAD layer: 162 for both seal-ring and fuse protection ring) is a Must to cover VIAx bar if VIAx bar is used = 0.1";
    INTE VIA5_BAR -lt "VIA5_W_2" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL266648
    WITH_WIDTH VIA5_BAR -gt "VIA5_W_2" -outputlayer A;
    ANGLE VIA5_BAR -eq 45 -outputlayer B;
    INTE B -lt "VIA5_W_2 + 2*GRID" -output region -outputlayer C;
    NOT A C -outputlayer D;
    SELECT -enclose_rect D -width 1 -length 0.005 ; // -outputlayer _EPTMPL266653
}

RULE VIA5.S.1 {
    CAPTION "Spacing >= 0.1 um";
    EXTE VIA5 -lt "VIA5_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL266654
}

RULE VIA5.S.2 {
    CAPTION "Space to 3-neighboring VIAx (< 0.14 um distance) >= 0.13 um";
    SELECT -with_neighbor VIA5 -gt 2 -space -lt VIA5_S_2_S -outputlayer X;
    EXTE X VIA5 -lt "VIA5_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL266656
}

RULE VIA5.S.3 {
    CAPTION "Space to neighboring VIAx [different net and common parallel run length > 0] >= 0.13 um";
    STAMP VIA5 VIA5i -outputlayer VIA5_NODAL;
    EXTE VIA5_NODAL -lt "VIA5_S_3" -abut -lt 90 -not_connected -metric opposite -output region ; // -outputlayer _EPTMPL266658
}

RULE VIA5.EN.1 {
    CAPTION "Enclosure by M5 >= 0 um";
    NOT VIA5 M5 ; // -outputlayer _EPTMPL266659
}

RULE VIA5.EN.2__VIA5.EN.3 {
    CAPTION "Enclosure by M5 [at least two opposite sides] >= 0.04 , or [all sides] >= 0.03";
    RECT_ENC VIA5 M5 -abut -lt 90 -single_point -good 0 VIA5_EN_2 opposite 0 VIA5_EN_2 opposite -outputlayer X;
    ENC X M5 -lt "VIA5_EN_3" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL266661
}
variable VIA5_R_2_S2_S1 "(VIA5_R_2_S2 - VIA5_R_2_S1)/2";

RULE VIA5.R.2__VIA5.R.3 {
    CAPTION "When M5 or M6 width > 0.3 um, more than one VIA5 is required.";
    CAPTION "2 vias spacing should be <= 0.2 um or 4 vias spacing should be <= 0.25 um";
    CAPTION "When M5 or M6 width > 0.7 um, more than three VIA5 is required.";
    CAPTION "4 vias spacing should be <= 0.2 um or 9 vias spacing should be <= 0.35 um";
    AND M5Wide_0.42_VIA5 M6 -outputlayer _EPTMPL266662;
    AND M6Wide_0.42_VIA5 M5 -outputlayer _EPTMPL266663;
    OR _EPTMPL266662 _EPTMPL266663 -outputlayer M6OvpM5_W_;
    AND M5Wide_0.98_VIA5 M6 -outputlayer _EPTMPL266665;
    AND M6Wide_0.98_VIA5 M5 -outputlayer _EPTMPL266666;
    OR _EPTMPL266665 _EPTMPL266666 -outputlayer M6OvpM5_B;
    NOT M6OvpM5_W_ M6OvpM5_B -outputlayer M6OvpM5_W;
    SELECT -outside -not VIA5_EXD M6OvpM5_W -outputlayer Checked_VIA5_W_;
    SELECT -outside -not VIA5_EXD M6OvpM5_B -outputlayer Checked_VIA5_B;
    NOT Checked_VIA5_W_ Checked_VIA5_B -outputlayer Checked_VIA5_W;
    SELECT -interact M5i M6OvpM5_W_ -outputlayer M5_effect;
    SELECT -interact M6i M6OvpM5_W_ -outputlayer M6_effect;
    AND M5_effect M6_effect -outputlayer effect_M6OvpM5_;
    SELECT -interact effect_M6OvpM5_ M6OvpM5_W_ -outputlayer effect_M6OvpM5;
    SELECT -interact VIA5_EXD effect_M6OvpM5 -outputlayer effect_VIA;
    SIZE effect_VIA -by "VIA5_R_2_S1/2" -inside_of effect_M6OvpM5 -step "M5_S_1*0.7" -outputlayer V5Merged_A;
    SIZE V5Merged_A -by "VIA5_R_2_S2_S1" -inside_of effect_M6OvpM5 -step "M5_S_1*0.7" -outputlayer V5Merged_B;
    SIZE V5Merged_B -by "(VIA5_R_3_S2 - VIA5_R_2_S2)/2" -inside_of effect_M6OvpM5 -step "M5_S_1*0.7" -outputlayer V5Merged_C;
    SELECT -interact V5Merged_A effect_VIA -lt 2 -outputlayer V5Merged_A2R;
    SELECT -outside V5Merged_A V5Merged_A2R -outputlayer V5Merged_A2;
    SELECT -interact V5Merged_A2 effect_VIA -lt 4 -outputlayer V5Merged_A4R;
    SELECT -outside V5Merged_A2 V5Merged_A4R -outputlayer V5Merged_A4;
    SELECT -interact V5Merged_B effect_VIA -lt 4 -outputlayer V5Merged_B4R;
    SELECT -outside V5Merged_B V5Merged_B4R -outputlayer V5Merged_B4;
    SELECT -interact V5Merged_C effect_VIA -lt 9 -outputlayer V5Merged_C9R;
    SELECT -outside V5Merged_C V5Merged_C9R -outputlayer V5Merged_C9;
    OR V5Merged_A2 V5Merged_B4 -outputlayer GMergeW;
    OR V5Merged_A4 V5Merged_C9 -outputlayer GMergeB;
    SELECT -interact Checked_VIA5_W GMergeW -outputlayer GVIA_W;
    SELECT -interact Checked_VIA5_B GMergeB -outputlayer GVIA_B;
    SELECT -interact M6OvpM5_W GVIA_W -outputlayer GOOD_AREA_W;
    SELECT -interact M6OvpM5_B GVIA_B -outputlayer GOOD_AREA_B;
    SELECT -outside Checked_VIA5_W GOOD_AREA_W ; // -outputlayer _EPTMPL266694
    SELECT -outside Checked_VIA5_B GOOD_AREA_B ; // -outputlayer _EPTMPL266695
}

RULE VIA5.R.4:M5 {
    CAPTION " At least two VIAx must be used for a connection that is <= 0.8 um (D) away from a metal plate (either Mx or Mx+1) with length > 0.3 um (L) and width > 0.3 um (W). (It is allowed to use one VIAx for a connection that is > 0.8 um (D) away from a metal plate (either Mx or Mx+1) with length > 0.3 um (L) and width > 0.3 um (W).)";
    SIZE M5Wide_0.7_VIA5 -by "VIA5_R_4_D + GRID" -outputlayer _EPTMPL266696;
    NOT _EPTMPL266696 M5Wide_0.7_VIA5 -outputlayer _EPTMPL266697;
    AND _EPTMPL266697 M5 -outputlayer Branch1;
    SELECT -interact Branch1 M5Wide_0.7_VIA5 -outputlayer _EPTMPL266699;
    SELECT -interact _EPTMPL266699 VIA5 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M5Wide_0.7_VIA5 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA5_R_4_D" -inside_of Branch1HasVia -step "M5_S_1*0.5" -outputlayer Branch;
    AND Branch M6 -outputlayer _EPTMPL266704;
    SELECT -interact _EPTMPL266704 VIA5 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA5 Branch -outputlayer _EPTMPL266706;
    SELECT -outside _EPTMPL266706 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M6 BranchSingleVia -outputlayer _EPTMPL266708;
    AND _EPTMPL266708 M5 -outputlayer _EPTMPL266709;
    SELECT -interact _EPTMPL266709 BranchSingleVia -outputlayer _EPTMPL266710;
    SELECT -interact _EPTMPL266710 VIA5 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL266712;
    NOT _EPTMPL266712 VIA_EXD ; // -outputlayer _EPTMPL266713
}

RULE VIA5.R.4:M6 {
    CAPTION "At least two VIAx must be used for a connection that is <= 0.8 um (D) away from a metal plate (either Mx or Mx+1) with length > 0.3 um (L) and width > 0.3 um (W). (It is allowed to use one VIAx for a connection that is > 0.8 um (D) away from a metal plate (either Mx or Mx+1) with length > 0.3 um (L) and width > 0.3 um (W).)";
    SIZE M6Wide_0.7_VIA5 -by "VIA5_R_4_D + GRID" -outputlayer _EPTMPL266714;
    NOT _EPTMPL266714 M6Wide_0.7_VIA5 -outputlayer _EPTMPL266715;
    AND _EPTMPL266715 M6 -outputlayer Branch1;
    SELECT -interact Branch1 M6Wide_0.7_VIA5 -outputlayer _EPTMPL266717;
    SELECT -interact _EPTMPL266717 VIA5 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M6Wide_0.7_VIA5 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA5_R_4_D" -inside_of Branch1HasVia -step "M6_S_1*0.5" -outputlayer Branch;
    AND Branch M5 -outputlayer _EPTMPL266722;
    SELECT -interact _EPTMPL266722 VIA5 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA5 Branch -outputlayer _EPTMPL266724;
    SELECT -outside _EPTMPL266724 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M5 BranchSingleVia -outputlayer _EPTMPL266726;
    AND _EPTMPL266726 M6 -outputlayer _EPTMPL266727;
    SELECT -interact _EPTMPL266727 BranchSingleVia -outputlayer _EPTMPL266728;
    SELECT -interact _EPTMPL266728 VIA5 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL266730;
    NOT _EPTMPL266730 VIA_EXD ; // -outputlayer _EPTMPL266731
}

RULE VIA5.R.5:M5 {
    CAPTION "At least two VIAx must be used for a connection that is <= 2 um (D) away from a metal plate (either Mx or Mx+1) with length > 2 um (L) and width > 2 um (W). It is allowed to use one VIAx for a connection that is > 2 um (D) away from a metal plate (either Mx or Mx+1) with length> 2 um (L) and width > 2 um (W).";
    SIZE M5Wide_2_VIA5 -by "VIA5_R_5_D + GRID" -outputlayer _EPTMPL266732;
    NOT _EPTMPL266732 M5Wide_2_VIA5 -outputlayer _EPTMPL266733;
    AND _EPTMPL266733 M5 -outputlayer Branch1;
    SELECT -interact Branch1 M5Wide_2_VIA5 -outputlayer _EPTMPL266735;
    SELECT -interact _EPTMPL266735 VIA5 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M5Wide_2_VIA5 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA5_R_5_D" -inside_of Branch1HasVia -step "M5_S_1*0.7" -outputlayer Branch;
    AND Branch M6 -outputlayer _EPTMPL266740;
    SELECT -interact _EPTMPL266740 VIA5 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA5 Branch -outputlayer _EPTMPL266742;
    SELECT -outside _EPTMPL266742 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M6 BranchSingleVia -outputlayer _EPTMPL266744;
    AND _EPTMPL266744 M5 -outputlayer _EPTMPL266745;
    SELECT -interact _EPTMPL266745 BranchSingleVia -outputlayer _EPTMPL266746;
    SELECT -interact _EPTMPL266746 VIA5 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL266748;
    NOT _EPTMPL266748 VIA_EXD ; // -outputlayer _EPTMPL266749
}

RULE VIA5.R.5:M6 {
    CAPTION "At least two VIAx must be used for a connection that is <= 2 um (D) away from a metal plate (either Mx or Mx+1) with length > 2 um (L) and width > 2 um (W). It is allowed to use one VIAx for a connection that is > 2 um (D) away from a metal plate (either Mx or Mx+1) with length> 2 um (L) and width > 2 um (W).";
    SIZE M6Wide_2_VIA5 -by "VIA5_R_5_D + GRID" -outputlayer _EPTMPL266750;
    NOT _EPTMPL266750 M6Wide_2_VIA5 -outputlayer _EPTMPL266751;
    AND _EPTMPL266751 M6 -outputlayer Branch1;
    SELECT -interact Branch1 M6Wide_2_VIA5 -outputlayer _EPTMPL266753;
    SELECT -interact _EPTMPL266753 VIA5 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M6Wide_2_VIA5 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA5_R_5_D" -inside_of Branch1HasVia -step "M6_S_1*0.7" -outputlayer Branch;
    AND Branch M5 -outputlayer _EPTMPL266758;
    SELECT -interact _EPTMPL266758 VIA5 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA5 Branch -outputlayer _EPTMPL266760;
    SELECT -outside _EPTMPL266760 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M5 BranchSingleVia -outputlayer _EPTMPL266762;
    AND _EPTMPL266762 M6 -outputlayer _EPTMPL266763;
    SELECT -interact _EPTMPL266763 BranchSingleVia -outputlayer _EPTMPL266764;
    SELECT -interact _EPTMPL266764 VIA5 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL266766;
    NOT _EPTMPL266766 VIA_EXD ; // -outputlayer _EPTMPL266767
}
SELECT -enclose_rect M5Wide_3_VIA5 -width VIA5_R_6_W -length VIA5_R_6_L+GRID -outputlayer M5Big_3_VIA5;

RULE VIA5.R.6:M5 {
    CAPTION " At least two VIAx must be used for a connection that is <= 5 um (D) away from a metal plate (either Mx or Mx+1) with length > 10 um (L) and width > 3 um (W). (It is allowed to use one VIAx for a connection that is > 5 um (D) away from a metal plate (either Mx or Mx+1) with length> 10 um (L) and width > 3 um (W)).";
    SIZE M5Big_3_VIA5 -by "VIA5_R_6_D + GRID" -outputlayer _EPTMPL266769;
    NOT _EPTMPL266769 M5Big_3_VIA5 -outputlayer _EPTMPL266770;
    AND _EPTMPL266770 M5 -outputlayer Branch1;
    SELECT -interact Branch1 M5Big_3_VIA5 -outputlayer _EPTMPL266772;
    SELECT -interact _EPTMPL266772 VIA5 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M5Big_3_VIA5 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA5_R_6_D" -inside_of Branch1HasVia -step "M5_S_1*0.7" -outputlayer Branch;
    AND Branch M6 -outputlayer _EPTMPL266777;
    SELECT -interact _EPTMPL266777 VIA5 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA5 Branch -outputlayer _EPTMPL266779;
    SELECT -outside _EPTMPL266779 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M6 BranchSingleVia -outputlayer _EPTMPL266781;
    AND _EPTMPL266781 M5 -outputlayer _EPTMPL266782;
    SELECT -interact _EPTMPL266782 BranchSingleVia -outputlayer _EPTMPL266783;
    SELECT -interact _EPTMPL266783 VIA5 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL266785;
    NOT _EPTMPL266785 VIA_EXD ; // -outputlayer _EPTMPL266786
}
SELECT -enclose_rect M6Wide_3_VIA5 -width VIA5_R_6_W -length VIA5_R_6_L+GRID -outputlayer M6Big_3_VIA5;

RULE VIA5.R.6:M6 {
    CAPTION "At least two VIAx must be used for a connection that is <= 5 um (D) away from a metal plate (either Mx or Mx+1) with length > 10 um (L) and width > 3 um (W). (It is allowed to use one VIAx for a connection that is > 5 um (D) away from a metal plate (either Mx or Mx+1) with length> 10 um (L) and width > 3 um (W)).";
    SIZE M6Big_3_VIA5 -by "VIA5_R_6_D + GRID" -outputlayer _EPTMPL266788;
    NOT _EPTMPL266788 M6Big_3_VIA5 -outputlayer _EPTMPL266789;
    AND _EPTMPL266789 M6 -outputlayer Branch1;
    SELECT -interact Branch1 M6Big_3_VIA5 -outputlayer _EPTMPL266791;
    SELECT -interact _EPTMPL266791 VIA5 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M6Big_3_VIA5 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA5_R_6_D" -inside_of Branch1HasVia -step "M6_S_1*0.7" -outputlayer Branch;
    AND Branch M5 -outputlayer _EPTMPL266796;
    SELECT -interact _EPTMPL266796 VIA5 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA5 Branch -outputlayer _EPTMPL266798;
    SELECT -outside _EPTMPL266798 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M5 BranchSingleVia -outputlayer _EPTMPL266800;
    AND _EPTMPL266800 M6 -outputlayer _EPTMPL266801;
    SELECT -interact _EPTMPL266801 BranchSingleVia -outputlayer _EPTMPL266802;
    SELECT -interact _EPTMPL266802 VIA5 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL266804;
    NOT _EPTMPL266804 VIA_EXD ; // -outputlayer _EPTMPL266805
}

RULE VIA5.R.11 {
    CAPTION "Single VIAx is not allowed for H-shape  Mx+1 when all of the following conditions come into existence:";
    CAPTION "1. The Mx+1 has H-shape interact with two metal holes : both two metal hole area <= 5 um2 and two metal hole length(L2) <= 5 um";
    CAPTION "2. The VIAx overlaps on the center metal bar of this H-shape Mx+1";
    CAPTION "3. The length (L) of the center metal bar <= 1 um and the width of metal bar is <= 0.3 um.";
    WITH_WIDTH M6i -le "VIA5_R_11_W" -outputlayer W;
    HOLES M6i -inner -le "VIA5_R_11_A" -outputlayer _EPTMPL266807;
    SELECT -interact _EPTMPL266807 W -outputlayer H_HOLE;
    SELECT -interact M6i H_HOLE -outputlayer A0;
    EDGE_BOOLEAN -coincident_only -outside A0 H_HOLE -outputlayer A;
    INTE A -le "VIA5_R_11_W" -abut -lt 90 -metric opposite -output region -exclude_shielded 4 -outputlayer _EPTMPL266811;
    SELECT -inside _EPTMPL266811 A0 -outputlayer _EPTMPL266812;
    SELECT -interact _EPTMPL266812 H_HOLE -eq 2 -outputlayer B0;
    INTE A -le "VIA5_R_11_L" -abut -lt 90 -metric opposite -output region -exclude_shielded 4 -outputlayer _EPTMPL266814;
    SELECT -inside _EPTMPL266814 A0 -outputlayer _EPTMPL266815;
    AND _EPTMPL266815 W -outputlayer _EPTMPL266816;
    SELECT -interact _EPTMPL266816 H_HOLE -eq 2 -outputlayer B1;
    EXTE H_HOLE -le "VIA5_R_11_W" -abut -lt 90 -metric opposite -notch only -output region -outputlayer HOLE_NOTCH;
    NOT B1 HOLE_NOTCH -outputlayer _EPTMPL266819;
    OR _EPTMPL266819 B0 -outputlayer B2;
    EXTE B2 -le "VIA5_R_11_W" -abut -eq 90 -intersecting ONLY -output region_extents -outputlayer _EPTMPL266821;
    SELECT -touch _EPTMPL266821 B2 -eq 2 -outputlayer _EPTMPL266822;
    AND _EPTMPL266822 W -outputlayer CORNER_M;
    OR B2 CORNER_M -outputlayer B;
    SELECT -enclose_rect -not B -width GRID -length VIA5_R_11_L+GRID -outputlayer CENTER_BAR1;
    SELECT -interact CENTER_BAR1 H_HOLE -eq 2 -outputlayer _EPTMPL266826;
    SELECT -interact _EPTMPL266826 VIA5i -outputlayer CENTER_BAR2;
    EDGE_BOOLEAN -coincident_only -outside CENTER_BAR2 H_HOLE -outputlayer C;
    EXTE C A -le "VIA5_R_11_L2" -metric opposite -output positive1 -outputlayer D;
    EDGE_BOOLEAN -coincident_only -inside -not C D -outputlayer E;
    SELECT -with_edge -not CENTER_BAR2 E -outputlayer CENTER_BAR3;
    SELECT -outside -not VIA5i CENTER_BAR3 -outputlayer CHECK_VIA;
    SELECT -interact A0 CHECK_VIA -outputlayer _EPTMPL266833;
    SELECT -interact M5i CHECK_VIA -outputlayer _EPTMPL266834;
    AND _EPTMPL266833 _EPTMPL266834 -outputlayer _EPTMPL266835;
    SELECT -interact _EPTMPL266835 VIA5i -eq 1 -outputlayer _EPTMPL266836;
    AND CHECK_VIA _EPTMPL266836 ; // -outputlayer _EPTMPL266837
}
NOT M6Wide_first CB_NON_CUP -outputlayer M61;
NOT M6Wide_0.4 CB_NON_CUP -outputlayer M611;
NOT M6Wide_1.5 CB_NON_CUP -outputlayer M62;
NOT M6Wide_4.5 CB_NON_CUP -outputlayer M63;
AREA M6 -gt "M6_S_3_L*M6_W_1" -outputlayer M6AS3;
AREA M6AS3 -gt "M6_S_4_L*M6_W_1" -outputlayer M6AS4;
ANGLE M6 -eq 45 -outputlayer M6_EDGE_45;

RULE M6.W.1 {
    CAPTION "Width >= 0.1 um";
    INTE M6 -lt "M6_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL266845
}

RULE M6.W.2 {
    CAPTION "Width of 45-degree bent Mx Please make sure the vertex of 45 degree pattern is on 5nm grid >= 0.19 um";
    INTE M6_EDGE_45 -lt "M6_W_2" -abut -lt 90 -output region ; // -outputlayer _EPTMPL266846
}

RULE M6.W.3 {
    CAPTION "Maximum width <= 12 um";
    SIZE M6 -by "M6_W_3/2" -underover -truncate "M6_W_3/2" ; // -outputlayer _EPTMPL266847
}

RULE M6.S.1 {
    CAPTION "Spacing >= 0.1 um";
    EXTE M6 -lt "M6_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL266848
}

RULE M6.S.2 {
    CAPTION "Space [at least one metal line width > 0.2 um  and the parallel metal run length > 0.38 um ] (union projection) >= 0.12";
    EXTE M61 M6 -lt "M6_S_2" -metric opposite -output region -measure all -outputlayer X;
    NOT X M6 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length M6_S_2_L+GRID ; // -outputlayer _EPTMPL266851
}

RULE M6.S.2.1 {
    CAPTION "Space [at least one metal line width > 0.4 um  and the parallel metal run length > 0.4 um ] (union projection) >= 0.16";
    EXTE M611 M6 -lt "M6_S_2_1" -metric opposite -output region -measure all -outputlayer X;
    NOT X M6 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length M6_S_2_1_L+GRID ; // -outputlayer _EPTMPL266854
}

RULE M6.S.3 {
    CAPTION "Space [at least one metal line width > 1.5 um  and the parallel metal run length > 1.5 um ] (union projection) >= 0.5";
    EXTE M62 M6AS3 -lt "M6_S_3" -metric opposite -output region -measure all -outputlayer X;
    NOT X M6 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length M6_S_3_L+GRID ; // -outputlayer _EPTMPL266857
}

RULE M6.S.4 {
    CAPTION "Space [at least one metal line width > 4.5 um  and the parallel metal run length > 4.5 um ] (union projection) >= 1.5";
    EXTE M63 M6AS4 -lt "M6_S_4" -metric opposite -output region -measure all -outputlayer X;
    NOT X M6 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length M6_S_4_L+GRID ; // -outputlayer _EPTMPL266860
}

RULE M6.S.5 {
    CAPTION "Space at Mx line-end (W<Q=0.120) in a dense-line-end configuration: If Mx has parallel run length with opposite Mx (measured with T=0.035 extension) along 2 adjacent edges of Mx [any one edge <Q distance from the corner of the two edges], then one of the space (S1 or S2) needs to be at least this value (except for small jog with edge length < 0.10 um (R)) >= 0.12 um.";
    CONVEX_EDGE M6 -angle1 -eq 90 -angle2 -eq 90 -with_length -lt "M6_S_5_Q" -outputlayer A;
    EXTE A M6 -lt "M6_S_5" -abut -lt 90 -metric opposite_extended "M6_S_5_E" -output positive1 -outputlayer B;
    EDGE_SELECT -coincident_only -inside A B -outputlayer C;
    INTE C M6 -lt "M6_S_5_Q" -abut -eq 90 -intersecting ONLY -output positive2 -outputlayer D;
    EDGE_LENGTH D -ge "M6_W_1" -outputlayer I;
    EDGE_EXPAND I -inside_by 0.001 -extend_by "M6_S_5_E" -outputlayer J;
    EDGE_EXPAND I -inside_by 0.001 -outputlayer K;
    NOT J K -outputlayer L;
    SELECT -with_edge L A -outputlayer M;
    OR M K -outputlayer N;
    EDGE_SELECT -coincident_only N I -outputlayer O;
    EXTE O M6 -lt "M6_S_5" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL266872
}

RULE M6.EN.1 {
    CAPTION " Enclosure of VIA5 >= 0 um";
    NOT VIA5 M6 ; // -outputlayer _EPTMPL266873
}

RULE M6.EN.2__M6.EN.3 {
    CAPTION "Enclosure of VIA5 [at least two opposite sides] >= 0.04 ,or [all sides] >= 0.03";
    RECT_ENC VIA5 M6 -abut -lt 90 -single_point -good 0 M6_EN_2 opposite 0 M6_EN_2 opposite -outputlayer X;
    ENC X M6 -lt "M6_EN_3" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL266875
}

RULE M6.A.1 {
    CAPTION "Area >= 0.052 um2";
    AREA M6 -lt "M6_A_1" ; // -outputlayer _EPTMPL266876
}
variable M6_A_2pre " ((M6_A_2 + (M6_S_1 * M6_S_1 * 3.142))/(2 * M6_S_1))   *((M6_A_2 + (M6_S_1 * M6_S_1 * 3.142))/(2 * M6_S_1))/3.141 ";

RULE M6.A.2 {
    CAPTION "Enclosed area >= 0.2 um";
    HOLES M6 -inner -lt "M6_A_2pre" -outputlayer X;
    NOT X M6 -outputlayer _EPTMPL266878;
    AREA _EPTMPL266878 -lt "M6_A_2" ; // -outputlayer _EPTMPL266879
}

RULE M6.S.6 {
    CAPTION "Space to 45 degree bent M6 >=  M6_S_6 um";
    EDGE_EXPAND M6_EDGE_45 -outside_by "M6_S_6" -outputlayer X;
    AND X M6 ; // -outputlayer _EPTMPL266881
}
COPY M6_EXC -outputlayer M6DN1H_EXC;
COPY M6_EXC_LOW -outputlayer M6DN1L_EXC;

RULE M6.DN.1 {
    CAPTION "M6 local density must be >= 0.1 range over 75 um x 75 um step 37.5 um";
    NOT M6x M6DN1L_EXC -outputlayer M6_CHECK;
    NOT CHIP M6DN1L_EXC -outputlayer CHIP_CHECK;
    DENSITY M6_CHECK CHIP_CHECK -lt M6_DN_1L -window "M6_DN_1L_W" -step "M6_DN_1L_S" -inside_of layer CHIPx -backup -expr "  AREA(M6_CHECK)/AREA(CHIP_CHECK)  " -outputlayer ERR_WIN;
    NOT ERR_WIN M6DN1L_EXC -outputlayer _EPTMPL266887;
    WITH_WIDTH _EPTMPL266887 -ge "M6_DN_1L_E" -outputlayer F;
    DENSITY F M6_CHECK CHIP_CHECK -lt M6_DN_1L -window "M6_DN_1L_W" -step "M6_DN_1L_S" -inside_of layer CHIPx -backup -print "M6.DN.1.density" -expr "  ! AREA(F)+AREA(M6_CHECK)/AREA(CHIP_CHECK)  " ; // -outputlayer _EPTMPL266889
}

RULE M6.DN.1.1 {
    CAPTION "M6 local density must be <= 0.8 range over 100 um x 100 um step 50 um";
    NOT M6x M6DN1H_EXC -outputlayer M6_CHECK;
    NOT CHIP M6DN1H_EXC -outputlayer CHIP_CHECK;
    DENSITY M6_CHECK CHIP_CHECK -gt M6_DN_1H -window "M6_DN_1H_W" -step "M6_DN_1H_S" -inside_of layer CHIPx -backup -expr "  AREA(M6_CHECK)/AREA(CHIP_CHECK)  " -outputlayer ERR_WIN;
    NOT ERR_WIN M6DN1H_EXC -outputlayer _EPTMPL266893;
    WITH_WIDTH _EPTMPL266893 -ge "M6_DN_1H_E" -outputlayer F;
    DENSITY F M6_CHECK CHIP_CHECK -gt M6_DN_1H -window "M6_DN_1H_W" -step "M6_DN_1H_S" -inside_of layer CHIPx -backup -print "M6.DN.1.1.density" -expr "  !! AREA(F)*AREA(M6_CHECK)/AREA(CHIP_CHECK)  " ; // -outputlayer _EPTMPL266895
}
COPY EMPTYi -outputlayer M6DN2_EXC;

RULE M6.DN.2 {
    CAPTION "M6 local density must be <= 0.9 range over 20 um x 20 um step 10 um";
    NOT M6x M6DN2_EXC -outputlayer M6_CHECK;
    DENSITY M6_CHECK CHIP -gt M6_DN_2 -window "M6_DN_2_W" -step "M6_DN_2_S" -inside_of layer CHIPx -backup -expr "  AREA(M6_CHECK)/AREA(CHIP)  " -outputlayer ERR_WIN;
    NOT ERR_WIN M6DN2_EXC -outputlayer _EPTMPL266899;
    WITH_WIDTH _EPTMPL266899 -ge "M6_DN_2_E" -outputlayer F;
    DENSITY F M6_CHECK CHIP -gt M6_DN_2 -window "M6_DN_2_W" -step "M6_DN_2_S" -inside_of layer CHIPx -backup -print "M6.DN.2.density" -expr "  !! AREA(F)*AREA(M6_CHECK)/AREA(CHIP)  " ; // -outputlayer _EPTMPL266901
}

RULE M6.DN.4 {
    CAPTION "The metal density difference between any two 250 um x 250 um neighboring checking windows including DM6EXCL <= 0.4";
    DENSITY M6x CHIP -le 1 -window "M6_DN_4_W" -backup -gradient -gt M6_DN_4 -corner -print "M6.DN.4.density" -expr "  AREA(M6x)/AREA(CHIP)  " ; // -outputlayer _EPTMPL266902
}
NOT M6x SRCSR -outputlayer M6_CORE;

RULE M4.DN.5 {
    CAPTION "It is not allowed to have local density > 0.8 of all 3 consecutive metal (M4,M5,M6) over any 50 um x 50 um window (stepping 25 um)";
    DENSITY M4_CORE M5_CORE M6_CORE -gt 0 -window "Mx_DN_5_W" -step "Mx_DN_5_S" -backup -expr "  ! ~(AREA(M4_CORE)/AREA()-Mx_DN_5)*!~(AREA(M5_CORE)/AREA()-Mx_DN_5)*!~(AREA(M6_CORE)/AREA()-Mx_DN_5)  " -rdb M4.DN.5.density ; // -outputlayer _EPTMPL266904
}
variable M4_DN_6 0.15;
SIZE CBM -by 25 -outputlayer _EPTMPL266905;
SIZE _EPTMPL266905 -by -25 -outputlayer M4DN6_CBM_MERGE;
AREA M4DN6_CBM_MERGE -ge "200 * 200" -outputlayer M4DN6_CHECK_CBM;
AND M4x M4DN6_CHECK_CBM -outputlayer M4DN6_M4_CHECK;
AND M5x M4DN6_CHECK_CBM -outputlayer M4DN6_M5_CHECK;
AND M6x M4DN6_CHECK_CBM -outputlayer M4DN6_M6_CHECK;
CONNECT M4DN6_CHECK_CBM M4DN6_M4_CHECK;
CONNECT M4DN6_CHECK_CBM M4DN6_M5_CHECK;
CONNECT M4DN6_CHECK_CBM M4DN6_M6_CHECK;

RULE M4.DN.6 {
    CAPTION "It is not allowed to have local density < 0.15 of all 3 consecutive metal (M4,M5,M6) under ((CBM SIZING 25) SIZING -25) whose size is >= 200um X 200um";
    ANTENNA M4DN6_CHECK_CBM M4DN6_M4_CHECK -lt "M4_DN_6" -expr "  AREA(M4DN6_M4_CHECK)/AREA(M4DN6_CHECK_CBM)  " -rdb M4.DN.6.M4.density -outputlayer A;
    ANTENNA M4DN6_CHECK_CBM M4DN6_M5_CHECK -lt "M4_DN_6" -expr "  AREA(M4DN6_M5_CHECK)/AREA(M4DN6_CHECK_CBM)  " -rdb M4.DN.6.M5.density -outputlayer B;
    ANTENNA M4DN6_CHECK_CBM M4DN6_M6_CHECK -lt "M4_DN_6" -expr "  AREA(M4DN6_M6_CHECK)/AREA(M4DN6_CHECK_CBM)  " -rdb M4.DN.6.M6.density -outputlayer C;
    AND A B -outputlayer _EPTMPL266917;
    AND _EPTMPL266917 C ; // -outputlayer _EPTMPL266918
}
SIZE M7 -by "M7_S_2_W/2" -underover -truncate "M7_S_2_W/2" -outputlayer _EPTMPL266919;
AND _EPTMPL266919 M7 -outputlayer M7Wide_first;
SIZE M7Wide_first -by "M7_S_2_1_W/2" -underover -truncate "M7_S_2_1_W/2" -outputlayer _EPTMPL266921;
AND _EPTMPL266921 M7Wide_first -outputlayer M7Wide_0.4;
SIZE M7Wide_first -by "M7_S_3_W/2" -underover -truncate "M7_S_3_W/2" -outputlayer _EPTMPL266923;
AND _EPTMPL266923 M7Wide_first -outputlayer M7Wide_1.5;
SIZE M7Wide_1.5 -by "M7_S_4_W/2" -underover -truncate "M7_S_4_W/2" -outputlayer _EPTMPL266925;
AND _EPTMPL266925 M7Wide_1.5 -outputlayer M7Wide_4.5;
SIZE M6Wide_first -by "VIA6_R_2_W/2" -underover -truncate "VIA6_R_2_W/2" -outputlayer _EPTMPL266927;
AND _EPTMPL266927 M6Wide_first -outputlayer M6Wide_0.42_VIA6;
SIZE M6Wide_0.42_VIA6 -by "VIA6_R_4_W/2" -underover -truncate "VIA6_R_4_W/2" -outputlayer _EPTMPL266929;
AND _EPTMPL266929 M6Wide_0.42_VIA6 -outputlayer M6Wide_0.7_VIA6;
SIZE M6Wide_0.7_VIA6 -by "VIA6_R_3_W/2" -underover -truncate "VIA6_R_3_W/2" -outputlayer _EPTMPL266931;
AND _EPTMPL266931 M6Wide_0.7_VIA6 -outputlayer M6Wide_0.98_VIA6;
SIZE M6Wide_0.98_VIA6 -by "VIA6_R_5_W/2" -underover -truncate "VIA6_R_5_W/2" -outputlayer _EPTMPL266933;
AND _EPTMPL266933 M6Wide_0.98_VIA6 -outputlayer M6Wide_2_VIA6;
SIZE M6Wide_2_VIA6 -by "VIA6_R_6_W/2" -underover -truncate "VIA6_R_6_W/2" -outputlayer _EPTMPL266935;
AND _EPTMPL266935 M6Wide_2_VIA6 -outputlayer M6Wide_3_VIA6;
SIZE M7Wide_first -by "VIA6_R_2_W/2" -underover -truncate "VIA6_R_2_W/2" -outputlayer _EPTMPL266937;
AND _EPTMPL266937 M7Wide_first -outputlayer M7Wide_0.42_VIA6;
SIZE M7Wide_0.42_VIA6 -by "VIA6_R_4_W/2" -underover -truncate "VIA6_R_4_W/2" -outputlayer _EPTMPL266939;
AND _EPTMPL266939 M7Wide_0.42_VIA6 -outputlayer M7Wide_0.7_VIA6;
SIZE M7Wide_0.7_VIA6 -by "VIA6_R_3_W/2" -underover -truncate "VIA6_R_3_W/2" -outputlayer _EPTMPL266941;
AND _EPTMPL266941 M7Wide_0.7_VIA6 -outputlayer M7Wide_0.98_VIA6;
SIZE M7Wide_0.98_VIA6 -by "VIA6_R_5_W/2" -underover -truncate "VIA6_R_5_W/2" -outputlayer _EPTMPL266943;
AND _EPTMPL266943 M7Wide_0.98_VIA6 -outputlayer M7Wide_2_VIA6;
SIZE M7Wide_2_VIA6 -by "VIA6_R_6_W/2" -underover -truncate "VIA6_R_6_W/2" -outputlayer _EPTMPL266945;
AND _EPTMPL266945 M7Wide_2_VIA6 -outputlayer M7Wide_3_VIA6;

RULE VIA6.W.1 {
    CAPTION "Width (maximum = minimum except for seal-ring and fuse protection ring) = 0.1 um";
    CAPTION "VIA6.R.1 45-degree rotated VIA is not allowed";
    RECT_CHK -not VIA6 -eq "VIA6_W_1" -by -eq "VIA6_W_1" -orthogonal_only -outputlayer A;
    NOT A VIA_EXD ; // -outputlayer _EPTMPL266948
}

RULE VIA6.W.2 {
    CAPTION "Width of VIAx bar. VIAx bar is only allowed in seal-ring and fuse protection ring. SEALRING layer (CAD layer: 162 for both seal-ring and fuse protection ring) is a Must to cover VIAx bar if VIAx bar is used = 0.1";
    INTE VIA6_BAR -lt "VIA6_W_2" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL266949
    WITH_WIDTH VIA6_BAR -gt "VIA6_W_2" -outputlayer A;
    ANGLE VIA6_BAR -eq 45 -outputlayer B;
    INTE B -lt "VIA6_W_2 + 2*GRID" -output region -outputlayer C;
    NOT A C -outputlayer D;
    SELECT -enclose_rect D -width 1 -length 0.005 ; // -outputlayer _EPTMPL266954
}

RULE VIA6.S.1 {
    CAPTION "Spacing >= 0.1 um";
    EXTE VIA6 -lt "VIA6_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL266955
}

RULE VIA6.S.2 {
    CAPTION "Space to 3-neighboring VIAx (< 0.14 um distance) >= 0.13 um";
    SELECT -with_neighbor VIA6 -gt 2 -space -lt VIA6_S_2_S -outputlayer X;
    EXTE X VIA6 -lt "VIA6_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL266957
}

RULE VIA6.S.3 {
    CAPTION "Space to neighboring VIAx [different net and common parallel run length > 0] >= 0.13 um";
    STAMP VIA6 VIA6i -outputlayer VIA6_NODAL;
    EXTE VIA6_NODAL -lt "VIA6_S_3" -abut -lt 90 -not_connected -metric opposite -output region ; // -outputlayer _EPTMPL266959
}

RULE VIA6.EN.1 {
    CAPTION "Enclosure by M6 >= 0 um";
    NOT VIA6 M6 ; // -outputlayer _EPTMPL266960
}

RULE VIA6.EN.2__VIA6.EN.3 {
    CAPTION "Enclosure by M6 [at least two opposite sides] >= 0.04 , or [all sides] >= 0.03";
    RECT_ENC VIA6 M6 -abut -lt 90 -single_point -good 0 VIA6_EN_2 opposite 0 VIA6_EN_2 opposite -outputlayer X;
    ENC X M6 -lt "VIA6_EN_3" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL266962
}
variable VIA6_R_2_S2_S1 "(VIA6_R_2_S2 - VIA6_R_2_S1)/2";

RULE VIA6.R.2__VIA6.R.3 {
    CAPTION "When M6 or M7 width > 0.3 um, more than one VIA6 is required.";
    CAPTION "2 vias spacing should be <= 0.2 um or 4 vias spacing should be <= 0.25 um";
    CAPTION "When M6 or M7 width > 0.7 um, more than three VIA6 is required.";
    CAPTION "4 vias spacing should be <= 0.2 um or 9 vias spacing should be <= 0.35 um";
    AND M6Wide_0.42_VIA6 M7 -outputlayer _EPTMPL266963;
    AND M7Wide_0.42_VIA6 M6 -outputlayer _EPTMPL266964;
    OR _EPTMPL266963 _EPTMPL266964 -outputlayer M7OvpM6_W_;
    AND M6Wide_0.98_VIA6 M7 -outputlayer _EPTMPL266966;
    AND M7Wide_0.98_VIA6 M6 -outputlayer _EPTMPL266967;
    OR _EPTMPL266966 _EPTMPL266967 -outputlayer M7OvpM6_B;
    NOT M7OvpM6_W_ M7OvpM6_B -outputlayer M7OvpM6_W;
    SELECT -outside -not VIA6_EXD M7OvpM6_W -outputlayer Checked_VIA6_W_;
    SELECT -outside -not VIA6_EXD M7OvpM6_B -outputlayer Checked_VIA6_B;
    NOT Checked_VIA6_W_ Checked_VIA6_B -outputlayer Checked_VIA6_W;
    SELECT -interact M6i M7OvpM6_W_ -outputlayer M6_effect;
    SELECT -interact M7i M7OvpM6_W_ -outputlayer M7_effect;
    AND M6_effect M7_effect -outputlayer effect_M7OvpM6_;
    SELECT -interact effect_M7OvpM6_ M7OvpM6_W_ -outputlayer effect_M7OvpM6;
    SELECT -interact VIA6_EXD effect_M7OvpM6 -outputlayer effect_VIA;
    SIZE effect_VIA -by "VIA6_R_2_S1/2" -inside_of effect_M7OvpM6 -step "M6_S_1*0.7" -outputlayer V6Merged_A;
    SIZE V6Merged_A -by "VIA6_R_2_S2_S1" -inside_of effect_M7OvpM6 -step "M6_S_1*0.7" -outputlayer V6Merged_B;
    SIZE V6Merged_B -by "(VIA6_R_3_S2 - VIA6_R_2_S2)/2" -inside_of effect_M7OvpM6 -step "M6_S_1*0.7" -outputlayer V6Merged_C;
    SELECT -interact V6Merged_A effect_VIA -lt 2 -outputlayer V6Merged_A2R;
    SELECT -outside V6Merged_A V6Merged_A2R -outputlayer V6Merged_A2;
    SELECT -interact V6Merged_A2 effect_VIA -lt 4 -outputlayer V6Merged_A4R;
    SELECT -outside V6Merged_A2 V6Merged_A4R -outputlayer V6Merged_A4;
    SELECT -interact V6Merged_B effect_VIA -lt 4 -outputlayer V6Merged_B4R;
    SELECT -outside V6Merged_B V6Merged_B4R -outputlayer V6Merged_B4;
    SELECT -interact V6Merged_C effect_VIA -lt 9 -outputlayer V6Merged_C9R;
    SELECT -outside V6Merged_C V6Merged_C9R -outputlayer V6Merged_C9;
    OR V6Merged_A2 V6Merged_B4 -outputlayer GMergeW;
    OR V6Merged_A4 V6Merged_C9 -outputlayer GMergeB;
    SELECT -interact Checked_VIA6_W GMergeW -outputlayer GVIA_W;
    SELECT -interact Checked_VIA6_B GMergeB -outputlayer GVIA_B;
    SELECT -interact M7OvpM6_W GVIA_W -outputlayer GOOD_AREA_W;
    SELECT -interact M7OvpM6_B GVIA_B -outputlayer GOOD_AREA_B;
    SELECT -outside Checked_VIA6_W GOOD_AREA_W ; // -outputlayer _EPTMPL266995
    SELECT -outside Checked_VIA6_B GOOD_AREA_B ; // -outputlayer _EPTMPL266996
}

RULE VIA6.R.4:M6 {
    CAPTION " At least two VIAx must be used for a connection that is <= 0.8 um (D) away from a metal plate (either Mx or Mx+1) with length > 0.3 um (L) and width > 0.3 um (W). (It is allowed to use one VIAx for a connection that is > 0.8 um (D) away from a metal plate (either Mx or Mx+1) with length > 0.3 um (L) and width > 0.3 um (W).)";
    SIZE M6Wide_0.7_VIA6 -by "VIA6_R_4_D + GRID" -outputlayer _EPTMPL266997;
    NOT _EPTMPL266997 M6Wide_0.7_VIA6 -outputlayer _EPTMPL266998;
    AND _EPTMPL266998 M6 -outputlayer Branch1;
    SELECT -interact Branch1 M6Wide_0.7_VIA6 -outputlayer _EPTMPL267000;
    SELECT -interact _EPTMPL267000 VIA6 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M6Wide_0.7_VIA6 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA6_R_4_D" -inside_of Branch1HasVia -step "M6_S_1*0.5" -outputlayer Branch;
    AND Branch M7 -outputlayer _EPTMPL267005;
    SELECT -interact _EPTMPL267005 VIA6 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA6 Branch -outputlayer _EPTMPL267007;
    SELECT -outside _EPTMPL267007 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M7 BranchSingleVia -outputlayer _EPTMPL267009;
    AND _EPTMPL267009 M6 -outputlayer _EPTMPL267010;
    SELECT -interact _EPTMPL267010 BranchSingleVia -outputlayer _EPTMPL267011;
    SELECT -interact _EPTMPL267011 VIA6 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL267013;
    NOT _EPTMPL267013 VIA_EXD ; // -outputlayer _EPTMPL267014
}

RULE VIA6.R.4:M7 {
    CAPTION "At least two VIAx must be used for a connection that is <= 0.8 um (D) away from a metal plate (either Mx or Mx+1) with length > 0.3 um (L) and width > 0.3 um (W). (It is allowed to use one VIAx for a connection that is > 0.8 um (D) away from a metal plate (either Mx or Mx+1) with length > 0.3 um (L) and width > 0.3 um (W).)";
    SIZE M7Wide_0.7_VIA6 -by "VIA6_R_4_D + GRID" -outputlayer _EPTMPL267015;
    NOT _EPTMPL267015 M7Wide_0.7_VIA6 -outputlayer _EPTMPL267016;
    AND _EPTMPL267016 M7 -outputlayer Branch1;
    SELECT -interact Branch1 M7Wide_0.7_VIA6 -outputlayer _EPTMPL267018;
    SELECT -interact _EPTMPL267018 VIA6 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M7Wide_0.7_VIA6 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA6_R_4_D" -inside_of Branch1HasVia -step "M7_S_1*0.5" -outputlayer Branch;
    AND Branch M6 -outputlayer _EPTMPL267023;
    SELECT -interact _EPTMPL267023 VIA6 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA6 Branch -outputlayer _EPTMPL267025;
    SELECT -outside _EPTMPL267025 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M6 BranchSingleVia -outputlayer _EPTMPL267027;
    AND _EPTMPL267027 M7 -outputlayer _EPTMPL267028;
    SELECT -interact _EPTMPL267028 BranchSingleVia -outputlayer _EPTMPL267029;
    SELECT -interact _EPTMPL267029 VIA6 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL267031;
    NOT _EPTMPL267031 VIA_EXD ; // -outputlayer _EPTMPL267032
}

RULE VIA6.R.5:M6 {
    CAPTION "At least two VIAx must be used for a connection that is <= 2 um (D) away from a metal plate (either Mx or Mx+1) with length > 2 um (L) and width > 2 um (W). It is allowed to use one VIAx for a connection that is > 2 um (D) away from a metal plate (either Mx or Mx+1) with length> 2 um (L) and width > 2 um (W).";
    SIZE M6Wide_2_VIA6 -by "VIA6_R_5_D + GRID" -outputlayer _EPTMPL267033;
    NOT _EPTMPL267033 M6Wide_2_VIA6 -outputlayer _EPTMPL267034;
    AND _EPTMPL267034 M6 -outputlayer Branch1;
    SELECT -interact Branch1 M6Wide_2_VIA6 -outputlayer _EPTMPL267036;
    SELECT -interact _EPTMPL267036 VIA6 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M6Wide_2_VIA6 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA6_R_5_D" -inside_of Branch1HasVia -step "M6_S_1*0.7" -outputlayer Branch;
    AND Branch M7 -outputlayer _EPTMPL267041;
    SELECT -interact _EPTMPL267041 VIA6 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA6 Branch -outputlayer _EPTMPL267043;
    SELECT -outside _EPTMPL267043 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M7 BranchSingleVia -outputlayer _EPTMPL267045;
    AND _EPTMPL267045 M6 -outputlayer _EPTMPL267046;
    SELECT -interact _EPTMPL267046 BranchSingleVia -outputlayer _EPTMPL267047;
    SELECT -interact _EPTMPL267047 VIA6 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL267049;
    NOT _EPTMPL267049 VIA_EXD ; // -outputlayer _EPTMPL267050
}

RULE VIA6.R.5:M7 {
    CAPTION "At least two VIAx must be used for a connection that is <= 2 um (D) away from a metal plate (either Mx or Mx+1) with length > 2 um (L) and width > 2 um (W). It is allowed to use one VIAx for a connection that is > 2 um (D) away from a metal plate (either Mx or Mx+1) with length> 2 um (L) and width > 2 um (W).";
    SIZE M7Wide_2_VIA6 -by "VIA6_R_5_D + GRID" -outputlayer _EPTMPL267051;
    NOT _EPTMPL267051 M7Wide_2_VIA6 -outputlayer _EPTMPL267052;
    AND _EPTMPL267052 M7 -outputlayer Branch1;
    SELECT -interact Branch1 M7Wide_2_VIA6 -outputlayer _EPTMPL267054;
    SELECT -interact _EPTMPL267054 VIA6 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M7Wide_2_VIA6 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA6_R_5_D" -inside_of Branch1HasVia -step "M7_S_1*0.7" -outputlayer Branch;
    AND Branch M6 -outputlayer _EPTMPL267059;
    SELECT -interact _EPTMPL267059 VIA6 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA6 Branch -outputlayer _EPTMPL267061;
    SELECT -outside _EPTMPL267061 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M6 BranchSingleVia -outputlayer _EPTMPL267063;
    AND _EPTMPL267063 M7 -outputlayer _EPTMPL267064;
    SELECT -interact _EPTMPL267064 BranchSingleVia -outputlayer _EPTMPL267065;
    SELECT -interact _EPTMPL267065 VIA6 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL267067;
    NOT _EPTMPL267067 VIA_EXD ; // -outputlayer _EPTMPL267068
}
SELECT -enclose_rect M6Wide_3_VIA6 -width VIA6_R_6_W -length VIA6_R_6_L+GRID -outputlayer M6Big_3_VIA6;

RULE VIA6.R.6:M6 {
    CAPTION " At least two VIAx must be used for a connection that is <= 5 um (D) away from a metal plate (either Mx or Mx+1) with length > 10 um (L) and width > 3 um (W). (It is allowed to use one VIAx for a connection that is > 5 um (D) away from a metal plate (either Mx or Mx+1) with length> 10 um (L) and width > 3 um (W)).";
    SIZE M6Big_3_VIA6 -by "VIA6_R_6_D + GRID" -outputlayer _EPTMPL267070;
    NOT _EPTMPL267070 M6Big_3_VIA6 -outputlayer _EPTMPL267071;
    AND _EPTMPL267071 M6 -outputlayer Branch1;
    SELECT -interact Branch1 M6Big_3_VIA6 -outputlayer _EPTMPL267073;
    SELECT -interact _EPTMPL267073 VIA6 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M6Big_3_VIA6 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA6_R_6_D" -inside_of Branch1HasVia -step "M6_S_1*0.7" -outputlayer Branch;
    AND Branch M7 -outputlayer _EPTMPL267078;
    SELECT -interact _EPTMPL267078 VIA6 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA6 Branch -outputlayer _EPTMPL267080;
    SELECT -outside _EPTMPL267080 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M7 BranchSingleVia -outputlayer _EPTMPL267082;
    AND _EPTMPL267082 M6 -outputlayer _EPTMPL267083;
    SELECT -interact _EPTMPL267083 BranchSingleVia -outputlayer _EPTMPL267084;
    SELECT -interact _EPTMPL267084 VIA6 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL267086;
    NOT _EPTMPL267086 VIA_EXD ; // -outputlayer _EPTMPL267087
}
SELECT -enclose_rect M7Wide_3_VIA6 -width VIA6_R_6_W -length VIA6_R_6_L+GRID -outputlayer M7Big_3_VIA6;

RULE VIA6.R.6:M7 {
    CAPTION "At least two VIAx must be used for a connection that is <= 5 um (D) away from a metal plate (either Mx or Mx+1) with length > 10 um (L) and width > 3 um (W). (It is allowed to use one VIAx for a connection that is > 5 um (D) away from a metal plate (either Mx or Mx+1) with length> 10 um (L) and width > 3 um (W)).";
    SIZE M7Big_3_VIA6 -by "VIA6_R_6_D + GRID" -outputlayer _EPTMPL267089;
    NOT _EPTMPL267089 M7Big_3_VIA6 -outputlayer _EPTMPL267090;
    AND _EPTMPL267090 M7 -outputlayer Branch1;
    SELECT -interact Branch1 M7Big_3_VIA6 -outputlayer _EPTMPL267092;
    SELECT -interact _EPTMPL267092 VIA6 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M7Big_3_VIA6 Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA6_R_6_D" -inside_of Branch1HasVia -step "M7_S_1*0.7" -outputlayer Branch;
    AND Branch M6 -outputlayer _EPTMPL267097;
    SELECT -interact _EPTMPL267097 VIA6 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA6 Branch -outputlayer _EPTMPL267099;
    SELECT -outside _EPTMPL267099 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M6 BranchSingleVia -outputlayer _EPTMPL267101;
    AND _EPTMPL267101 M7 -outputlayer _EPTMPL267102;
    SELECT -interact _EPTMPL267102 BranchSingleVia -outputlayer _EPTMPL267103;
    SELECT -interact _EPTMPL267103 VIA6 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL267105;
    NOT _EPTMPL267105 VIA_EXD ; // -outputlayer _EPTMPL267106
}

RULE VIA6.R.11 {
    CAPTION "Single VIAx is not allowed for H-shape  Mx+1 when all of the following conditions come into existence:";
    CAPTION "1. The Mx+1 has H-shape interact with two metal holes : both two metal hole area <= 5 um2 and two metal hole length(L2) <= 5 um";
    CAPTION "2. The VIAx overlaps on the center metal bar of this H-shape Mx+1";
    CAPTION "3. The length (L) of the center metal bar <= 1 um and the width of metal bar is <= 0.3 um.";
    WITH_WIDTH M7i -le "VIA6_R_11_W" -outputlayer W;
    HOLES M7i -inner -le "VIA6_R_11_A" -outputlayer _EPTMPL267108;
    SELECT -interact _EPTMPL267108 W -outputlayer H_HOLE;
    SELECT -interact M7i H_HOLE -outputlayer A0;
    EDGE_BOOLEAN -coincident_only -outside A0 H_HOLE -outputlayer A;
    INTE A -le "VIA6_R_11_W" -abut -lt 90 -metric opposite -output region -exclude_shielded 4 -outputlayer _EPTMPL267112;
    SELECT -inside _EPTMPL267112 A0 -outputlayer _EPTMPL267113;
    SELECT -interact _EPTMPL267113 H_HOLE -eq 2 -outputlayer B0;
    INTE A -le "VIA6_R_11_L" -abut -lt 90 -metric opposite -output region -exclude_shielded 4 -outputlayer _EPTMPL267115;
    SELECT -inside _EPTMPL267115 A0 -outputlayer _EPTMPL267116;
    AND _EPTMPL267116 W -outputlayer _EPTMPL267117;
    SELECT -interact _EPTMPL267117 H_HOLE -eq 2 -outputlayer B1;
    EXTE H_HOLE -le "VIA6_R_11_W" -abut -lt 90 -metric opposite -notch only -output region -outputlayer HOLE_NOTCH;
    NOT B1 HOLE_NOTCH -outputlayer _EPTMPL267120;
    OR _EPTMPL267120 B0 -outputlayer B2;
    EXTE B2 -le "VIA6_R_11_W" -abut -eq 90 -intersecting ONLY -output region_extents -outputlayer _EPTMPL267122;
    SELECT -touch _EPTMPL267122 B2 -eq 2 -outputlayer _EPTMPL267123;
    AND _EPTMPL267123 W -outputlayer CORNER_M;
    OR B2 CORNER_M -outputlayer B;
    SELECT -enclose_rect -not B -width GRID -length VIA6_R_11_L+GRID -outputlayer CENTER_BAR1;
    SELECT -interact CENTER_BAR1 H_HOLE -eq 2 -outputlayer _EPTMPL267127;
    SELECT -interact _EPTMPL267127 VIA6i -outputlayer CENTER_BAR2;
    EDGE_BOOLEAN -coincident_only -outside CENTER_BAR2 H_HOLE -outputlayer C;
    EXTE C A -le "VIA6_R_11_L2" -metric opposite -output positive1 -outputlayer D;
    EDGE_BOOLEAN -coincident_only -inside -not C D -outputlayer E;
    SELECT -with_edge -not CENTER_BAR2 E -outputlayer CENTER_BAR3;
    SELECT -outside -not VIA6i CENTER_BAR3 -outputlayer CHECK_VIA;
    SELECT -interact A0 CHECK_VIA -outputlayer _EPTMPL267134;
    SELECT -interact M6i CHECK_VIA -outputlayer _EPTMPL267135;
    AND _EPTMPL267134 _EPTMPL267135 -outputlayer _EPTMPL267136;
    SELECT -interact _EPTMPL267136 VIA6i -eq 1 -outputlayer _EPTMPL267137;
    AND CHECK_VIA _EPTMPL267137 ; // -outputlayer _EPTMPL267138
}
NOT M7Wide_first CB_NON_CUP -outputlayer M71;
NOT M7Wide_0.4 CB_NON_CUP -outputlayer M711;
NOT M7Wide_1.5 CB_NON_CUP -outputlayer M72;
NOT M7Wide_4.5 CB_NON_CUP -outputlayer M73;
AREA M7 -gt "M7_S_3_L*M7_W_1" -outputlayer M7AS3;
AREA M7AS3 -gt "M7_S_4_L*M7_W_1" -outputlayer M7AS4;
ANGLE M7 -eq 45 -outputlayer M7_EDGE_45;

RULE M7.W.1 {
    CAPTION "Width >= 0.1 um";
    INTE M7 -lt "M7_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267146
}

RULE M7.W.2 {
    CAPTION "Width of 45-degree bent Mx Please make sure the vertex of 45 degree pattern is on 5nm grid >= 0.19 um";
    INTE M7_EDGE_45 -lt "M7_W_2" -abut -lt 90 -output region ; // -outputlayer _EPTMPL267147
}

RULE M7.W.3 {
    CAPTION "Maximum width <= 12 um";
    SIZE M7 -by "M7_W_3/2" -underover -truncate "M7_W_3/2" ; // -outputlayer _EPTMPL267148
}

RULE M7.S.1 {
    CAPTION "Spacing >= 0.1 um";
    EXTE M7 -lt "M7_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267149
}

RULE M7.S.2 {
    CAPTION "Space [at least one metal line width > 0.2 um  and the parallel metal run length > 0.38 um ] (union projection) >= 0.12";
    EXTE M71 M7 -lt "M7_S_2" -metric opposite -output region -measure all -outputlayer X;
    NOT X M7 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length M7_S_2_L+GRID ; // -outputlayer _EPTMPL267152
}

RULE M7.S.2.1 {
    CAPTION "Space [at least one metal line width > 0.4 um  and the parallel metal run length > 0.4 um ] (union projection) >= 0.16";
    EXTE M711 M7 -lt "M7_S_2_1" -metric opposite -output region -measure all -outputlayer X;
    NOT X M7 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length M7_S_2_1_L+GRID ; // -outputlayer _EPTMPL267155
}

RULE M7.S.3 {
    CAPTION "Space [at least one metal line width > 1.5 um  and the parallel metal run length > 1.5 um ] (union projection) >= 0.5";
    EXTE M72 M7AS3 -lt "M7_S_3" -metric opposite -output region -measure all -outputlayer X;
    NOT X M7 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length M7_S_3_L+GRID ; // -outputlayer _EPTMPL267158
}

RULE M7.S.4 {
    CAPTION "Space [at least one metal line width > 4.5 um  and the parallel metal run length > 4.5 um ] (union projection) >= 1.5";
    EXTE M73 M7AS4 -lt "M7_S_4" -metric opposite -output region -measure all -outputlayer X;
    NOT X M7 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length M7_S_4_L+GRID ; // -outputlayer _EPTMPL267161
}

RULE M7.S.5 {
    CAPTION "Space at Mx line-end (W<Q=0.120) in a dense-line-end configuration: If Mx has parallel run length with opposite Mx (measured with T=0.035 extension) along 2 adjacent edges of Mx [any one edge <Q distance from the corner of the two edges], then one of the space (S1 or S2) needs to be at least this value (except for small jog with edge length < 0.10 um (R)) >= 0.12 um.";
    CONVEX_EDGE M7 -angle1 -eq 90 -angle2 -eq 90 -with_length -lt "M7_S_5_Q" -outputlayer A;
    EXTE A M7 -lt "M7_S_5" -abut -lt 90 -metric opposite_extended "M7_S_5_E" -output positive1 -outputlayer B;
    EDGE_SELECT -coincident_only -inside A B -outputlayer C;
    INTE C M7 -lt "M7_S_5_Q" -abut -eq 90 -intersecting ONLY -output positive2 -outputlayer D;
    EDGE_LENGTH D -ge "M7_W_1" -outputlayer I;
    EDGE_EXPAND I -inside_by 0.001 -extend_by "M7_S_5_E" -outputlayer J;
    EDGE_EXPAND I -inside_by 0.001 -outputlayer K;
    NOT J K -outputlayer L;
    SELECT -with_edge L A -outputlayer M;
    OR M K -outputlayer N;
    EDGE_SELECT -coincident_only N I -outputlayer O;
    EXTE O M7 -lt "M7_S_5" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL267173
}

RULE M7.EN.1 {
    CAPTION " Enclosure of VIA6 >= 0 um";
    NOT VIA6 M7 ; // -outputlayer _EPTMPL267174
}

RULE M7.EN.2__M7.EN.3 {
    CAPTION "Enclosure of VIA6 [at least two opposite sides] >= 0.04 ,or [all sides] >= 0.03";
    RECT_ENC VIA6 M7 -abut -lt 90 -single_point -good 0 M7_EN_2 opposite 0 M7_EN_2 opposite -outputlayer X;
    ENC X M7 -lt "M7_EN_3" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267176
}

RULE M7.A.1 {
    CAPTION "Area >= 0.052 um2";
    AREA M7 -lt "M7_A_1" ; // -outputlayer _EPTMPL267177
}
variable M7_A_2pre " ((M7_A_2 + (M7_S_1 * M7_S_1 * 3.142))/(2 * M7_S_1))   *((M7_A_2 + (M7_S_1 * M7_S_1 * 3.142))/(2 * M7_S_1))/3.141 ";

RULE M7.A.2 {
    CAPTION "Enclosed area >= 0.2 um";
    HOLES M7 -inner -lt "M7_A_2pre" -outputlayer X;
    NOT X M7 -outputlayer _EPTMPL267179;
    AREA _EPTMPL267179 -lt "M7_A_2" ; // -outputlayer _EPTMPL267180
}

RULE M7.S.6 {
    CAPTION "Space to 45 degree bent M7 >=  M7_S_6 um";
    EDGE_EXPAND M7_EDGE_45 -outside_by "M7_S_6" -outputlayer X;
    AND X M7 ; // -outputlayer _EPTMPL267182
}
COPY M7_EXC -outputlayer M7DN1H_EXC;
COPY M7_EXC_LOW -outputlayer M7DN1L_EXC;

RULE M7.DN.1 {
    CAPTION "M7 local density must be >= 0.1 range over 75 um x 75 um step 37.5 um";
    NOT M7x M7DN1L_EXC -outputlayer M7_CHECK;
    NOT CHIP M7DN1L_EXC -outputlayer CHIP_CHECK;
    DENSITY M7_CHECK CHIP_CHECK -lt M7_DN_1L -window "M7_DN_1L_W" -step "M7_DN_1L_S" -inside_of layer CHIPx -backup -expr "  AREA(M7_CHECK)/AREA(CHIP_CHECK)  " -outputlayer ERR_WIN;
    NOT ERR_WIN M7DN1L_EXC -outputlayer _EPTMPL267188;
    WITH_WIDTH _EPTMPL267188 -ge "M7_DN_1L_E" -outputlayer F;
    DENSITY F M7_CHECK CHIP_CHECK -lt M7_DN_1L -window "M7_DN_1L_W" -step "M7_DN_1L_S" -inside_of layer CHIPx -backup -print "M7.DN.1.density" -expr "  ! AREA(F)+AREA(M7_CHECK)/AREA(CHIP_CHECK)  " ; // -outputlayer _EPTMPL267190
}

RULE M7.DN.1.1 {
    CAPTION "M7 local density must be <= 0.8 range over 100 um x 100 um step 50 um";
    NOT M7x M7DN1H_EXC -outputlayer M7_CHECK;
    NOT CHIP M7DN1H_EXC -outputlayer CHIP_CHECK;
    DENSITY M7_CHECK CHIP_CHECK -gt M7_DN_1H -window "M7_DN_1H_W" -step "M7_DN_1H_S" -inside_of layer CHIPx -backup -expr "  AREA(M7_CHECK)/AREA(CHIP_CHECK)  " -outputlayer ERR_WIN;
    NOT ERR_WIN M7DN1H_EXC -outputlayer _EPTMPL267194;
    WITH_WIDTH _EPTMPL267194 -ge "M7_DN_1H_E" -outputlayer F;
    DENSITY F M7_CHECK CHIP_CHECK -gt M7_DN_1H -window "M7_DN_1H_W" -step "M7_DN_1H_S" -inside_of layer CHIPx -backup -print "M7.DN.1.1.density" -expr "  !! AREA(F)*AREA(M7_CHECK)/AREA(CHIP_CHECK)  " ; // -outputlayer _EPTMPL267196
}
COPY EMPTYi -outputlayer M7DN2_EXC;

RULE M7.DN.2 {
    CAPTION "M7 local density must be <= 0.9 range over 20 um x 20 um step 10 um";
    NOT M7x M7DN2_EXC -outputlayer M7_CHECK;
    DENSITY M7_CHECK CHIP -gt M7_DN_2 -window "M7_DN_2_W" -step "M7_DN_2_S" -inside_of layer CHIPx -backup -expr "  AREA(M7_CHECK)/AREA(CHIP)  " -outputlayer ERR_WIN;
    NOT ERR_WIN M7DN2_EXC -outputlayer _EPTMPL267200;
    WITH_WIDTH _EPTMPL267200 -ge "M7_DN_2_E" -outputlayer F;
    DENSITY F M7_CHECK CHIP -gt M7_DN_2 -window "M7_DN_2_W" -step "M7_DN_2_S" -inside_of layer CHIPx -backup -print "M7.DN.2.density" -expr "  !! AREA(F)*AREA(M7_CHECK)/AREA(CHIP)  " ; // -outputlayer _EPTMPL267202
}

RULE M7.DN.4 {
    CAPTION "The metal density difference between any two 250 um x 250 um neighboring checking windows including DM7EXCL <= 0.4";
    DENSITY M7x CHIP -le 1 -window "M7_DN_4_W" -backup -gradient -gt M7_DN_4 -corner -print "M7.DN.4.density" -expr "  AREA(M7x)/AREA(CHIP)  " ; // -outputlayer _EPTMPL267203
}
NOT M7x SRCSR -outputlayer M7_CORE;

RULE M5.DN.5 {
    CAPTION "It is not allowed to have local density > 0.8 of all 3 consecutive metal (M5,M6,M7) over any 50 um x 50 um window (stepping 25 um)";
    DENSITY M5_CORE M6_CORE M7_CORE -gt 0 -window "Mx_DN_5_W" -step "Mx_DN_5_S" -backup -expr "  ! ~(AREA(M5_CORE)/AREA()-Mx_DN_5)*!~(AREA(M6_CORE)/AREA()-Mx_DN_5)*!~(AREA(M7_CORE)/AREA()-Mx_DN_5)  " -rdb M5.DN.5.density ; // -outputlayer _EPTMPL267205
}
variable M5_DN_6 0.15;
SIZE CBM -by 25 -outputlayer _EPTMPL267206;
SIZE _EPTMPL267206 -by -25 -outputlayer M5DN6_CBM_MERGE;
AREA M5DN6_CBM_MERGE -ge "200 * 200" -outputlayer M5DN6_CHECK_CBM;
AND M5x M5DN6_CHECK_CBM -outputlayer M5DN6_M5_CHECK;
AND M6x M5DN6_CHECK_CBM -outputlayer M5DN6_M6_CHECK;
AND M7x M5DN6_CHECK_CBM -outputlayer M5DN6_M7_CHECK;
CONNECT M5DN6_CHECK_CBM M5DN6_M5_CHECK;
CONNECT M5DN6_CHECK_CBM M5DN6_M6_CHECK;
CONNECT M5DN6_CHECK_CBM M5DN6_M7_CHECK;

RULE M5.DN.6 {
    CAPTION "It is not allowed to have local density < 0.15 of all 3 consecutive metal (M5,M6,M7) under ((CBM SIZING 25) SIZING -25) whose size is >= 200um X 200um";
    ANTENNA M5DN6_CHECK_CBM M5DN6_M5_CHECK -lt "M5_DN_6" -expr "  AREA(M5DN6_M5_CHECK)/AREA(M5DN6_CHECK_CBM)  " -rdb M5.DN.6.M5.density -outputlayer A;
    ANTENNA M5DN6_CHECK_CBM M5DN6_M6_CHECK -lt "M5_DN_6" -expr "  AREA(M5DN6_M6_CHECK)/AREA(M5DN6_CHECK_CBM)  " -rdb M5.DN.6.M6.density -outputlayer B;
    ANTENNA M5DN6_CHECK_CBM M5DN6_M7_CHECK -lt "M5_DN_6" -expr "  AREA(M5DN6_M7_CHECK)/AREA(M5DN6_CHECK_CBM)  " -rdb M5.DN.6.M7.density -outputlayer C;
    AND A B -outputlayer _EPTMPL267218;
    AND _EPTMPL267218 C ; // -outputlayer _EPTMPL267219
}

RULE VIA7.W.1 {
    CAPTION "Width (maximum = minimum except for seal-ring and fuse protection ring) = 0.36";
    CAPTION "VIA7.R.1 45-degree rotated VIA is not allowed";
    RECT_CHK -not VIA7 -eq "VIA7_W_1" -by -eq "VIA7_W_1" -orthogonal_only -outputlayer A;
    NOT A VIA_EXD ; // -outputlayer _EPTMPL267221
}

RULE VIA7.W.2 {
    CAPTION "VIA7 bar width = 0.36 (VIA7 bar is covered by SEALRING layer and only allowed in seal-ring and fuse protecion ring)";
    INTE VIA7_BAR -lt "VIA7_W_2" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL267222
    WITH_WIDTH VIA7_BAR -gt "VIA7_W_2" -outputlayer A;
    ANGLE VIA7_BAR -eq 45 -outputlayer B;
    INTE B -lt "VIA7_W_2 + GRID" -output region -outputlayer C;
    NOT A C -outputlayer D;
    SELECT -enclose_rect D -width 2 -length 0.005 ; // -outputlayer _EPTMPL267227
}

RULE VIA7.S.1 {
    CAPTION " Space >= 0.34 um";
    EXTE VIA7 -lt "VIA7_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267228
}

RULE VIA7.S.2 {
    CAPTION "Space to 3-neighboring VIAz (<0.56 um distance) >= 0.54 um";
    SELECT -with_neighbor VIA7 -gt 2 -space -lt VIA7_S_2_S -outputlayer X;
    EXTE X VIA7 -lt "VIA7_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267230
}

RULE VIA7.EN.1 {
    CAPTION "Enclosure by M7 >= 0.02 um";
    ENC VIA7 M7 -lt "VIA7_EN_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267231
    NOT VIA7 M7 -outputlayer _EPTMPL267232;
    NOT _EPTMPL267232 CBM ; // -outputlayer _EPTMPL267233
}

RULE VIA7.EN.2 {
    CAPTION "Enclosure by M7 [at least two opposite sides] >= 0.08 um";
    RECT_ENC VIA7 M7 -abut -lt 90 -single_point -good VIA7_EN_1 VIA7_EN_2 opposite VIA7_EN_1 VIA7_EN_2 opposite -outputlayer X;
    ENC X M7 -lt "VIA7_EN_2" -abut -lt 90 -metric opposite -output positive1 -outputlayer Y;
    EDGE_SELECT -coincident_only X Y -outputlayer Z;
    INTE Z -lt "VIA7_W_1" -abut -eq 90 -intersecting ONLY -output region ; // -outputlayer _EPTMPL267237
}
SIZE M8 -by "VIA7_R_2_W/2" -underover -truncate "VIA7_R_2_W/2" -outputlayer _EPTMPL267238;
AND _EPTMPL267238 M8 -outputlayer M8Wide_1.8_VIA7T;
SIZE M7 -by "VIA7_R_2_W/2" -underover -truncate "VIA7_R_2_W/2" -outputlayer _EPTMPL267240;
AND _EPTMPL267240 M7 -outputlayer M7Wide_1.8_VIA7T;
SIZE M8Wide_1.8_VIA7T -by "VIA7_R_3_W/2" -underover -truncate "VIA7_R_3_W/2" -outputlayer _EPTMPL267242;
AND _EPTMPL267242 M8Wide_1.8_VIA7T -outputlayer M8Wide_3_VIA7T;
SIZE M7Wide_1.8_VIA7T -by "VIA7_R_3_W/2" -underover -truncate "VIA7_R_3_W/2" -outputlayer _EPTMPL267244;
AND _EPTMPL267244 M7Wide_1.8_VIA7T -outputlayer M7Wide_3_VIA7T;

RULE VIA7.R.2 {
    CAPTION "At least two VIA7 with spacing <= 1.7 um are required to connect M7 and M8 when one of these metals has a width and length > 1.8 um.";
    AND M8 M7Wide_1.8_VIA7T -outputlayer _EPTMPL267246;
    AND M7 M8Wide_1.8_VIA7T -outputlayer _EPTMPL267247;
    OR _EPTMPL267246 _EPTMPL267247 -outputlayer M8OvpM7W;
    SELECT -outside -not VIA7_EXD M8OvpM7W -outputlayer Checked_VIA7;
    SELECT -interact M7i M8OvpM7W -outputlayer M7_effect;
    SELECT -interact M8i M8OvpM7W -outputlayer M8_effect;
    AND M7_effect M8_effect -outputlayer effect_M8OvpM7_;
    SELECT -interact effect_M8OvpM7_ M8OvpM7W -outputlayer effect_M8OvpM7;
    SELECT -interact VIA7_EXD effect_M8OvpM7 -outputlayer Effect_VIA7;
    SIZE Effect_VIA7 -by "VIA7_R_2_S/2" -inside_of effect_M8OvpM7 -step "M7_S_1*0.7" -outputlayer VIA7Merged;
    SELECT -enclose VIA7Merged Effect_VIA7 -ge 2 -outputlayer VIA7Merged2;
    SELECT -interact Checked_VIA7 VIA7Merged2 -outputlayer GVIA;
    SELECT -interact M8OvpM7W GVIA -outputlayer GM8OvpM7W;
    SELECT -outside Checked_VIA7 GM8OvpM7W ; // -outputlayer _EPTMPL267259
}
SELECT -enclose_rect M7Wide_3_VIA7T -width VIA7_R_3_W -length VIA7_R_3_L+GRID -outputlayer M7Big_3_VIA7T;

RULE VIA7.R.3:M7 {
    CAPTION "At least two VIA7 must be used for a connection that is <= 5 um (D) away from a metal plate (either M7 or M8) with length > 10 um (L) and width > 3 um (W). (It is allowed to use one VIA7 for a connection that is > 5 um (D) away from a metal plate (either M7 or M8) with length> 10 um (L) and width > 3 um (W)).";
    SIZE M7Big_3_VIA7T -by "VIA7_R_3_D + GRID" -outputlayer _EPTMPL267261;
    NOT _EPTMPL267261 M7Big_3_VIA7T -outputlayer _EPTMPL267262;
    AND _EPTMPL267262 M7 -outputlayer Branch1;
    SELECT -interact Branch1 M7Big_3_VIA7T -outputlayer _EPTMPL267264;
    SELECT -interact _EPTMPL267264 VIA7 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M7Big_3_VIA7T Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA7_R_3_D" -inside_of Branch1HasVia -step "M7_S_1*0.7" -outputlayer Branch;
    AND Branch M8 -outputlayer _EPTMPL267269;
    SELECT -interact _EPTMPL267269 VIA7 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA7 Branch -outputlayer _EPTMPL267271;
    SELECT -outside _EPTMPL267271 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M8 BranchSingleVia -outputlayer _EPTMPL267273;
    AND _EPTMPL267273 M7 -outputlayer _EPTMPL267274;
    SELECT -interact _EPTMPL267274 BranchSingleVia -outputlayer _EPTMPL267275;
    SELECT -interact _EPTMPL267275 VIA7 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL267277;
    NOT _EPTMPL267277 VIA_EXD ; // -outputlayer _EPTMPL267278
}
SELECT -enclose_rect M8Wide_3_VIA7T -width VIA7_R_3_W -length VIA7_R_3_L+GRID -outputlayer M8Big_3_VIA7T;

RULE VIA7.R.3:M8 {
    CAPTION "At least two VIA7 must be used for a connection that is <= 5 um (D) away from a metal plate (either M7 or M8) with length > 10 um (L) and width > 3 um (W). (It is allowed to use one VIA7 for a connection that is > 5 um (D) away from a metal plate (either M7 or M8) with length> 10 um (L) and width > 3 um (W)).";
    SIZE M8Big_3_VIA7T -by "VIA7_R_3_D + GRID" -outputlayer _EPTMPL267280;
    NOT _EPTMPL267280 M8Big_3_VIA7T -outputlayer _EPTMPL267281;
    AND _EPTMPL267281 M8 -outputlayer Branch1;
    SELECT -interact Branch1 M8Big_3_VIA7T -outputlayer _EPTMPL267283;
    SELECT -interact _EPTMPL267283 VIA7 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M8Big_3_VIA7T Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA7_R_3_D" -inside_of Branch1HasVia -step "M8_S_1*0.7" -outputlayer Branch;
    AND Branch M7 -outputlayer _EPTMPL267288;
    SELECT -interact _EPTMPL267288 VIA7 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA7 Branch -outputlayer _EPTMPL267290;
    SELECT -outside _EPTMPL267290 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M7 BranchSingleVia -outputlayer _EPTMPL267292;
    AND _EPTMPL267292 M8 -outputlayer _EPTMPL267293;
    SELECT -interact _EPTMPL267293 BranchSingleVia -outputlayer _EPTMPL267294;
    SELECT -interact _EPTMPL267294 VIA7 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL267296;
    NOT _EPTMPL267296 VIA_EXD ; // -outputlayer _EPTMPL267297
}
COPY VIA7 -outputlayer VCAP;
COPY M8 -outputlayer MCAP;
COPY M8x -outputlayer MCAPx;
COPY M7 -outputlayer MBOT;
COPY M7x -outputlayer MBOTx;
AND VCAP CTMDMY -outputlayer VCAP_CTMDMY;
SELECT -inside VCAP CTMDMY -outputlayer VCAP_ICTMDMY;
AND MCAP CTMDMY -outputlayer MCAP_CTMDMY;
AND MCAPx CTMDMY -outputlayer MCAPx_CTMDMY;
SELECT -outside -not MBOT CTMDMY -outputlayer MBOT_ICTMDMY;
SELECT -outside -not MBOTx CTMDMY -outputlayer MBOTx_ICTMDMY;
SELECT -outside -not MCAP CTMDMY -outputlayer MCAP_ICTMDMY;
SELECT -outside -not MCAPx CTMDMY -outputlayer MCAPx_ICTMDMY;
AND VCAP CTM -outputlayer VCAP_CTM;
AND VCAP CBM -outputlayer _EPTMPL267312;
NOT _EPTMPL267312 CTM -outputlayer VCAP_CBM;

RULE VIA7.EN.3 {
    CAPTION "Enclosure by CTM (cut is not allowed) >= 0.24";
    ENC VCAP_CTM CTM -lt "VIA7_EN_3" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267314
    SELECT -cut VCAP CTM ; // -outputlayer _EPTMPL267315
}

RULE VIA7.EN.4 {
    CAPTION "Enclosure by CBM (cut is not allowed) >= 0.2";
    ENC VCAP_CBM CBM -lt "VIA7_EN_4" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267316
    SELECT -cut VCAP CBM ; // -outputlayer _EPTMPL267317
}

RULE VIA7.S.3 {
    CAPTION "[VIA7 inside CBM but outside CTM] space to CTM >= 0.3";
    EXTE CTM VCAP_CBM -lt "VIA7_S_3" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267318
}

RULE VIA7.S.4 {
    CAPTION "Space of VIA7 inside CTM  >= 0.54";
    EXTE VCAP_CTM -lt "VIA7_S_4" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267319
}

RULE VIA7.S.5 {
    CAPTION "Space of VIA7 inside CBM >= 0.54";
    EXTE VCAP_CBM -lt "VIA7_S_5" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267320
}

RULE VIA7.R.7 {
    CAPTION "Single VIA7 for in a CTM or [CBM NOT CTM] or connect to [M7 (top Mx) layer inside a CTMDMY] is not allowed.";
    SELECT -enclose CTM VCAP -eq 1 ; // -outputlayer _EPTMPL267321
    SELECT -enclose CBM VCAP_CBM -eq 1 ; // -outputlayer _EPTMPL267322
    AND MCAP CTM -outputlayer _EPTMPL267323;
    SELECT -enclose _EPTMPL267323 VCAP -eq 1 ; // -outputlayer _EPTMPL267324
    AND MCAP CBM -outputlayer _EPTMPL267325;
    SELECT -enclose _EPTMPL267325 VCAP_CBM -eq 1 ; // -outputlayer _EPTMPL267326
    AND MCAP_ICTMDMY MBOT_ICTMDMY -outputlayer _EPTMPL267327;
    SELECT -enclose _EPTMPL267327 VCAP -eq 1 -outputlayer A;
    SELECT -interact VCAP_ICTMDMY A ; // -outputlayer _EPTMPL267329
}
SIZE M8 -by "M8_S_2_W/2" -underover -truncate "M8_S_2_W/2" -outputlayer _EPTMPL267330;
AND _EPTMPL267330 M8 -outputlayer M8Wide_1.5;
SIZE M8Wide_1.5 -by "M8_S_3_W/2" -underover -truncate "M8_S_3_W/2" -outputlayer _EPTMPL267332;
AND _EPTMPL267332 M8Wide_1.5 -outputlayer M8Wide_4.5;
NOT M8Wide_1.5 CB -outputlayer M81;
NOT M8Wide_4.5 CB -outputlayer M82;
AREA M8 -gt "M8_S_2_L*M8_W_1" -outputlayer M8nAS2;
AREA M8nAS2 -gt "M8_S_3_L*M8_W_1" -outputlayer M8nAS3;

RULE M8.W.1 {
    CAPTION "Width >= 0.4 um";
    INTE M8 -lt "M8_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267338
}

RULE M8.W.2 {
    CAPTION "Maximum width [except bond pad] <= 12 um";
    SIZE M8_MAX_WIDTH_M -by "M8_W_2/2" -underover -truncate "M8_W_2/2" ; // -outputlayer _EPTMPL267339
}

RULE M8.S.1 {
    CAPTION "Space >= 0.4 um";
    EXTE M8 -lt "M8_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267340
}

RULE M8.S.2 {
    CAPTION " Space [at least one metal line width > 1.5 um (W1) and the parallel metal run length > 1.5 um (L1)] >= 0.5";
    EXTE M81 M8nAS2 -lt "M8_S_2" -metric opposite -output region -measure all -outputlayer X;
    NOT X M8 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length M8_S_2_L+GRID ; // -outputlayer _EPTMPL267343
}

RULE M8.S.3 {
    CAPTION "Space [at least one metal line width > 4.5 um (W1) and the parallel metal run length > 4.5 um (L1)] >= 1.5";
    EXTE M82 M8nAS3 -lt "M8_S_3" -metric opposite -output region -measure all -outputlayer X;
    NOT X M8 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length M8_S_3_L+GRID ; // -outputlayer _EPTMPL267346
}

RULE M8.EN.1 {
    CAPTION "Enclosure of VIA7 >= 0.02";
    ENC VIA7 M8 -lt "M8_EN_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267347
    NOT VIA7 M8 ; // -outputlayer _EPTMPL267348
}

RULE M8.EN.2 {
    CAPTION "Enclosure of VIA7 [at least two opposite sides] >= 0.08";
    RECT_ENC VIA7 M8 -abut -lt 90 -single_point -good M8_EN_1 M8_EN_2 opposite M8_EN_1 M8_EN_2 opposite -outputlayer X;
    ENC X M8 -lt "M8_EN_2" -abut -lt 90 -metric opposite -output positive1 -outputlayer Y;
    EDGE_SELECT -coincident_only X Y -outputlayer Z;
    INTE Z -lt "VIA7_W_1" -abut -eq 90 -intersecting ONLY -output region ; // -outputlayer _EPTMPL267352
}

RULE M8.A.1 {
    CAPTION "Area >= 0.565 um2";
    AREA M8 -lt "M8_A_1" ; // -outputlayer _EPTMPL267353
}
variable M8_A_2pre " ((M8_A_2 + (M8_S_1 * M8_S_1 * 3.142))/(2 * M8_S_1))   *((M8_A_2 + (M8_S_1 * M8_S_1 * 3.142))/(2 * M8_S_1))/3.141 ";

RULE M8.A.2 {
    CAPTION "Enclosed area >= 0.565 um2";
    HOLES M8 -inner -lt "M8_A_2pre" -outputlayer X;
    NOT X M8 -outputlayer _EPTMPL267355;
    AREA _EPTMPL267355 -lt "M8_A_2" ; // -outputlayer _EPTMPL267356
}
OR M8_EXC WBDMY -outputlayer _EPTMPL267357;
OR _EPTMPL267357 CBMT2 -outputlayer M8DN1H_EXC;
COPY M8_EXC_LOW -outputlayer M8DN1L_EXC;

RULE M8.DN.1 {
    CAPTION "M8 local density must be >= 0.2 range over 75 um x 75 um step 37.5 um";
    NOT M8x M8DN1L_EXC -outputlayer M8_CHECK;
    NOT CHIP M8DN1L_EXC -outputlayer CHIP_CHECK;
    DENSITY M8_CHECK CHIP_CHECK -lt M8_DN_1L -window "M8_DN_1L_W" -step "M8_DN_1L_S" -inside_of layer CHIPx -backup -expr "  AREA(M8_CHECK)/AREA(CHIP_CHECK)  " -outputlayer ERR_WIN;
    NOT ERR_WIN M8DN1L_EXC -outputlayer _EPTMPL267363;
    WITH_WIDTH _EPTMPL267363 -ge "M8_DN_1L_E" -outputlayer F;
    DENSITY F M8_CHECK CHIP_CHECK -lt M8_DN_1L -window "M8_DN_1L_W" -step "M8_DN_1L_S" -inside_of layer CHIPx -backup -print "M8.DN.1.density" -expr "  ! AREA(F)+AREA(M8_CHECK)/AREA(CHIP_CHECK)  " ; // -outputlayer _EPTMPL267365
}

RULE M8.DN.1.1 {
    CAPTION "M8 local density must be <= 0.8 range over 100 um x 100 um step 50 um";
    NOT M8x M8DN1H_EXC -outputlayer M8_CHECK;
    NOT CHIP M8DN1H_EXC -outputlayer CHIP_CHECK;
    DENSITY M8_CHECK CHIP_CHECK -gt M8_DN_1H -window "M8_DN_1H_W" -step "M8_DN_1H_S" -inside_of layer CHIPx -backup -expr "  AREA(M8_CHECK)/AREA(CHIP_CHECK)  " -outputlayer ERR_WIN;
    NOT ERR_WIN M8DN1H_EXC -outputlayer _EPTMPL267369;
    WITH_WIDTH _EPTMPL267369 -ge "M8_DN_1H_E" -outputlayer F;
    DENSITY F M8_CHECK CHIP_CHECK -gt M8_DN_1H -window "M8_DN_1H_W" -step "M8_DN_1H_S" -inside_of layer CHIPx -backup -print "M8.DN.1.1.density" -expr "  !! AREA(F)*AREA(M8_CHECK)/AREA(CHIP_CHECK)  " ; // -outputlayer _EPTMPL267371
}
OR WBDMY IND_EXD -outputlayer _EPTMPL267372;
OR _EPTMPL267372 CBMT2 -outputlayer M8DN2_EXC;

RULE M8.DN.2 {
    CAPTION "M8 local density must be <= 0.9 range over 20 um x 20 um step 10 um";
    NOT M8x M8DN2_EXC -outputlayer M8_CHECK;
    DENSITY M8_CHECK CHIP -gt M8_DN_2 -window "M8_DN_2_W" -step "M8_DN_2_S" -inside_of layer CHIPx -backup -expr "  AREA(M8_CHECK)/AREA(CHIP)  " -outputlayer ERR_WIN;
    NOT ERR_WIN M8DN2_EXC -outputlayer _EPTMPL267376;
    WITH_WIDTH _EPTMPL267376 -ge "M8_DN_2_E" -outputlayer F;
    DENSITY F M8_CHECK CHIP -gt M8_DN_2 -window "M8_DN_2_W" -step "M8_DN_2_S" -inside_of layer CHIPx -backup -print "M8.DN.2.density" -expr "  !! AREA(F)*AREA(M8_CHECK)/AREA(CHIP)  " ; // -outputlayer _EPTMPL267378
}

RULE M8.DN.4 {
    CAPTION "The metal density difference between any two 250 um x 250 um neighboring checking windows including DM8EXCL <= 0.4";
    DENSITY M8x CHIP -le 1 -window "M8_DN_4_W" -backup -gradient -gt M8_DN_4 -corner -print "M8.DN.4.density" -expr "  AREA(M8x)/AREA(CHIP)  " ; // -outputlayer _EPTMPL267379
}

RULE M8.EN.3 {
    CAPTION "M8 enclosure of [VIA7 inside CTMDMY] >= 0.1";
    ENC VCAP_ICTMDMY MCAP_ICTMDMY -lt "M8_EN_3" -abut -lt 90 -outside_also -single_point -output region ; // -outputlayer _EPTMPL267380
}

RULE M8.DN.5:LW {
    CAPTION "Mz [1st metal above MIM capacitor connect to CTM or CBM] density [in window 200 um x 200 um, stepping 100 um] range inside a CTMDMY* [the overlapped area of {checking window AND CTMDMY} >= 2500 um2] DRC also flag: {CTMDMY NOT {Mz OR DMz}} [width and length >= 8 um] in the violated region >= 50%";
    NOT CTMDMY M8x -outputlayer _EPTMPL267381;
    WITH_WIDTH _EPTMPL267381 -ge 8 -outputlayer CTMDMY_CHECK;
    DENSITY MCAPx_CTMDMY CTMDMY CTMDMY_CHECK -lt M8_DN_5L -window "M8_DN_5L_W" -step "M8_DN_5L_S" -inside_of layer CHIPx -backup -print "M8.DN.5L.density" -expr "  ~(AREA(CTMDMY)-M8_DN_5L_E)*!!(AREA(CTMDMY)-M8_DN_5L_E) +AREA(MCAPx_CTMDMY)/AREA(CTMDMY) + ! AREA(CTMDMY_CHECK)  " -outputlayer A;
    COPY A ; // -outputlayer _EPTMPL267384
}

RULE M8.DN.5:LR {
    CAPTION "Mz [1st metal above MIM capacitor connect to CTM or CBM] density [in window 200 um x 200 um, stepping 100 um] range inside a CTMDMY* [the overlapped area of {checking window AND CTMDMY} >= 2500 um2] DRC also flag: {CTMDMY NOT {Mz OR DMz}} [width and length >= 8 um] in the violated region >= 50%";
    NOT CTMDMY M8x -outputlayer _EPTMPL267385;
    WITH_WIDTH _EPTMPL267385 -ge 8 -outputlayer CTMDMY_CHECK;
    DENSITY MCAPx_CTMDMY CTMDMY CTMDMY_CHECK -lt M8_DN_5L -window "M8_DN_5L_W" -step "M8_DN_5L_S" -inside_of layer CHIPx -backup -expr "  ~(AREA(CTMDMY)-M8_DN_5L_E)*!!(AREA(CTMDMY)-M8_DN_5L_E) +AREA(MCAPx_CTMDMY)/AREA(CTMDMY) + ! AREA(CTMDMY_CHECK)  " -outputlayer A;
    AND CTMDMY_CHECK A ; // -outputlayer _EPTMPL267388
}

RULE M8.DN.5:H {
    CAPTION "Mz [1st metal above MIM capacitor connect to CTM or CBM] density [in window 100 um x 100 um, stepping 50 um] range inside a CTMDMY* [the overlapped area of {checking window AND CTMDMY} >= 2500 um2] <= 80%";
    DENSITY MCAPx_CTMDMY CTMDMY -gt M8_DN_5H -window "M8_DN_5H_W" -step "M8_DN_5H_S" -inside_of layer CHIPx -backup -print "M8.DN.5H.density" -expr "  ! (~(AREA(CTMDMY)-M8_DN_5H_E)*!!(AREA(CTMDMY)-M8_DN_5H_E))*AREA(MCAPx_CTMDMY)/AREA(CTMDMY)  " ; // -outputlayer _EPTMPL267389
}

RULE M8.W.4 {
    CAPTION "Width of {M8 inside CTMDMY} >= 0.84";
    INTE MCAPx_ICTMDMY -lt "M8_W_4" -abut -lt 90 -single_point -output region -outputlayer A;
    SELECT -outside -not A CTMDMY ; // -outputlayer _EPTMPL267391
}

RULE M8.S.4 {
    CAPTION "Space of {M8 inside CTMDMY} >= 0.84";
    EXTE MCAPx_ICTMDMY -lt "M8_S_4" -abut -lt 90 -single_point -output region -outputlayer A;
    SELECT -outside -not A CTMDMY ; // -outputlayer _EPTMPL267393
}

RULE VIA8.W.1 {
    CAPTION "Width (maximum = minimum except for seal-ring and fuse protection ring) = 0.36";
    CAPTION "VIA8.R.1 45-degree rotated VIA is not allowed";
    RECT_CHK -not VIA8 -eq "VIA8_W_1" -by -eq "VIA8_W_1" -orthogonal_only -outputlayer A;
    NOT A VIA_EXD ; // -outputlayer _EPTMPL267395
}

RULE VIA8.W.2 {
    CAPTION "VIA8 bar width = 0.36 (VIA8 bar is covered by SEALRING layer and only allowed in seal-ring and fuse protecion ring)";
    INTE VIA8_BAR -lt "VIA8_W_2" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL267396
    WITH_WIDTH VIA8_BAR -gt "VIA8_W_2" -outputlayer A;
    ANGLE VIA8_BAR -eq 45 -outputlayer B;
    INTE B -lt "VIA8_W_2 + GRID" -output region -outputlayer C;
    NOT A C -outputlayer D;
    SELECT -enclose_rect D -width 2 -length 0.005 ; // -outputlayer _EPTMPL267401
}

RULE VIA8.S.1 {
    CAPTION " Space >= 0.34 um";
    EXTE VIA8 -lt "VIA8_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267402
}

RULE VIA8.S.2 {
    CAPTION "Space to 3-neighboring VIAz (<0.56 um distance) >= 0.54 um";
    SELECT -with_neighbor VIA8 -gt 2 -space -lt VIA8_S_2_S -outputlayer X;
    EXTE X VIA8 -lt "VIA8_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267404
}

RULE VIA8.EN.5 {
    CAPTION "VIA8(VIAu) enclosure by M8 >= 0.08 um";
    ENC VIA8 M8 -lt "VIA8_EN_5" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267405
    NOT VIA8 M8 ; // -outputlayer _EPTMPL267406
}
SIZE M9 -by "VIA8_R_2_W/2" -underover -truncate "VIA8_R_2_W/2" -outputlayer _EPTMPL267407;
AND _EPTMPL267407 M9 -outputlayer M9Wide_1.8_VIA8T;
SIZE M8 -by "VIA8_R_2_W/2" -underover -truncate "VIA8_R_2_W/2" -outputlayer _EPTMPL267409;
AND _EPTMPL267409 M8 -outputlayer M8Wide_1.8_VIA8T;
SIZE M9Wide_1.8_VIA8T -by "VIA8_R_3_W/2" -underover -truncate "VIA8_R_3_W/2" -outputlayer _EPTMPL267411;
AND _EPTMPL267411 M9Wide_1.8_VIA8T -outputlayer M9Wide_3_VIA8T;
SIZE M8Wide_1.8_VIA8T -by "VIA8_R_3_W/2" -underover -truncate "VIA8_R_3_W/2" -outputlayer _EPTMPL267413;
AND _EPTMPL267413 M8Wide_1.8_VIA8T -outputlayer M8Wide_3_VIA8T;

RULE VIA8.R.8 {
    CAPTION "At least two VIA8(VIAu) with space <= 1.7 um is required to connect M9(Mu) and M8(Mz or Mx).";
    AND M9 M8 -outputlayer M9OvpM8;
    SELECT -interact VIA8_EXD M9OvpM8 -outputlayer Check_VIA8;
    SIZE Check_VIA8 -by "VIA8_R_8_S/2" -inside_of M9OvpM8 -step "M8_S_1*0.7" -outputlayer VIA8Merge;
    SELECT -enclose VIA8Merge Check_VIA8 -ge 2 -outputlayer VIA8Merge2;
    AND Check_VIA8 VIA8Merge2 -outputlayer Good_VIA8;
    SELECT -interact M9OvpM8 Good_VIA8 -outputlayer GM9OvpM8;
    SELECT -outside Check_VIA8 GM9OvpM8 ; // -outputlayer _EPTMPL267421
}
SELECT -enclose_rect M8Wide_3_VIA8T -width VIA8_R_3_W -length VIA8_R_3_L+GRID -outputlayer M8Big_3_VIA8T;

RULE VIA8.R.3:M8 {
    CAPTION "At least two VIA8 must be used for a connection that is <= 5 um (D) away from a metal plate (either M8 or M9) with length > 10 um (L) and width > 3 um (W). (It is allowed to use one VIA8 for a connection that is > 5 um (D) away from a metal plate (either M8 or M9) with length> 10 um (L) and width > 3 um (W)).";
    SIZE M8Big_3_VIA8T -by "VIA8_R_3_D + GRID" -outputlayer _EPTMPL267423;
    NOT _EPTMPL267423 M8Big_3_VIA8T -outputlayer _EPTMPL267424;
    AND _EPTMPL267424 M8 -outputlayer Branch1;
    SELECT -interact Branch1 M8Big_3_VIA8T -outputlayer _EPTMPL267426;
    SELECT -interact _EPTMPL267426 VIA8 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M8Big_3_VIA8T Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA8_R_3_D" -inside_of Branch1HasVia -step "M8_S_1*0.7" -outputlayer Branch;
    AND Branch M9 -outputlayer _EPTMPL267431;
    SELECT -interact _EPTMPL267431 VIA8 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA8 Branch -outputlayer _EPTMPL267433;
    SELECT -outside _EPTMPL267433 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M9 BranchSingleVia -outputlayer _EPTMPL267435;
    AND _EPTMPL267435 M8 -outputlayer _EPTMPL267436;
    SELECT -interact _EPTMPL267436 BranchSingleVia -outputlayer _EPTMPL267437;
    SELECT -interact _EPTMPL267437 VIA8 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL267439;
    NOT _EPTMPL267439 VIA_EXD ; // -outputlayer _EPTMPL267440
}
SELECT -enclose_rect M9Wide_3_VIA8T -width VIA8_R_3_W -length VIA8_R_3_L+GRID -outputlayer M9Big_3_VIA8T;

RULE VIA8.R.3:M9 {
    CAPTION "At least two VIA8 must be used for a connection that is <= 5 um (D) away from a metal plate (either M8 or M9) with length > 10 um (L) and width > 3 um (W). (It is allowed to use one VIA8 for a connection that is > 5 um (D) away from a metal plate (either M8 or M9) with length> 10 um (L) and width > 3 um (W)).";
    SIZE M9Big_3_VIA8T -by "VIA8_R_3_D + GRID" -outputlayer _EPTMPL267442;
    NOT _EPTMPL267442 M9Big_3_VIA8T -outputlayer _EPTMPL267443;
    AND _EPTMPL267443 M9 -outputlayer Branch1;
    SELECT -interact Branch1 M9Big_3_VIA8T -outputlayer _EPTMPL267445;
    SELECT -interact _EPTMPL267445 VIA8 -outputlayer Branch1HasVia;
    EDGE_BOOLEAN -coincident_only -outside M9Big_3_VIA8T Branch1HasVia -outputlayer Branch1Edge;
    EDGE_EXPAND Branch1Edge -outside_by "GRID" -outputlayer Branch1Rec;
    SIZE Branch1Rec -by "VIA8_R_3_D" -inside_of Branch1HasVia -step "M9_S_1*0.7" -outputlayer Branch;
    AND Branch M8 -outputlayer _EPTMPL267450;
    SELECT -interact _EPTMPL267450 VIA8 -gt 1 -outputlayer GoodBranch;
    SELECT -outside -not VIA8 Branch -outputlayer _EPTMPL267452;
    SELECT -outside _EPTMPL267452 GoodBranch -outputlayer BranchSingleVia;
    SELECT -interact M8 BranchSingleVia -outputlayer _EPTMPL267454;
    AND _EPTMPL267454 M9 -outputlayer _EPTMPL267455;
    SELECT -interact _EPTMPL267455 BranchSingleVia -outputlayer _EPTMPL267456;
    SELECT -interact _EPTMPL267456 VIA8 -eq 1 -outputlayer Bad_Region;
    SELECT -interact BranchSingleVia Bad_Region -outputlayer _EPTMPL267458;
    NOT _EPTMPL267458 VIA_EXD ; // -outputlayer _EPTMPL267459
}

RULE M9.W.1 {
    CAPTION "Width >= 2 um.";
    INTE M9 -lt "M9_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267460
}

RULE M9.W.2 {
    CAPTION "Maximun width [except bond pad and inductor] <= 12 um.";
    SIZE M9_MAX_WIDTH_M -by "M9_W_2/2" -underover -truncate "M9_W_2/2" ; // -outputlayer _EPTMPL267461
}

RULE M9.S.1 {
    CAPTION "Space >= 2 um";
    EXTE M9 -lt "M9_S_1" -abut -lt 90 -single_point -output region -outputlayer A;
    AND M9 CSRDMY -outputlayer B;
    CONVEX_EDGE B -angle1 -eq 270 -angle2 -eq 225 -with_length -lt "M9_S_1" -outputlayer C;
    EXTE B -lt "M9_S_1" -abut -lt 90 -single_point -output region -notch only -outputlayer D;
    SELECT -with_edge D C -outputlayer E;
    NOT A E ; // -outputlayer _EPTMPL267467
}

RULE M9.EN.1 {
    CAPTION "Enclosure of VIA8 >= 0.3 um.";
    ENC VIA8 M9 -lt "M9_EN_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267468
    NOT VIA8 M9 ; // -outputlayer _EPTMPL267469
}

RULE M9.A.1 {
    CAPTION "Area >= 9 um2.";
    AREA M9 -lt "M9_A_1" ; // -outputlayer _EPTMPL267470
}

RULE M9.A.2 {
    CAPTION "Enclosed area >= 9 um2";
    HOLES M9 -inner -outputlayer UTMHO;
    NOT UTMHO M9 -outputlayer UTMHOC;
    AREA UTMHOC -lt "M9_A_2" ; // -outputlayer _EPTMPL267473
}

RULE M9.DN.1 {
    CAPTION "Min M9 metal density over the whole chip >= 0.2";
    DENSITY M9x CHIP -lt M9_DN_1L -inside_of layer CHIPx -print "M9.DN.1L.density" -expr "  AREA(M9x)/AREA(CHIP)  " ; // -outputlayer _EPTMPL267474
}

RULE M9.DN.1.1 {
    CAPTION "Max M9 metal density over the whole chip <= 0.7";
    DENSITY M9x CHIP -gt M9_DN_1H -inside_of layer CHIPx -print "M9.DN.1H.density" -expr "  AREA(M9x)/AREA(CHIP)  " ; // -outputlayer _EPTMPL267475
}
OR M9_EXC MTOP_EXC -outputlayer M9DN2H_EXC;
OR M9_EXC_LOW INDDMY_MD -outputlayer M9DN2L_EXC;

RULE M9.DN.2 {
    CAPTION "Min M9 density must be >= 0.2 range over any 75 um x 75 um area by step 37.5 um";
    NOT M9x M9DN2L_EXC -outputlayer M9_CHECK;
    NOT CHIP M9DN2L_EXC -outputlayer CHIP_CHECK;
    DENSITY M9_CHECK CHIP_CHECK -lt M9_DN_2L -window "M9_DN_2L_W" -step "M9_DN_2L_S" -inside_of layer CHIPx -backup -expr "  AREA(M9_CHECK)/AREA(CHIP_CHECK)  " -outputlayer ERR_WIN;
    NOT ERR_WIN M9DN2L_EXC -outputlayer _EPTMPL267481;
    WITH_WIDTH _EPTMPL267481 -ge "M9_DN_2L_E" -outputlayer F;
    DENSITY F M9_CHECK CHIP_CHECK -lt M9_DN_2L -window "M9_DN_2L_W" -step "M9_DN_2L_S" -inside_of layer CHIPx -backup -print "M9.DN.2L.density" -expr "  ! AREA(F)+AREA(M9_CHECK)/AREA(CHIP_CHECK)  " ; // -outputlayer _EPTMPL267483
}

RULE M9.DN.2.1 {
    CAPTION "Max M9 density must be <= 0.8 range over any 100 um x 100 um  area by step 50 um";
    NOT M9x M9DN2H_EXC -outputlayer M9_CHECK;
    NOT CHIP M9DN2H_EXC -outputlayer CHIP_CHECK;
    DENSITY M9_CHECK CHIP_CHECK -gt M9_DN_2H -window "M9_DN_2H_W" -step "M9_DN_2H_S" -inside_of layer CHIPx -backup -expr "  AREA(M9_CHECK)/AREA(CHIP_CHECK)  " -outputlayer ERR_WIN;
    NOT ERR_WIN M9DN2H_EXC -outputlayer _EPTMPL267487;
    WITH_WIDTH _EPTMPL267487 -ge "M9_DN_2H_E" -outputlayer F;
    DENSITY F M9_CHECK CHIP_CHECK -gt M9_DN_2H -window "M9_DN_2H_W" -step "M9_DN_2H_S" -inside_of layer CHIPx -backup -print "M9.DN.2H.density" -expr "  !! AREA(F)*AREA(M9_CHECK)/AREA(CHIP_CHECK)  " ; // -outputlayer _EPTMPL267489
}

RULE CTM.W.1 {
    CAPTION "Width >= 2 um";
    INTE CTM -lt "CTM_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267490
}

RULE CTM.W.2 {
    CAPTION "Maximum length and width <= 100 um";
    SELECT -enclose_rect CTM -width CTM_W_1 -length CTM_W_2+GRID -orthogonal_only ; // -outputlayer _EPTMPL267491
}

RULE CTM.S.1 {
    CAPTION "Space >= 0.8 um";
    EXTE CTM -lt "CTM_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267492
}

RULE CTM.EN.1 {
    CAPTION "Enclosure by CBM  >= 0.4 um (CTM must be fully inside CBM)";
    ENC CTM CBM -lt "CTM_EN_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267493
    NOT CTM CBM ; // -outputlayer _EPTMPL267494
}

RULE CTM.R.1 {
    CAPTION "The different unit capacitance can not co-exist on same product";
    SELECT -interact CHIPx CTMDMY_10 -outputlayer X;
    SELECT -interact X CTMDMY_15 ; // -outputlayer _EPTMPL267496
    SELECT -interact X CTMDMY_20 ; // -outputlayer _EPTMPL267497
    SELECT -interact CHIPx CTMDMY_15 -outputlayer Y;
    SELECT -interact Y CTMDMY_20 ; // -outputlayer _EPTMPL267499
}

RULE CTM.R.4 {
    CAPTION "Two metals connect to the CTM without the same connection is not allowed V";
    SELECT -interact CTM_m VCAP_CTM7_m -by_net -gt 1 ; // -outputlayer _EPTMPL267500
}

RULE CBM.W.1 {
    CAPTION "Width >= 2.8 um";
    INTE CBM -lt "CBM_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267501
}

RULE CBM.W.2 {
    CAPTION "Maximum length and width <= 210 um";
    SELECT -enclose_rect CBM -width CBM_W_1 -length CBM_W_2+GRID -orthogonal_only ; // -outputlayer _EPTMPL267502
}

RULE CBM.S.1 {
    CAPTION "Space (For CTMDMY area <= 40000 um2) >= 2 um";
    AREA CTMDMY -le "CBM_S_1_A" -outputlayer CTMDMY_S;
    AND CBM CTMDMY_S -outputlayer CBM_S;
    EXTE CBM_S -lt "CBM_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267505
}

RULE CBM.S.2 {
    CAPTION "Space (For CTMDMY area > 40000 um2)  >= 2.6 um";
    AREA CTMDMY -gt "CBM_S_2_A" -outputlayer CTMDMY_W;
    AND CBM CTMDMY_W -outputlayer CBM_W;
    EXTE CBM_W -lt "CBM_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267508
}

RULE CBM.S.3 {
    CAPTION "Space to the top Mx (M7) >= 0.5 um.";
    EXTE MBOT CBM -lt "CBM_S_3" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267509
}

RULE CBM.EN.2 {
    CAPTION "CTMDMY is equal to CBM layer sizing up 10 um for each side.";
    CAPTION "DRC checking layer(CTMDMY,GDS layer 148) is needed to specify MiM capacitor region.";
    SIZE CBM -by "CBM_EN_2" -outputlayer A;
    XOR A CTMDMY ; // -outputlayer _EPTMPL267511
    SELECT -interact CTMDMY CTMDMY_10 -outputlayer _EPTMPL267512;
    XOR _EPTMPL267512 CTMDMY_10 ; // -outputlayer _EPTMPL267513
    SELECT -interact CTMDMY CTMDMY_15 -outputlayer _EPTMPL267514;
    XOR _EPTMPL267514 CTMDMY_15 ; // -outputlayer _EPTMPL267515
    SELECT -interact CTMDMY CTMDMY_20 -outputlayer _EPTMPL267516;
    XOR _EPTMPL267516 CTMDMY_20 ; // -outputlayer _EPTMPL267517
}

RULE CBM.R.1 {
    CAPTION "The top Mx (M7) layer (including the top dummy Mx) interacting with CBM is not allowed.";
    AND MBOTx CBM ; // -outputlayer _EPTMPL267518
}

RULE CBM.R.4 {
    CAPTION "Two metals connect to the CBM without the same connection is not allowed V";
    SELECT -interact CBM_m VCAP_CBM7_m -by_net -gt 1 ; // -outputlayer _EPTMPL267519
}
variable m1_thickness 0.18;
variable m2_thickness 0.22;
variable v1_thickness 0.175;
variable m3_thickness 0.22;
variable v2_thickness 0.175;
variable m4_thickness 0.22;
variable v3_thickness 0.175;
variable m5_thickness 0.22;
variable v4_thickness 0.175;
variable m6_thickness 0.22;
variable v5_thickness 0.175;
variable m7_thickness 0.22;
variable v6_thickness 0.175;
variable m8_thickness 0.9;
variable v7_thickness 0.595;
variable m9_thickness 3.4;
variable v8_thickness 0.595;
variable ap_thickness 1.45;
variable rv_thickness 0.8;
COPY CHIPx -outputlayer CHIP_MOM;
AND MOMDMY_1 M1 -outputlayer MOM_M1;
EDGE_BOOLEAN -coincident_only -inside M1 MOM_M1 -outputlayer MOM_M1_EDGE;
CONVEX_EDGE MOM_M1_EDGE -angle1 -eq 90 -angle2 -eq 90 -outputlayer MOM_M1_LINE_END;
EDGE_BOOLEAN -coincident_only -inside -not MOM_M1_EDGE MOM_M1_LINE_END -outputlayer MOM_M1_SIDE_EDGE;
EDGE_SELECT -coincident_only -inside M1i MOM_M1_SIDE_EDGE -outputlayer MOM_M1_SIDE_EDGE_FULL;
EDGE_SELECT -coincident_only -outside -not MOMDMY_1 M1 -outputlayer _EPTMPL267526;
EDGE_EXPAND _EPTMPL267526 -outside_by "GRID" -corner_fill -outputlayer MOM_M1_SPACE_pre;
OR MOMDMY_1 MOM_M1_SPACE_pre -outputlayer _EPTMPL267528;
NOT _EPTMPL267528 M1 -outputlayer MOM_M1_SPACE;
CONVEX_EDGE MOM_M1_SPACE -angle1 -eq 90 -angle2 -eq 90 -outputlayer MOM_M1_SPACE_90_90;
CONVEX_EDGE MOM_M1_SPACE_90_90 -angle1 -eq 90 -angle2 -eq 90 -outputlayer MOM_M1_SPACE_90_90_1;
CONVEX_EDGE MOM_M1_SPACE_90_90 -angle1 -eq 90 -angle2 -eq 0 -outputlayer MOM_M1_SPACE_90_90_2;
ENC MOM_M1_SIDE_EDGE_FULL MOM_M1_SPACE_90_90_2 -lt "GRID" -abut -eq 90 -intersecting only -output positive1 -outputlayer _EPTMPL267533;
EDGE_SELECT -coincident_only -inside MOM_M1_SIDE_EDGE_FULL _EPTMPL267533 -outputlayer _EPTMPL267534;
EDGE_BOOLEAN -coincident_only -inside MOM_M1_SIDE_EDGE _EPTMPL267534 -outputlayer LAST_M1_METAL_EDGE_pre;
OR_EDGE MOM_M1_SPACE_90_90_1 MOM_M1_SPACE_90_90_2 -outputlayer _EPTMPL267536;
EDGE_EXPAND _EPTMPL267536 -inside_by "GRID" -outputlayer _EPTMPL267537;
BBOX _EPTMPL267537 -outputlayer _EPTMPL267538;
EDGE_BOOLEAN -inside LAST_M1_METAL_EDGE_pre _EPTMPL267538 -outputlayer LAST_M1_METAL_EDGE;
EDGE_BOOLEAN -coincident_only -not MOM_M1_SPACE_90_90 MOM_M1_SPACE_90_90_1 -outputlayer MOM_M1_SPACE_90_90_3;
CONVEX_EDGE MOM_M1_SPACE -angle1 -eq 90 -angle2 -eq 270 -outputlayer MOM_M1_SPACE_90_270;
OR_EDGE MOM_M1_SPACE_90_90_3 MOM_M1_SPACE_90_270 -outputlayer _EPTMPL267542;
EDGE_EXPAND _EPTMPL267542 -inside_by "GRID" -outputlayer _EPTMPL267543;
BBOX _EPTMPL267543 -outputlayer _EPTMPL267544;
EDGE_BOOLEAN -inside MOM_M1_SIDE_EDGE _EPTMPL267544 -outputlayer MOM_M1_METAL;
EDGE_BOOLEAN -coincident_only -not MOM_M1_METAL LAST_M1_METAL_EDGE -outputlayer MOM_M1_CAP_EDGE;
AND MOMDMY_2 M2 -outputlayer MOM_M2;
EDGE_BOOLEAN -coincident_only -inside M2 MOM_M2 -outputlayer MOM_M2_EDGE;
CONVEX_EDGE MOM_M2_EDGE -angle1 -eq 90 -angle2 -eq 90 -outputlayer MOM_M2_LINE_END;
EDGE_BOOLEAN -coincident_only -inside -not MOM_M2_EDGE MOM_M2_LINE_END -outputlayer MOM_M2_SIDE_EDGE;
EDGE_SELECT -coincident_only -inside M2i MOM_M2_SIDE_EDGE -outputlayer MOM_M2_SIDE_EDGE_FULL;
EDGE_SELECT -coincident_only -outside -not MOMDMY_2 M2 -outputlayer _EPTMPL267552;
EDGE_EXPAND _EPTMPL267552 -outside_by "GRID" -corner_fill -outputlayer MOM_M2_SPACE_pre;
OR MOMDMY_2 MOM_M2_SPACE_pre -outputlayer _EPTMPL267554;
NOT _EPTMPL267554 M2 -outputlayer MOM_M2_SPACE;
CONVEX_EDGE MOM_M2_SPACE -angle1 -eq 90 -angle2 -eq 90 -outputlayer MOM_M2_SPACE_90_90;
CONVEX_EDGE MOM_M2_SPACE_90_90 -angle1 -eq 90 -angle2 -eq 90 -outputlayer MOM_M2_SPACE_90_90_1;
CONVEX_EDGE MOM_M2_SPACE_90_90 -angle1 -eq 90 -angle2 -eq 0 -outputlayer MOM_M2_SPACE_90_90_2;
ENC MOM_M2_SIDE_EDGE_FULL MOM_M2_SPACE_90_90_2 -lt "GRID" -abut -eq 90 -intersecting only -output positive1 -outputlayer _EPTMPL267559;
EDGE_SELECT -coincident_only -inside MOM_M2_SIDE_EDGE_FULL _EPTMPL267559 -outputlayer _EPTMPL267560;
EDGE_BOOLEAN -coincident_only -inside MOM_M2_SIDE_EDGE _EPTMPL267560 -outputlayer LAST_M2_METAL_EDGE_pre;
OR_EDGE MOM_M2_SPACE_90_90_1 MOM_M2_SPACE_90_90_2 -outputlayer _EPTMPL267562;
EDGE_EXPAND _EPTMPL267562 -inside_by "GRID" -outputlayer _EPTMPL267563;
BBOX _EPTMPL267563 -outputlayer _EPTMPL267564;
EDGE_BOOLEAN -inside LAST_M2_METAL_EDGE_pre _EPTMPL267564 -outputlayer LAST_M2_METAL_EDGE;
EDGE_BOOLEAN -coincident_only -not MOM_M2_SPACE_90_90 MOM_M2_SPACE_90_90_1 -outputlayer MOM_M2_SPACE_90_90_3;
CONVEX_EDGE MOM_M2_SPACE -angle1 -eq 90 -angle2 -eq 270 -outputlayer MOM_M2_SPACE_90_270;
OR_EDGE MOM_M2_SPACE_90_90_3 MOM_M2_SPACE_90_270 -outputlayer _EPTMPL267568;
EDGE_EXPAND _EPTMPL267568 -inside_by "GRID" -outputlayer _EPTMPL267569;
BBOX _EPTMPL267569 -outputlayer _EPTMPL267570;
EDGE_BOOLEAN -inside MOM_M2_SIDE_EDGE _EPTMPL267570 -outputlayer MOM_M2_METAL;
EDGE_BOOLEAN -coincident_only -not MOM_M2_METAL LAST_M2_METAL_EDGE -outputlayer MOM_M2_CAP_EDGE;
AND MOMDMY_3 M3 -outputlayer MOM_M3;
EDGE_BOOLEAN -coincident_only -inside M3 MOM_M3 -outputlayer MOM_M3_EDGE;
CONVEX_EDGE MOM_M3_EDGE -angle1 -eq 90 -angle2 -eq 90 -outputlayer MOM_M3_LINE_END;
EDGE_BOOLEAN -coincident_only -inside -not MOM_M3_EDGE MOM_M3_LINE_END -outputlayer MOM_M3_SIDE_EDGE;
EDGE_SELECT -coincident_only -inside M3i MOM_M3_SIDE_EDGE -outputlayer MOM_M3_SIDE_EDGE_FULL;
EDGE_SELECT -coincident_only -outside -not MOMDMY_3 M3 -outputlayer _EPTMPL267578;
EDGE_EXPAND _EPTMPL267578 -outside_by "GRID" -corner_fill -outputlayer MOM_M3_SPACE_pre;
OR MOMDMY_3 MOM_M3_SPACE_pre -outputlayer _EPTMPL267580;
NOT _EPTMPL267580 M3 -outputlayer MOM_M3_SPACE;
CONVEX_EDGE MOM_M3_SPACE -angle1 -eq 90 -angle2 -eq 90 -outputlayer MOM_M3_SPACE_90_90;
CONVEX_EDGE MOM_M3_SPACE_90_90 -angle1 -eq 90 -angle2 -eq 90 -outputlayer MOM_M3_SPACE_90_90_1;
CONVEX_EDGE MOM_M3_SPACE_90_90 -angle1 -eq 90 -angle2 -eq 0 -outputlayer MOM_M3_SPACE_90_90_2;
ENC MOM_M3_SIDE_EDGE_FULL MOM_M3_SPACE_90_90_2 -lt "GRID" -abut -eq 90 -intersecting only -output positive1 -outputlayer _EPTMPL267585;
EDGE_SELECT -coincident_only -inside MOM_M3_SIDE_EDGE_FULL _EPTMPL267585 -outputlayer _EPTMPL267586;
EDGE_BOOLEAN -coincident_only -inside MOM_M3_SIDE_EDGE _EPTMPL267586 -outputlayer LAST_M3_METAL_EDGE_pre;
OR_EDGE MOM_M3_SPACE_90_90_1 MOM_M3_SPACE_90_90_2 -outputlayer _EPTMPL267588;
EDGE_EXPAND _EPTMPL267588 -inside_by "GRID" -outputlayer _EPTMPL267589;
BBOX _EPTMPL267589 -outputlayer _EPTMPL267590;
EDGE_BOOLEAN -inside LAST_M3_METAL_EDGE_pre _EPTMPL267590 -outputlayer LAST_M3_METAL_EDGE;
EDGE_BOOLEAN -coincident_only -not MOM_M3_SPACE_90_90 MOM_M3_SPACE_90_90_1 -outputlayer MOM_M3_SPACE_90_90_3;
CONVEX_EDGE MOM_M3_SPACE -angle1 -eq 90 -angle2 -eq 270 -outputlayer MOM_M3_SPACE_90_270;
OR_EDGE MOM_M3_SPACE_90_90_3 MOM_M3_SPACE_90_270 -outputlayer _EPTMPL267594;
EDGE_EXPAND _EPTMPL267594 -inside_by "GRID" -outputlayer _EPTMPL267595;
BBOX _EPTMPL267595 -outputlayer _EPTMPL267596;
EDGE_BOOLEAN -inside MOM_M3_SIDE_EDGE _EPTMPL267596 -outputlayer MOM_M3_METAL;
EDGE_BOOLEAN -coincident_only -not MOM_M3_METAL LAST_M3_METAL_EDGE -outputlayer MOM_M3_CAP_EDGE;
AND MOMDMY_4 M4 -outputlayer MOM_M4;
EDGE_BOOLEAN -coincident_only -inside M4 MOM_M4 -outputlayer MOM_M4_EDGE;
CONVEX_EDGE MOM_M4_EDGE -angle1 -eq 90 -angle2 -eq 90 -outputlayer MOM_M4_LINE_END;
EDGE_BOOLEAN -coincident_only -inside -not MOM_M4_EDGE MOM_M4_LINE_END -outputlayer MOM_M4_SIDE_EDGE;
EDGE_SELECT -coincident_only -inside M4i MOM_M4_SIDE_EDGE -outputlayer MOM_M4_SIDE_EDGE_FULL;
EDGE_SELECT -coincident_only -outside -not MOMDMY_4 M4 -outputlayer _EPTMPL267604;
EDGE_EXPAND _EPTMPL267604 -outside_by "GRID" -corner_fill -outputlayer MOM_M4_SPACE_pre;
OR MOMDMY_4 MOM_M4_SPACE_pre -outputlayer _EPTMPL267606;
NOT _EPTMPL267606 M4 -outputlayer MOM_M4_SPACE;
CONVEX_EDGE MOM_M4_SPACE -angle1 -eq 90 -angle2 -eq 90 -outputlayer MOM_M4_SPACE_90_90;
CONVEX_EDGE MOM_M4_SPACE_90_90 -angle1 -eq 90 -angle2 -eq 90 -outputlayer MOM_M4_SPACE_90_90_1;
CONVEX_EDGE MOM_M4_SPACE_90_90 -angle1 -eq 90 -angle2 -eq 0 -outputlayer MOM_M4_SPACE_90_90_2;
ENC MOM_M4_SIDE_EDGE_FULL MOM_M4_SPACE_90_90_2 -lt "GRID" -abut -eq 90 -intersecting only -output positive1 -outputlayer _EPTMPL267611;
EDGE_SELECT -coincident_only -inside MOM_M4_SIDE_EDGE_FULL _EPTMPL267611 -outputlayer _EPTMPL267612;
EDGE_BOOLEAN -coincident_only -inside MOM_M4_SIDE_EDGE _EPTMPL267612 -outputlayer LAST_M4_METAL_EDGE_pre;
OR_EDGE MOM_M4_SPACE_90_90_1 MOM_M4_SPACE_90_90_2 -outputlayer _EPTMPL267614;
EDGE_EXPAND _EPTMPL267614 -inside_by "GRID" -outputlayer _EPTMPL267615;
BBOX _EPTMPL267615 -outputlayer _EPTMPL267616;
EDGE_BOOLEAN -inside LAST_M4_METAL_EDGE_pre _EPTMPL267616 -outputlayer LAST_M4_METAL_EDGE;
EDGE_BOOLEAN -coincident_only -not MOM_M4_SPACE_90_90 MOM_M4_SPACE_90_90_1 -outputlayer MOM_M4_SPACE_90_90_3;
CONVEX_EDGE MOM_M4_SPACE -angle1 -eq 90 -angle2 -eq 270 -outputlayer MOM_M4_SPACE_90_270;
OR_EDGE MOM_M4_SPACE_90_90_3 MOM_M4_SPACE_90_270 -outputlayer _EPTMPL267620;
EDGE_EXPAND _EPTMPL267620 -inside_by "GRID" -outputlayer _EPTMPL267621;
BBOX _EPTMPL267621 -outputlayer _EPTMPL267622;
EDGE_BOOLEAN -inside MOM_M4_SIDE_EDGE _EPTMPL267622 -outputlayer MOM_M4_METAL;
EDGE_BOOLEAN -coincident_only -not MOM_M4_METAL LAST_M4_METAL_EDGE -outputlayer MOM_M4_CAP_EDGE;
AND MOMDMY_5 M5 -outputlayer MOM_M5;
EDGE_BOOLEAN -coincident_only -inside M5 MOM_M5 -outputlayer MOM_M5_EDGE;
CONVEX_EDGE MOM_M5_EDGE -angle1 -eq 90 -angle2 -eq 90 -outputlayer MOM_M5_LINE_END;
EDGE_BOOLEAN -coincident_only -inside -not MOM_M5_EDGE MOM_M5_LINE_END -outputlayer MOM_M5_SIDE_EDGE;
EDGE_SELECT -coincident_only -inside M5i MOM_M5_SIDE_EDGE -outputlayer MOM_M5_SIDE_EDGE_FULL;
EDGE_SELECT -coincident_only -outside -not MOMDMY_5 M5 -outputlayer _EPTMPL267630;
EDGE_EXPAND _EPTMPL267630 -outside_by "GRID" -corner_fill -outputlayer MOM_M5_SPACE_pre;
OR MOMDMY_5 MOM_M5_SPACE_pre -outputlayer _EPTMPL267632;
NOT _EPTMPL267632 M5 -outputlayer MOM_M5_SPACE;
CONVEX_EDGE MOM_M5_SPACE -angle1 -eq 90 -angle2 -eq 90 -outputlayer MOM_M5_SPACE_90_90;
CONVEX_EDGE MOM_M5_SPACE_90_90 -angle1 -eq 90 -angle2 -eq 90 -outputlayer MOM_M5_SPACE_90_90_1;
CONVEX_EDGE MOM_M5_SPACE_90_90 -angle1 -eq 90 -angle2 -eq 0 -outputlayer MOM_M5_SPACE_90_90_2;
ENC MOM_M5_SIDE_EDGE_FULL MOM_M5_SPACE_90_90_2 -lt "GRID" -abut -eq 90 -intersecting only -output positive1 -outputlayer _EPTMPL267637;
EDGE_SELECT -coincident_only -inside MOM_M5_SIDE_EDGE_FULL _EPTMPL267637 -outputlayer _EPTMPL267638;
EDGE_BOOLEAN -coincident_only -inside MOM_M5_SIDE_EDGE _EPTMPL267638 -outputlayer LAST_M5_METAL_EDGE_pre;
OR_EDGE MOM_M5_SPACE_90_90_1 MOM_M5_SPACE_90_90_2 -outputlayer _EPTMPL267640;
EDGE_EXPAND _EPTMPL267640 -inside_by "GRID" -outputlayer _EPTMPL267641;
BBOX _EPTMPL267641 -outputlayer _EPTMPL267642;
EDGE_BOOLEAN -inside LAST_M5_METAL_EDGE_pre _EPTMPL267642 -outputlayer LAST_M5_METAL_EDGE;
EDGE_BOOLEAN -coincident_only -not MOM_M5_SPACE_90_90 MOM_M5_SPACE_90_90_1 -outputlayer MOM_M5_SPACE_90_90_3;
CONVEX_EDGE MOM_M5_SPACE -angle1 -eq 90 -angle2 -eq 270 -outputlayer MOM_M5_SPACE_90_270;
OR_EDGE MOM_M5_SPACE_90_90_3 MOM_M5_SPACE_90_270 -outputlayer _EPTMPL267646;
EDGE_EXPAND _EPTMPL267646 -inside_by "GRID" -outputlayer _EPTMPL267647;
BBOX _EPTMPL267647 -outputlayer _EPTMPL267648;
EDGE_BOOLEAN -inside MOM_M5_SIDE_EDGE _EPTMPL267648 -outputlayer MOM_M5_METAL;
EDGE_BOOLEAN -coincident_only -not MOM_M5_METAL LAST_M5_METAL_EDGE -outputlayer MOM_M5_CAP_EDGE;
AND MOMDMY_6 M6 -outputlayer MOM_M6;
EDGE_BOOLEAN -coincident_only -inside M6 MOM_M6 -outputlayer MOM_M6_EDGE;
CONVEX_EDGE MOM_M6_EDGE -angle1 -eq 90 -angle2 -eq 90 -outputlayer MOM_M6_LINE_END;
EDGE_BOOLEAN -coincident_only -inside -not MOM_M6_EDGE MOM_M6_LINE_END -outputlayer MOM_M6_SIDE_EDGE;
EDGE_SELECT -coincident_only -inside M6i MOM_M6_SIDE_EDGE -outputlayer MOM_M6_SIDE_EDGE_FULL;
EDGE_SELECT -coincident_only -outside -not MOMDMY_6 M6 -outputlayer _EPTMPL267656;
EDGE_EXPAND _EPTMPL267656 -outside_by "GRID" -corner_fill -outputlayer MOM_M6_SPACE_pre;
OR MOMDMY_6 MOM_M6_SPACE_pre -outputlayer _EPTMPL267658;
NOT _EPTMPL267658 M6 -outputlayer MOM_M6_SPACE;
CONVEX_EDGE MOM_M6_SPACE -angle1 -eq 90 -angle2 -eq 90 -outputlayer MOM_M6_SPACE_90_90;
CONVEX_EDGE MOM_M6_SPACE_90_90 -angle1 -eq 90 -angle2 -eq 90 -outputlayer MOM_M6_SPACE_90_90_1;
CONVEX_EDGE MOM_M6_SPACE_90_90 -angle1 -eq 90 -angle2 -eq 0 -outputlayer MOM_M6_SPACE_90_90_2;
ENC MOM_M6_SIDE_EDGE_FULL MOM_M6_SPACE_90_90_2 -lt "GRID" -abut -eq 90 -intersecting only -output positive1 -outputlayer _EPTMPL267663;
EDGE_SELECT -coincident_only -inside MOM_M6_SIDE_EDGE_FULL _EPTMPL267663 -outputlayer _EPTMPL267664;
EDGE_BOOLEAN -coincident_only -inside MOM_M6_SIDE_EDGE _EPTMPL267664 -outputlayer LAST_M6_METAL_EDGE_pre;
OR_EDGE MOM_M6_SPACE_90_90_1 MOM_M6_SPACE_90_90_2 -outputlayer _EPTMPL267666;
EDGE_EXPAND _EPTMPL267666 -inside_by "GRID" -outputlayer _EPTMPL267667;
BBOX _EPTMPL267667 -outputlayer _EPTMPL267668;
EDGE_BOOLEAN -inside LAST_M6_METAL_EDGE_pre _EPTMPL267668 -outputlayer LAST_M6_METAL_EDGE;
EDGE_BOOLEAN -coincident_only -not MOM_M6_SPACE_90_90 MOM_M6_SPACE_90_90_1 -outputlayer MOM_M6_SPACE_90_90_3;
CONVEX_EDGE MOM_M6_SPACE -angle1 -eq 90 -angle2 -eq 270 -outputlayer MOM_M6_SPACE_90_270;
OR_EDGE MOM_M6_SPACE_90_90_3 MOM_M6_SPACE_90_270 -outputlayer _EPTMPL267672;
EDGE_EXPAND _EPTMPL267672 -inside_by "GRID" -outputlayer _EPTMPL267673;
BBOX _EPTMPL267673 -outputlayer _EPTMPL267674;
EDGE_BOOLEAN -inside MOM_M6_SIDE_EDGE _EPTMPL267674 -outputlayer MOM_M6_METAL;
EDGE_BOOLEAN -coincident_only -not MOM_M6_METAL LAST_M6_METAL_EDGE -outputlayer MOM_M6_CAP_EDGE;
AND MOMDMY_7 M7 -outputlayer MOM_M7;
EDGE_BOOLEAN -coincident_only -inside M7 MOM_M7 -outputlayer MOM_M7_EDGE;
CONVEX_EDGE MOM_M7_EDGE -angle1 -eq 90 -angle2 -eq 90 -outputlayer MOM_M7_LINE_END;
EDGE_BOOLEAN -coincident_only -inside -not MOM_M7_EDGE MOM_M7_LINE_END -outputlayer MOM_M7_SIDE_EDGE;
EDGE_SELECT -coincident_only -inside M7i MOM_M7_SIDE_EDGE -outputlayer MOM_M7_SIDE_EDGE_FULL;
EDGE_SELECT -coincident_only -outside -not MOMDMY_7 M7 -outputlayer _EPTMPL267682;
EDGE_EXPAND _EPTMPL267682 -outside_by "GRID" -corner_fill -outputlayer MOM_M7_SPACE_pre;
OR MOMDMY_7 MOM_M7_SPACE_pre -outputlayer _EPTMPL267684;
NOT _EPTMPL267684 M7 -outputlayer MOM_M7_SPACE;
CONVEX_EDGE MOM_M7_SPACE -angle1 -eq 90 -angle2 -eq 90 -outputlayer MOM_M7_SPACE_90_90;
CONVEX_EDGE MOM_M7_SPACE_90_90 -angle1 -eq 90 -angle2 -eq 90 -outputlayer MOM_M7_SPACE_90_90_1;
CONVEX_EDGE MOM_M7_SPACE_90_90 -angle1 -eq 90 -angle2 -eq 0 -outputlayer MOM_M7_SPACE_90_90_2;
ENC MOM_M7_SIDE_EDGE_FULL MOM_M7_SPACE_90_90_2 -lt "GRID" -abut -eq 90 -intersecting only -output positive1 -outputlayer _EPTMPL267689;
EDGE_SELECT -coincident_only -inside MOM_M7_SIDE_EDGE_FULL _EPTMPL267689 -outputlayer _EPTMPL267690;
EDGE_BOOLEAN -coincident_only -inside MOM_M7_SIDE_EDGE _EPTMPL267690 -outputlayer LAST_M7_METAL_EDGE_pre;
OR_EDGE MOM_M7_SPACE_90_90_1 MOM_M7_SPACE_90_90_2 -outputlayer _EPTMPL267692;
EDGE_EXPAND _EPTMPL267692 -inside_by "GRID" -outputlayer _EPTMPL267693;
BBOX _EPTMPL267693 -outputlayer _EPTMPL267694;
EDGE_BOOLEAN -inside LAST_M7_METAL_EDGE_pre _EPTMPL267694 -outputlayer LAST_M7_METAL_EDGE;
EDGE_BOOLEAN -coincident_only -not MOM_M7_SPACE_90_90 MOM_M7_SPACE_90_90_1 -outputlayer MOM_M7_SPACE_90_90_3;
CONVEX_EDGE MOM_M7_SPACE -angle1 -eq 90 -angle2 -eq 270 -outputlayer MOM_M7_SPACE_90_270;
OR_EDGE MOM_M7_SPACE_90_90_3 MOM_M7_SPACE_90_270 -outputlayer _EPTMPL267698;
EDGE_EXPAND _EPTMPL267698 -inside_by "GRID" -outputlayer _EPTMPL267699;
BBOX _EPTMPL267699 -outputlayer _EPTMPL267700;
EDGE_BOOLEAN -inside MOM_M7_SIDE_EDGE _EPTMPL267700 -outputlayer MOM_M7_METAL;
EDGE_BOOLEAN -coincident_only -not MOM_M7_METAL LAST_M7_METAL_EDGE -outputlayer MOM_M7_CAP_EDGE;
AND MOMDMY_8 M8 -outputlayer MOM_M8;
EDGE_BOOLEAN -coincident_only -inside M8 MOM_M8 -outputlayer MOM_M8_EDGE;
CONVEX_EDGE MOM_M8_EDGE -angle1 -eq 90 -angle2 -eq 90 -outputlayer MOM_M8_LINE_END;
EDGE_BOOLEAN -coincident_only -inside -not MOM_M8_EDGE MOM_M8_LINE_END -outputlayer MOM_M8_SIDE_EDGE;
EDGE_SELECT -coincident_only -inside M8i MOM_M8_SIDE_EDGE -outputlayer MOM_M8_SIDE_EDGE_FULL;
EDGE_SELECT -coincident_only -outside -not MOMDMY_8 M8 -outputlayer _EPTMPL267708;
EDGE_EXPAND _EPTMPL267708 -outside_by "GRID" -corner_fill -outputlayer MOM_M8_SPACE_pre;
OR MOMDMY_8 MOM_M8_SPACE_pre -outputlayer _EPTMPL267710;
NOT _EPTMPL267710 M8 -outputlayer MOM_M8_SPACE;
CONVEX_EDGE MOM_M8_SPACE -angle1 -eq 90 -angle2 -eq 90 -outputlayer MOM_M8_SPACE_90_90;
CONVEX_EDGE MOM_M8_SPACE_90_90 -angle1 -eq 90 -angle2 -eq 90 -outputlayer MOM_M8_SPACE_90_90_1;
CONVEX_EDGE MOM_M8_SPACE_90_90 -angle1 -eq 90 -angle2 -eq 0 -outputlayer MOM_M8_SPACE_90_90_2;
ENC MOM_M8_SIDE_EDGE_FULL MOM_M8_SPACE_90_90_2 -lt "GRID" -abut -eq 90 -intersecting only -output positive1 -outputlayer _EPTMPL267715;
EDGE_SELECT -coincident_only -inside MOM_M8_SIDE_EDGE_FULL _EPTMPL267715 -outputlayer _EPTMPL267716;
EDGE_BOOLEAN -coincident_only -inside MOM_M8_SIDE_EDGE _EPTMPL267716 -outputlayer LAST_M8_METAL_EDGE_pre;
OR_EDGE MOM_M8_SPACE_90_90_1 MOM_M8_SPACE_90_90_2 -outputlayer _EPTMPL267718;
EDGE_EXPAND _EPTMPL267718 -inside_by "GRID" -outputlayer _EPTMPL267719;
BBOX _EPTMPL267719 -outputlayer _EPTMPL267720;
EDGE_BOOLEAN -inside LAST_M8_METAL_EDGE_pre _EPTMPL267720 -outputlayer LAST_M8_METAL_EDGE;
EDGE_BOOLEAN -coincident_only -not MOM_M8_SPACE_90_90 MOM_M8_SPACE_90_90_1 -outputlayer MOM_M8_SPACE_90_90_3;
CONVEX_EDGE MOM_M8_SPACE -angle1 -eq 90 -angle2 -eq 270 -outputlayer MOM_M8_SPACE_90_270;
OR_EDGE MOM_M8_SPACE_90_90_3 MOM_M8_SPACE_90_270 -outputlayer _EPTMPL267724;
EDGE_EXPAND _EPTMPL267724 -inside_by "GRID" -outputlayer _EPTMPL267725;
BBOX _EPTMPL267725 -outputlayer _EPTMPL267726;
EDGE_BOOLEAN -inside MOM_M8_SIDE_EDGE _EPTMPL267726 -outputlayer MOM_M8_METAL;
EDGE_BOOLEAN -coincident_only -not MOM_M8_METAL LAST_M8_METAL_EDGE -outputlayer MOM_M8_CAP_EDGE;
AND MOMDMY_9 M9 -outputlayer MOM_M9;
EDGE_BOOLEAN -coincident_only -inside M9 MOM_M9 -outputlayer MOM_M9_EDGE;
CONVEX_EDGE MOM_M9_EDGE -angle1 -eq 90 -angle2 -eq 90 -outputlayer MOM_M9_LINE_END;
EDGE_BOOLEAN -coincident_only -inside -not MOM_M9_EDGE MOM_M9_LINE_END -outputlayer MOM_M9_SIDE_EDGE;
EDGE_SELECT -coincident_only -inside M9i MOM_M9_SIDE_EDGE -outputlayer MOM_M9_SIDE_EDGE_FULL;
EDGE_SELECT -coincident_only -outside -not MOMDMY_9 M9 -outputlayer _EPTMPL267734;
EDGE_EXPAND _EPTMPL267734 -outside_by "GRID" -corner_fill -outputlayer MOM_M9_SPACE_pre;
OR MOMDMY_9 MOM_M9_SPACE_pre -outputlayer _EPTMPL267736;
NOT _EPTMPL267736 M9 -outputlayer MOM_M9_SPACE;
CONVEX_EDGE MOM_M9_SPACE -angle1 -eq 90 -angle2 -eq 90 -outputlayer MOM_M9_SPACE_90_90;
CONVEX_EDGE MOM_M9_SPACE_90_90 -angle1 -eq 90 -angle2 -eq 90 -outputlayer MOM_M9_SPACE_90_90_1;
CONVEX_EDGE MOM_M9_SPACE_90_90 -angle1 -eq 90 -angle2 -eq 0 -outputlayer MOM_M9_SPACE_90_90_2;
ENC MOM_M9_SIDE_EDGE_FULL MOM_M9_SPACE_90_90_2 -lt "GRID" -abut -eq 90 -intersecting only -output positive1 -outputlayer _EPTMPL267741;
EDGE_SELECT -coincident_only -inside MOM_M9_SIDE_EDGE_FULL _EPTMPL267741 -outputlayer _EPTMPL267742;
EDGE_BOOLEAN -coincident_only -inside MOM_M9_SIDE_EDGE _EPTMPL267742 -outputlayer LAST_M9_METAL_EDGE_pre;
OR_EDGE MOM_M9_SPACE_90_90_1 MOM_M9_SPACE_90_90_2 -outputlayer _EPTMPL267744;
EDGE_EXPAND _EPTMPL267744 -inside_by "GRID" -outputlayer _EPTMPL267745;
BBOX _EPTMPL267745 -outputlayer _EPTMPL267746;
EDGE_BOOLEAN -inside LAST_M9_METAL_EDGE_pre _EPTMPL267746 -outputlayer LAST_M9_METAL_EDGE;
EDGE_BOOLEAN -coincident_only -not MOM_M9_SPACE_90_90 MOM_M9_SPACE_90_90_1 -outputlayer MOM_M9_SPACE_90_90_3;
CONVEX_EDGE MOM_M9_SPACE -angle1 -eq 90 -angle2 -eq 270 -outputlayer MOM_M9_SPACE_90_270;
OR_EDGE MOM_M9_SPACE_90_90_3 MOM_M9_SPACE_90_270 -outputlayer _EPTMPL267750;
EDGE_EXPAND _EPTMPL267750 -inside_by "GRID" -outputlayer _EPTMPL267751;
BBOX _EPTMPL267751 -outputlayer _EPTMPL267752;
EDGE_BOOLEAN -inside MOM_M9_SIDE_EDGE _EPTMPL267752 -outputlayer MOM_M9_METAL;
EDGE_BOOLEAN -coincident_only -not MOM_M9_METAL LAST_M9_METAL_EDGE -outputlayer MOM_M9_CAP_EDGE;
AND MOMDMY_1 MOMDMY_2 -outputlayer _EPTMPL267755;
SELECT -enclose _EPTMPL267755 VIA1 -gt 4 -outputlayer _EPTMPL267756;
AND VIA1 _EPTMPL267756 -outputlayer MOM_VIA1;
COPY MOM_VIA1 -outputlayer MOM_VIA1_C;
AND MOMDMY_2 MOMDMY_3 -outputlayer _EPTMPL267759;
SELECT -enclose _EPTMPL267759 VIA2 -gt 4 -outputlayer _EPTMPL267760;
AND VIA2 _EPTMPL267760 -outputlayer MOM_VIA2;
COPY MOM_VIA2 -outputlayer MOM_VIA2_C;
AND MOMDMY_3 MOMDMY_4 -outputlayer _EPTMPL267763;
SELECT -enclose _EPTMPL267763 VIA3 -gt 4 -outputlayer _EPTMPL267764;
AND VIA3 _EPTMPL267764 -outputlayer MOM_VIA3;
COPY MOM_VIA3 -outputlayer MOM_VIA3_C;
AND MOMDMY_4 MOMDMY_5 -outputlayer _EPTMPL267767;
SELECT -enclose _EPTMPL267767 VIA4 -gt 4 -outputlayer _EPTMPL267768;
AND VIA4 _EPTMPL267768 -outputlayer MOM_VIA4;
COPY MOM_VIA4 -outputlayer MOM_VIA4_C;
AND MOMDMY_5 MOMDMY_6 -outputlayer _EPTMPL267771;
SELECT -enclose _EPTMPL267771 VIA5 -gt 4 -outputlayer _EPTMPL267772;
AND VIA5 _EPTMPL267772 -outputlayer MOM_VIA5;
COPY MOM_VIA5 -outputlayer MOM_VIA5_C;
AND MOMDMY_6 MOMDMY_7 -outputlayer _EPTMPL267775;
SELECT -enclose _EPTMPL267775 VIA6 -gt 4 -outputlayer _EPTMPL267776;
AND VIA6 _EPTMPL267776 -outputlayer MOM_VIA6;
COPY MOM_VIA6 -outputlayer MOM_VIA6_C;
AND MOMDMY_7 MOMDMY_8 -outputlayer _EPTMPL267779;
SELECT -enclose _EPTMPL267779 VIA7 -gt 4 -outputlayer _EPTMPL267780;
AND VIA7 _EPTMPL267780 -outputlayer MOM_VIA7;
COPY MOM_VIA7 -outputlayer MOM_VIA7_C;
AND MOMDMY_8 MOMDMY_9 -outputlayer _EPTMPL267783;
SELECT -enclose _EPTMPL267783 VIA8 -gt 4 -outputlayer _EPTMPL267784;
AND VIA8 _EPTMPL267784 -outputlayer MOM_VIA8;
COPY MOM_VIA8 -outputlayer MOM_VIA8_C;
AND MOMDMY_9 MOMDMY_AP -outputlayer _EPTMPL267787;
SELECT -enclose _EPTMPL267787 RV -gt 4 -outputlayer _EPTMPL267788;
AND RV _EPTMPL267788 -outputlayer MOM_RV;
COPY MOM_RV -outputlayer MOM_RV_C;
SELECT -enclose MOMDMY_1 MOM_VIA1 -outputlayer MOMDMY_1_WIVIA;
NOT MOMDMY_1 MOMDMY_1_WIVIA -outputlayer MOMDMY_1_WOVIA;
AND MOMDMY_1_WIVIA M1 -outputlayer MOM_M1_WIVIA;
AND MOMDMY_1_WOVIA M1 -outputlayer MOM_M1_WOVIA;
SELECT -enclose MOMDMY_2 MOM_VIA1 -outputlayer _EPTMPL267795;
SELECT -enclose MOMDMY_2 MOM_VIA2 -outputlayer _EPTMPL267796;
OR _EPTMPL267795 _EPTMPL267796 -outputlayer MOMDMY_2_WIVIA;
NOT MOMDMY_2 MOMDMY_2_WIVIA -outputlayer MOMDMY_2_WOVIA;
AND MOMDMY_2_WIVIA M2 -outputlayer MOM_M2_WIVIA;
AND MOMDMY_2_WOVIA M2 -outputlayer MOM_M2_WOVIA;
SELECT -enclose MOMDMY_3 MOM_VIA2 -outputlayer _EPTMPL267801;
SELECT -enclose MOMDMY_3 MOM_VIA3 -outputlayer _EPTMPL267802;
OR _EPTMPL267801 _EPTMPL267802 -outputlayer MOMDMY_3_WIVIA;
NOT MOMDMY_3 MOMDMY_3_WIVIA -outputlayer MOMDMY_3_WOVIA;
AND MOMDMY_3_WIVIA M3 -outputlayer MOM_M3_WIVIA;
AND MOMDMY_3_WOVIA M3 -outputlayer MOM_M3_WOVIA;
SELECT -enclose MOMDMY_4 MOM_VIA3 -outputlayer _EPTMPL267807;
SELECT -enclose MOMDMY_4 MOM_VIA4 -outputlayer _EPTMPL267808;
OR _EPTMPL267807 _EPTMPL267808 -outputlayer MOMDMY_4_WIVIA;
NOT MOMDMY_4 MOMDMY_4_WIVIA -outputlayer MOMDMY_4_WOVIA;
AND MOMDMY_4_WIVIA M4 -outputlayer MOM_M4_WIVIA;
AND MOMDMY_4_WOVIA M4 -outputlayer MOM_M4_WOVIA;
SELECT -enclose MOMDMY_5 MOM_VIA4 -outputlayer _EPTMPL267813;
SELECT -enclose MOMDMY_5 MOM_VIA5 -outputlayer _EPTMPL267814;
OR _EPTMPL267813 _EPTMPL267814 -outputlayer MOMDMY_5_WIVIA;
NOT MOMDMY_5 MOMDMY_5_WIVIA -outputlayer MOMDMY_5_WOVIA;
AND MOMDMY_5_WIVIA M5 -outputlayer MOM_M5_WIVIA;
AND MOMDMY_5_WOVIA M5 -outputlayer MOM_M5_WOVIA;
SELECT -enclose MOMDMY_6 MOM_VIA5 -outputlayer _EPTMPL267819;
SELECT -enclose MOMDMY_6 MOM_VIA6 -outputlayer _EPTMPL267820;
OR _EPTMPL267819 _EPTMPL267820 -outputlayer MOMDMY_6_WIVIA;
NOT MOMDMY_6 MOMDMY_6_WIVIA -outputlayer MOMDMY_6_WOVIA;
AND MOMDMY_6_WIVIA M6 -outputlayer MOM_M6_WIVIA;
AND MOMDMY_6_WOVIA M6 -outputlayer MOM_M6_WOVIA;
SELECT -enclose MOMDMY_7 MOM_VIA6 -outputlayer _EPTMPL267825;
SELECT -enclose MOMDMY_7 MOM_VIA7 -outputlayer _EPTMPL267826;
OR _EPTMPL267825 _EPTMPL267826 -outputlayer MOMDMY_7_WIVIA;
NOT MOMDMY_7 MOMDMY_7_WIVIA -outputlayer MOMDMY_7_WOVIA;
AND MOMDMY_7_WIVIA M7 -outputlayer MOM_M7_WIVIA;
AND MOMDMY_7_WOVIA M7 -outputlayer MOM_M7_WOVIA;
SELECT -enclose MOMDMY_8 MOM_VIA7 -outputlayer _EPTMPL267831;
SELECT -enclose MOMDMY_8 MOM_VIA8 -outputlayer _EPTMPL267832;
OR _EPTMPL267831 _EPTMPL267832 -outputlayer MOMDMY_8_WIVIA;
NOT MOMDMY_8 MOMDMY_8_WIVIA -outputlayer MOMDMY_8_WOVIA;
AND MOMDMY_8_WIVIA M8 -outputlayer MOM_M8_WIVIA;
AND MOMDMY_8_WOVIA M8 -outputlayer MOM_M8_WOVIA;
SELECT -enclose MOMDMY_9 MOM_VIA8 -outputlayer _EPTMPL267837;
SELECT -enclose MOMDMY_9 MOM_RV -outputlayer _EPTMPL267838;
OR _EPTMPL267837 _EPTMPL267838 -outputlayer MOMDMY_9_WIVIA;
NOT MOMDMY_9 MOMDMY_9_WIVIA -outputlayer MOMDMY_9_WOVIA;
AND MOMDMY_9_WIVIA M9 -outputlayer MOM_M9_WIVIA;
AND MOMDMY_9_WOVIA M9 -outputlayer MOM_M9_WOVIA;
AND MOMDMY_AP AP -outputlayer MOM_AP;
EDGE_BOOLEAN -coincident_only -inside AP MOM_AP -outputlayer MOM_AP_EDGE;
CONVEX_EDGE MOM_AP_EDGE -angle1 -eq 90 -angle2 -eq 90 -outputlayer MOM_AP_LINE_END;
EDGE_BOOLEAN -coincident_only -inside -not MOM_AP_EDGE MOM_AP_LINE_END -outputlayer MOM_AP_SIDE_EDGE;
EDGE_SELECT -coincident_only -inside APi MOM_AP_SIDE_EDGE -outputlayer MOM_AP_SIDE_EDGE_FULL;
EDGE_SELECT -coincident_only -outside -not MOMDMY_AP AP -outputlayer _EPTMPL267848;
EDGE_EXPAND _EPTMPL267848 -outside_by "GRID" -corner_fill -outputlayer MOM_AP_SPACE_pre;
OR MOMDMY_AP MOM_AP_SPACE_pre -outputlayer _EPTMPL267850;
NOT _EPTMPL267850 AP -outputlayer MOM_AP_SPACE;
CONVEX_EDGE MOM_AP_SPACE -angle1 -eq 90 -angle2 -eq 90 -outputlayer MOM_AP_SPACE_90_90;
CONVEX_EDGE MOM_AP_SPACE_90_90 -angle1 -eq 90 -angle2 -eq 90 -outputlayer MOM_AP_SPACE_90_90_1;
CONVEX_EDGE MOM_AP_SPACE_90_90 -angle1 -eq 90 -angle2 -eq 0 -outputlayer MOM_AP_SPACE_90_90_2;
ENC MOM_AP_SIDE_EDGE_FULL MOM_AP_SPACE_90_90_2 -lt "GRID" -abut -eq 90 -intersecting only -output positive1 -outputlayer _EPTMPL267855;
EDGE_SELECT -coincident_only -inside MOM_AP_SIDE_EDGE_FULL _EPTMPL267855 -outputlayer _EPTMPL267856;
EDGE_BOOLEAN -coincident_only -inside MOM_AP_SIDE_EDGE _EPTMPL267856 -outputlayer LAST_AP_METAL_EDGE_pre;
OR_EDGE MOM_AP_SPACE_90_90_1 MOM_AP_SPACE_90_90_2 -outputlayer _EPTMPL267858;
EDGE_EXPAND _EPTMPL267858 -inside_by "GRID" -outputlayer _EPTMPL267859;
BBOX _EPTMPL267859 -outputlayer _EPTMPL267860;
EDGE_BOOLEAN -inside LAST_AP_METAL_EDGE_pre _EPTMPL267860 -outputlayer LAST_AP_METAL_EDGE;
EDGE_BOOLEAN -coincident_only -not MOM_AP_SPACE_90_90 MOM_AP_SPACE_90_90_1 -outputlayer MOM_AP_SPACE_90_90_3;
CONVEX_EDGE MOM_AP_SPACE -angle1 -eq 90 -angle2 -eq 270 -outputlayer MOM_AP_SPACE_90_270;
OR_EDGE MOM_AP_SPACE_90_90_3 MOM_AP_SPACE_90_270 -outputlayer _EPTMPL267864;
EDGE_EXPAND _EPTMPL267864 -inside_by "GRID" -outputlayer _EPTMPL267865;
BBOX _EPTMPL267865 -outputlayer _EPTMPL267866;
EDGE_BOOLEAN -inside MOM_AP_SIDE_EDGE _EPTMPL267866 -outputlayer MOM_AP_METAL;
EDGE_BOOLEAN -coincident_only -not MOM_AP_METAL LAST_AP_METAL_EDGE -outputlayer MOM_AP_CAP_EDGE;
SELECT -enclose MOMDMY_AP MOM_RV -outputlayer MOMDMY_AP_WIVIA;
NOT MOMDMY_AP MOMDMY_AP_WIVIA -outputlayer MOMDMY_AP_WOVIA;
AND MOMDMY_AP_WIVIA AP -outputlayer MOM_AP_WIVIA;
AND MOMDMY_AP_WOVIA AP -outputlayer MOM_AP_WOVIA;
EDGE_SELECT -coincident_only MOM_M1_CAP_EDGE MOM_M1_WOVIA -outputlayer MOM_M1_CAP_EDGE_WOVIA;
EDGE_SELECT -coincident_only MOM_M1_CAP_EDGE MOM_M1_WIVIA -outputlayer MOM_M1_CAP_EDGE_WIVIA;
EDGE_SELECT -coincident_only MOM_M2_CAP_EDGE MOM_M2_WOVIA -outputlayer MOM_M2_CAP_EDGE_WOVIA;
EDGE_SELECT -coincident_only MOM_M2_CAP_EDGE MOM_M2_WIVIA -outputlayer MOM_M2_CAP_EDGE_WIVIA;
EDGE_SELECT -coincident_only MOM_M3_CAP_EDGE MOM_M3_WOVIA -outputlayer MOM_M3_CAP_EDGE_WOVIA;
EDGE_SELECT -coincident_only MOM_M3_CAP_EDGE MOM_M3_WIVIA -outputlayer MOM_M3_CAP_EDGE_WIVIA;
EDGE_SELECT -coincident_only MOM_M4_CAP_EDGE MOM_M4_WOVIA -outputlayer MOM_M4_CAP_EDGE_WOVIA;
EDGE_SELECT -coincident_only MOM_M4_CAP_EDGE MOM_M4_WIVIA -outputlayer MOM_M4_CAP_EDGE_WIVIA;
EDGE_SELECT -coincident_only MOM_M5_CAP_EDGE MOM_M5_WOVIA -outputlayer MOM_M5_CAP_EDGE_WOVIA;
EDGE_SELECT -coincident_only MOM_M5_CAP_EDGE MOM_M5_WIVIA -outputlayer MOM_M5_CAP_EDGE_WIVIA;
EDGE_SELECT -coincident_only MOM_M6_CAP_EDGE MOM_M6_WOVIA -outputlayer MOM_M6_CAP_EDGE_WOVIA;
EDGE_SELECT -coincident_only MOM_M6_CAP_EDGE MOM_M6_WIVIA -outputlayer MOM_M6_CAP_EDGE_WIVIA;
EDGE_SELECT -coincident_only MOM_M7_CAP_EDGE MOM_M7_WOVIA -outputlayer MOM_M7_CAP_EDGE_WOVIA;
EDGE_SELECT -coincident_only MOM_M7_CAP_EDGE MOM_M7_WIVIA -outputlayer MOM_M7_CAP_EDGE_WIVIA;
EDGE_SELECT -coincident_only MOM_M8_CAP_EDGE MOM_M8_WOVIA -outputlayer MOM_M8_CAP_EDGE_WOVIA;
EDGE_SELECT -coincident_only MOM_M8_CAP_EDGE MOM_M8_WIVIA -outputlayer MOM_M8_CAP_EDGE_WIVIA;
EDGE_SELECT -coincident_only MOM_M9_CAP_EDGE MOM_M9_WOVIA -outputlayer MOM_M9_CAP_EDGE_WOVIA;
EDGE_SELECT -coincident_only MOM_M9_CAP_EDGE MOM_M9_WIVIA -outputlayer MOM_M9_CAP_EDGE_WIVIA;
EDGE_SELECT -coincident_only MOM_AP_CAP_EDGE MOM_AP_WOVIA -outputlayer MOM_AP_CAP_EDGE_WOVIA;
EDGE_SELECT -coincident_only MOM_AP_CAP_EDGE MOM_AP_WIVIA -outputlayer MOM_AP_CAP_EDGE_WIVIA;

RULE MOM.A.1 {
    CAPTION "Maximum sidewall area of total metals in MOM without Via <= 70100000";
    DFM_PROPERTY CHIP_MOM MOM_M1_CAP_EDGE_WOVIA MOM_M2_CAP_EDGE_WOVIA MOM_M3_CAP_EDGE_WOVIA MOM_M4_CAP_EDGE_WOVIA MOM_M5_CAP_EDGE_WOVIA MOM_M6_CAP_EDGE_WOVIA MOM_M7_CAP_EDGE_WOVIA MOM_M8_CAP_EDGE_WOVIA MOM_M9_CAP_EDGE_WOVIA MOM_AP_CAP_EDGE_WOVIA -overlap -nomulti [ 
 Sidewall_Area = ( LENGTH ( MOM_M1_CAP_EDGE_WOVIA ) *m1_thickness+ LENGTH ( MOM_M2_CAP_EDGE_WOVIA ) *m2_thickness+ LENGTH ( MOM_M3_CAP_EDGE_WOVIA ) *m3_thickness+ LENGTH ( MOM_M4_CAP_EDGE_WOVIA ) *m4_thickness+ LENGTH ( MOM_M5_CAP_EDGE_WOVIA ) *m5_thickness+ LENGTH ( MOM_M6_CAP_EDGE_WOVIA ) *m6_thickness+ LENGTH ( MOM_M7_CAP_EDGE_WOVIA ) *m7_thickness+ LENGTH ( MOM_M8_CAP_EDGE_WOVIA ) *m8_thickness+ LENGTH ( MOM_M9_CAP_EDGE_WOVIA ) *m9_thickness+ LENGTH ( MOM_AP_CAP_EDGE_WOVIA ) *ap_thickness ) / 2 
 ] -gt "MOM_A_1" -outputlayer MOM_SA;
    MERGE MOM_SA ; // -outputlayer _EPTMPL267894
    DFM_RDB MOM_SA MOM.A.1.rep -noempty -nopseudo;
}

RULE MOM.A.2 {
    CAPTION "Maximum sidewall area of {total metals+ total Vias} in MOM with Via. <= 172000";
    DFM_PROPERTY CHIP_MOM MOM_M1_CAP_EDGE_WIVIA MOM_VIA1_C MOM_M2_CAP_EDGE_WIVIA MOM_VIA2_C MOM_M3_CAP_EDGE_WIVIA MOM_VIA3_C MOM_M4_CAP_EDGE_WIVIA MOM_VIA4_C MOM_M5_CAP_EDGE_WIVIA MOM_VIA5_C MOM_M6_CAP_EDGE_WIVIA MOM_VIA6_C MOM_M7_CAP_EDGE_WIVIA MOM_VIA7_C MOM_M8_CAP_EDGE_WIVIA MOM_VIA8_C MOM_M9_CAP_EDGE_WIVIA MOM_RV_C MOM_AP_CAP_EDGE_WIVIA -overlap -nomulti [ 
 Sidewall_Area = ( LENGTH ( MOM_M1_CAP_EDGE_WIVIA ) *m1_thickness ) / 2+ ( LENGTH ( MOM_M2_CAP_EDGE_WIVIA ) *m2_thickness ) / 2+ ( LENGTH ( MOM_M3_CAP_EDGE_WIVIA ) *m3_thickness ) / 2+ ( LENGTH ( MOM_M4_CAP_EDGE_WIVIA ) *m4_thickness ) / 2+ ( LENGTH ( MOM_M5_CAP_EDGE_WIVIA ) *m5_thickness ) / 2+ ( LENGTH ( MOM_M6_CAP_EDGE_WIVIA ) *m6_thickness ) / 2+ ( LENGTH ( MOM_M7_CAP_EDGE_WIVIA ) *m7_thickness ) / 2+ ( LENGTH ( MOM_M8_CAP_EDGE_WIVIA ) *m8_thickness ) / 2+ ( LENGTH ( MOM_M9_CAP_EDGE_WIVIA ) *m9_thickness ) / 2+ ( PERIMETER ( MOM_VIA1_C ) *v1_thickness ) / 4+ ( PERIMETER ( MOM_VIA2_C ) *v2_thickness ) / 4+ ( PERIMETER ( MOM_VIA3_C ) *v3_thickness ) / 4+ ( PERIMETER ( MOM_VIA4_C ) *v4_thickness ) / 4+ ( PERIMETER ( MOM_VIA5_C ) *v5_thickness ) / 4+ ( PERIMETER ( MOM_VIA6_C ) *v6_thickness ) / 4+ ( PERIMETER ( MOM_VIA7_C ) *v7_thickness ) / 4+ ( PERIMETER ( MOM_VIA8_C ) *v8_thickness ) / 4+ ( PERIMETER ( MOM_RV_C ) *rv_thickness ) / 4+ ( LENGTH ( MOM_AP_CAP_EDGE_WIVIA ) *ap_thickness ) / 2 
 ] -gt "MOM_A_2" -outputlayer MOM_SA;
    MERGE MOM_SA ; // -outputlayer _EPTMPL267897
    DFM_RDB MOM_SA MOM.A.2.rep -noempty -nopseudo;
}

RULE MOM.S.1 {
    CAPTION "Space of M1 in MOMDMY_1 >= 0.1 um";
    EXTE MOM_M1 -lt "MOM_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267899
}

RULE MOM.S.2:M1 {
    CAPTION "Space of metal (M1/Mx) line end in MOMDMY_n >= 0.12";
    EXTE MOM_M1_LINE_END M1 -lt "MOM_S_2" -abut -lt 90 -output region ; // -outputlayer _EPTMPL267900
}

RULE MOM.S.2:M2 {
    CAPTION "Space of metal (M1/Mx) line end in MOMDMY_n >= 0.12";
    EXTE MOM_M2_LINE_END M2 -lt "MOM_S_2" -abut -lt 90 -output region ; // -outputlayer _EPTMPL267901
}

RULE MOM.S.2:M3 {
    CAPTION "Space of metal (M1/Mx) line end in MOMDMY_n >= 0.12";
    EXTE MOM_M3_LINE_END M3 -lt "MOM_S_2" -abut -lt 90 -output region ; // -outputlayer _EPTMPL267902
}

RULE MOM.S.2:M4 {
    CAPTION "Space of metal (M1/Mx) line end in MOMDMY_n >= 0.12";
    EXTE MOM_M4_LINE_END M4 -lt "MOM_S_2" -abut -lt 90 -output region ; // -outputlayer _EPTMPL267903
}

RULE MOM.S.2:M5 {
    CAPTION "Space of metal (M1/Mx) line end in MOMDMY_n >= 0.12";
    EXTE MOM_M5_LINE_END M5 -lt "MOM_S_2" -abut -lt 90 -output region ; // -outputlayer _EPTMPL267904
}

RULE MOM.S.2:M6 {
    CAPTION "Space of metal (M1/Mx) line end in MOMDMY_n >= 0.12";
    EXTE MOM_M6_LINE_END M6 -lt "MOM_S_2" -abut -lt 90 -output region ; // -outputlayer _EPTMPL267905
}

RULE MOM.S.2:M7 {
    CAPTION "Space of metal (M1/Mx) line end in MOMDMY_n >= 0.12";
    EXTE MOM_M7_LINE_END M7 -lt "MOM_S_2" -abut -lt 90 -output region ; // -outputlayer _EPTMPL267906
}

RULE MOM.S.3:M1 {
    CAPTION "Space of Metal (M1/Mx) in MOM with Via >= 0.13 um";
    EXTE MOM_M1_WIVIA -lt "MOM_S_3" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267907
}

RULE MOM.S.3:M2 {
    CAPTION "Space of Metal (M1/Mx) in MOM with Via >= 0.13 um";
    EXTE MOM_M2_WIVIA -lt "MOM_S_3" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267908
}

RULE MOM.S.3:M3 {
    CAPTION "Space of Metal (M1/Mx) in MOM with Via >= 0.13 um";
    EXTE MOM_M3_WIVIA -lt "MOM_S_3" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267909
}

RULE MOM.S.3:M4 {
    CAPTION "Space of Metal (M1/Mx) in MOM with Via >= 0.13 um";
    EXTE MOM_M4_WIVIA -lt "MOM_S_3" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267910
}

RULE MOM.S.3:M5 {
    CAPTION "Space of Metal (M1/Mx) in MOM with Via >= 0.13 um";
    EXTE MOM_M5_WIVIA -lt "MOM_S_3" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267911
}

RULE MOM.S.3:M6 {
    CAPTION "Space of Metal (M1/Mx) in MOM with Via >= 0.13 um";
    EXTE MOM_M6_WIVIA -lt "MOM_S_3" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267912
}

RULE MOM.S.3:M7 {
    CAPTION "Space of Metal (M1/Mx) in MOM with Via >= 0.13 um";
    EXTE MOM_M7_WIVIA -lt "MOM_S_3" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL267913
}

RULE MOM.S.4:VIA1 {
    CAPTION "Space of VIAx in MOM with Via in different net >= 0.13 um";
    STAMP MOM_VIA1 VIA1i -outputlayer A;
    EXTE A -lt "MOM_S_4" -abut -lt 90 -not_connected -single_point -output region ; // -outputlayer _EPTMPL267915
}

RULE MOM.S.4:VIA2 {
    CAPTION "Space of VIAx in MOM with Via in different net >= 0.13 um";
    STAMP MOM_VIA2 VIA2i -outputlayer A;
    EXTE A -lt "MOM_S_4" -abut -lt 90 -not_connected -single_point -output region ; // -outputlayer _EPTMPL267917
}

RULE MOM.S.4:VIA3 {
    CAPTION "Space of VIAx in MOM with Via in different net >= 0.13 um";
    STAMP MOM_VIA3 VIA3i -outputlayer A;
    EXTE A -lt "MOM_S_4" -abut -lt 90 -not_connected -single_point -output region ; // -outputlayer _EPTMPL267919
}

RULE MOM.S.4:VIA4 {
    CAPTION "Space of VIAx in MOM with Via in different net >= 0.13 um";
    STAMP MOM_VIA4 VIA4i -outputlayer A;
    EXTE A -lt "MOM_S_4" -abut -lt 90 -not_connected -single_point -output region ; // -outputlayer _EPTMPL267921
}

RULE MOM.S.4:VIA5 {
    CAPTION "Space of VIAx in MOM with Via in different net >= 0.13 um";
    STAMP MOM_VIA5 VIA5i -outputlayer A;
    EXTE A -lt "MOM_S_4" -abut -lt 90 -not_connected -single_point -output region ; // -outputlayer _EPTMPL267923
}

RULE MOM.S.4:VIA6 {
    CAPTION "Space of VIAx in MOM with Via in different net >= 0.13 um";
    STAMP MOM_VIA6 VIA6i -outputlayer A;
    EXTE A -lt "MOM_S_4" -abut -lt 90 -not_connected -single_point -output region ; // -outputlayer _EPTMPL267925
}

RULE MOM.R.1 {
    CAPTION "Poly shielding and underneath NW or PW must bias at same potential for reliability consideration. If poly shielding terminal could not be tied to the underneath NW or PW, customer should keep bias between poly terminal and underneath well within thin gate oxide (Without OD2) or thick gate oxide (With OD2) maximum applied voltage for reliability consideration.";
    CAPTION "DRC only check following conditions:";
    CAPTION "(1) {(MOM_PO INTERACT (MOM_OD NOT INSIDE OD2)) INTERACT ((MOMDMY(155,100) OR MOMDMY(155,0)) NOT (MOMDMY(155,27))} [Poly shielding MOM with dummy OD underneath] and underneath NW or PW must bias at same potential through metal connection.";
    COPY ODi -outputlayer MOM_OD;
    SELECT -inside -not MOM_OD OD2 -outputlayer _EPTMPL267927;
    SELECT -interact ILP1i _EPTMPL267927 -outputlayer _EPTMPL267928;
    OR MOMDMY MOMDMY_100 -outputlayer _EPTMPL267929;
    NOT _EPTMPL267929 MOMDMY_2T -outputlayer _EPTMPL267930;
    SELECT -interact _EPTMPL267928 _EPTMPL267930 -outputlayer PO_MOMi;
    NOT NWi PO_MOMi -outputlayer NW_NOT_POi;
    NOT PWELi PO_MOMi -outputlayer PW_NOT_POi;
    EXTE PO_MOMi NW_NOT_POi -lt 0.001 -abut -eq 0 -not_connected -output region ; // -outputlayer _EPTMPL267934
    EXTE PO_MOMi PW_NOT_POi -lt 0.001 -abut -eq 0 -not_connected -output region ; // -outputlayer _EPTMPL267935
}

RULE RM.WARN.1 {
    CAPTION "CO overlap (NWDMY AND NW) is not allowed";
    AND NWDMY NWEL -outputlayer _EPTMPL267936;
    AND _EPTMPL267936 CO ; // -outputlayer _EPTMPL267937
}

RULE RM.WARN.2 {
    CAPTION "CO overlap (RH AND RPDMY) AND (OD OR PO) is not allowed.";
    OR OD POLY -outputlayer _EPTMPL267938;
    AND RH RPDMY -outputlayer _EPTMPL267939;
    AND _EPTMPL267938 _EPTMPL267939 -outputlayer _EPTMPL267940;
    AND _EPTMPL267940 CO ; // -outputlayer _EPTMPL267941
}

RULE RM.WARN.3 {
    CAPTION "CO overlap (RMDMY1 AND M1) is not allowed";
    AND RMDMY1 M1 -outputlayer _EPTMPL267942;
    AND _EPTMPL267942 CO ; // -outputlayer _EPTMPL267943
}

RULE RM.WARN.4:M1 {
    CAPTION "VIA1 overlap (RMDMY1 AND M1) is not allowed";
    AND RMDMY1 M1 -outputlayer _EPTMPL267944;
    AND _EPTMPL267944 VIA1 ; // -outputlayer _EPTMPL267945
}

RULE RM.WARN.4:M2 {
    CAPTION "(VIA2 OR VIA1) overlap (RMDMY2 AND M2) is not allowed";
    AND RMDMY2 M2 -outputlayer _EPTMPL267946;
    AND _EPTMPL267946 VIA2 ; // -outputlayer _EPTMPL267947
    AND RMDMY2 M2 -outputlayer _EPTMPL267948;
    AND _EPTMPL267948 VIA1 ; // -outputlayer _EPTMPL267949
}

RULE RM.WARN.4:M3 {
    CAPTION "(VIA3 OR VIA2) overlap (RMDMY3 AND M3) is not allowed";
    AND RMDMY3 M3 -outputlayer _EPTMPL267950;
    AND _EPTMPL267950 VIA3 ; // -outputlayer _EPTMPL267951
    AND RMDMY3 M3 -outputlayer _EPTMPL267952;
    AND _EPTMPL267952 VIA2 ; // -outputlayer _EPTMPL267953
}

RULE RM.WARN.4:M4 {
    CAPTION "(VIA4 OR VIA3) overlap (RMDMY4 AND M4) is not allowed";
    AND RMDMY4 M4 -outputlayer _EPTMPL267954;
    AND _EPTMPL267954 VIA4 ; // -outputlayer _EPTMPL267955
    AND RMDMY4 M4 -outputlayer _EPTMPL267956;
    AND _EPTMPL267956 VIA3 ; // -outputlayer _EPTMPL267957
}

RULE RM.WARN.4:M5 {
    CAPTION "(VIA5 OR VIA4) overlap (RMDMY5 AND M5) is not allowed";
    AND RMDMY5 M5 -outputlayer _EPTMPL267958;
    AND _EPTMPL267958 VIA5 ; // -outputlayer _EPTMPL267959
    AND RMDMY5 M5 -outputlayer _EPTMPL267960;
    AND _EPTMPL267960 VIA4 ; // -outputlayer _EPTMPL267961
}

RULE RM.WARN.4:M6 {
    CAPTION "(VIA6 OR VIA5) overlap (RMDMY6 AND M6) is not allowed";
    AND RMDMY6 M6 -outputlayer _EPTMPL267962;
    AND _EPTMPL267962 VIA6 ; // -outputlayer _EPTMPL267963
    AND RMDMY6 M6 -outputlayer _EPTMPL267964;
    AND _EPTMPL267964 VIA5 ; // -outputlayer _EPTMPL267965
}

RULE RM.WARN.4:M7 {
    CAPTION "(VIA7 OR VIA6) overlap (RMDMY7 AND M7) is not allowed";
    AND RMDMY7 M7 -outputlayer _EPTMPL267966;
    AND _EPTMPL267966 VIA7 ; // -outputlayer _EPTMPL267967
    AND RMDMY7 M7 -outputlayer _EPTMPL267968;
    AND _EPTMPL267968 VIA6 ; // -outputlayer _EPTMPL267969
}

RULE RM.WARN.4:M8 {
    CAPTION "(VIA8 OR VIA7) overlap (RMDMY8 AND M8) is not allowed";
    AND RMDMY8 M8 -outputlayer _EPTMPL267970;
    AND _EPTMPL267970 VIA8 ; // -outputlayer _EPTMPL267971
    AND RMDMY8 M8 -outputlayer _EPTMPL267972;
    AND _EPTMPL267972 VIA7 ; // -outputlayer _EPTMPL267973
}

RULE RM.WARN.4:M9 {
    CAPTION "VIA8 overlap (RMDMY9 AND M9) is not allowed";
    AND RMDMY9 M9 -outputlayer _EPTMPL267974;
    AND _EPTMPL267974 VIA8 ; // -outputlayer _EPTMPL267975
}

RULE RM.WARN.5:M9 {
    CAPTION "RV overlap (RMDMY9 AND M9) is not allowed";
    AND RMDMY9 M9 -outputlayer _EPTMPL267976;
    AND _EPTMPL267976 RV ; // -outputlayer _EPTMPL267977
}

RULE RM.WARN.5:AP {
    CAPTION "RV overlap (RMDMYAP AND AP) is not allowed";
    AND RMDMYAP AP -outputlayer _EPTMPL267978;
    AND _EPTMPL267978 RV ; // -outputlayer _EPTMPL267979
}

RULE RM.WARN.6 {
    CAPTION "RPDMY intersecting (PO OR OD) must form two or more (PO OR OD)s (Except unsilicided OD/PO resistor)";
    SELECT -interact POLY RPDMY -outputlayer _EPTMPL267980;
    NOT _EPTMPL267980 RPDMY -outputlayer A_END;
    SELECT -interact -not RPDMY RPO -outputlayer _EPTMPL267982;
    SELECT -interact POLY _EPTMPL267982 -outputlayer A_BODY;
    SELECT -interact -not A_BODY A_END -ge 2 ; // -outputlayer _EPTMPL267984
    SELECT -interact OD RPDMY -outputlayer _EPTMPL267985;
    NOT _EPTMPL267985 RPDMY -outputlayer B_END;
    SELECT -interact -not RPDMY RPO -outputlayer _EPTMPL267987;
    SELECT -interact OD _EPTMPL267987 -outputlayer B_BODY;
    SELECT -interact -not B_BODY B_END -ge 2 ; // -outputlayer _EPTMPL267989
}

RULE RM.WARN.7 {
    CAPTION "NWDMY intersecting NW must form two or more NWs";
    SELECT -interact NWEL NWDMY -outputlayer _EPTMPL267990;
    NOT _EPTMPL267990 NWDMY -outputlayer A_END;
    SELECT -interact NWEL NWDMY -outputlayer A_BODY;
    SELECT -interact -not A_BODY A_END -ge 2 ; // -outputlayer _EPTMPL267993
}
LAYER_DEF INDDMY_COIL 3470;
LAYER_MAP 144 -datatype 36 3470;
LAYER_DEF INDDMY_MD 3471;
LAYER_MAP 144 -datatype 37 3471;
LAYER_DEF INDDMY_HD 3472;
LAYER_MAP 144 -datatype 38 3472;
SIZE INDDMY -by 12 -outputlayer IND_REGION;
SIZE INDDMY_MD -by 12 -outputlayer IND_MD_REGION;
SIZE INDDMY_MD -by 18 -outputlayer IND_MD_EXD;
SIZE INDDMY_HD -by 18 -outputlayer IND_HD_EXD;
SIZE INDDMY_COIL -by 16 -outputlayer IND_COIL_REGION;
variable IND_W_1 0.4;
variable IND_W_2 0.6;
variable IND_W_3 0.8;
variable IND_W_4 12;
variable IND_W_5 12;
variable IND_W_6 30;
variable IND_S_1 0.4;
variable IND_S_2 0.6;
variable IND_S_3 0.8;
variable IND_S_4 1;
variable IND_S_5 2;
variable IND_MD_DN_10 0.15;
variable IND_MD_DN_10W 15;
variable IND_MD_DN_10R 5;
variable IND_MD_R_17 0.2;
variable IND_MD_R_17_N 100;
variable IND_MD_W_1 0.4;
variable IND_MD_W_2 0.6;
variable IND_MD_W_3 0.8;
variable IND_MD_W_4 12;
variable IND_MD_S_1 0.4;
variable IND_MD_S_2 0.6;
variable IND_MD_S_3 0.8;
variable IND_MD_S_4 1;
variable IND_MD_S_5 2;
AND M1 IND_REGION -outputlayer IND_M1;
WITH_WIDTH IND_M1 -gt 1.5 -outputlayer IND_WideM11.5;
WITH_WIDTH IND_WideM11.5 -gt 4.5 -outputlayer IND_WideM14.5;
AND M2 IND_REGION -outputlayer IND_M2;
WITH_WIDTH IND_M2 -gt 1.5 -outputlayer IND_WideM21.5;
WITH_WIDTH IND_WideM21.5 -gt 4.5 -outputlayer IND_WideM24.5;
AND M3 IND_REGION -outputlayer IND_M3;
WITH_WIDTH IND_M3 -gt 1.5 -outputlayer IND_WideM31.5;
WITH_WIDTH IND_WideM31.5 -gt 4.5 -outputlayer IND_WideM34.5;
AND M4 IND_REGION -outputlayer IND_M4;
WITH_WIDTH IND_M4 -gt 1.5 -outputlayer IND_WideM41.5;
WITH_WIDTH IND_WideM41.5 -gt 4.5 -outputlayer IND_WideM44.5;
AND M5 IND_REGION -outputlayer IND_M5;
WITH_WIDTH IND_M5 -gt 1.5 -outputlayer IND_WideM51.5;
WITH_WIDTH IND_WideM51.5 -gt 4.5 -outputlayer IND_WideM54.5;
AND M6 IND_REGION -outputlayer IND_M6;
WITH_WIDTH IND_M6 -gt 1.5 -outputlayer IND_WideM61.5;
WITH_WIDTH IND_WideM61.5 -gt 4.5 -outputlayer IND_WideM64.5;
AND M7 IND_REGION -outputlayer IND_M7;
WITH_WIDTH IND_M7 -gt 1.5 -outputlayer IND_WideM71.5;
WITH_WIDTH IND_WideM71.5 -gt 4.5 -outputlayer IND_WideM74.5;
AND M8 IND_REGION -outputlayer IND_M8;
WITH_WIDTH IND_M8 -gt 1.5 -outputlayer IND_WideM81.5;
WITH_WIDTH IND_WideM81.5 -gt 4.5 -outputlayer IND_WideM84.5;
AND M9 IND_REGION -outputlayer IND_M9;
WITH_WIDTH IND_M9 -gt 1.5 -outputlayer IND_WideM91.5;
WITH_WIDTH IND_WideM91.5 -gt 4.5 -outputlayer IND_WideM94.5;

RULE IND.W.1 {
    CAPTION "M1 width in (INDDMY SIZING 12um) >= 0.4";
    SELECT -outside -not M1 IND_REGION -outputlayer A;
    INTE A -lt "IND_W_1-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268027;
    SELECT -outside -not _EPTMPL268027 IND_REGION ; // -outputlayer _EPTMPL268028
}

RULE IND.W.2:M2 {
    CAPTION "Mx width in (INDDMY SIZING 12um) >= 0.I6";
    SELECT -outside -not M2 IND_REGION -outputlayer A;
    INTE A -lt "IND_W_2-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268030;
    SELECT -outside -not _EPTMPL268030 IND_REGION ; // -outputlayer _EPTMPL268031
}

RULE IND.W.2:M3 {
    CAPTION "Mx width in (INDDMY SIZING 12um) >= 0.I6";
    SELECT -outside -not M3 IND_REGION -outputlayer A;
    INTE A -lt "IND_W_2-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268033;
    SELECT -outside -not _EPTMPL268033 IND_REGION ; // -outputlayer _EPTMPL268034
}

RULE IND.W.2:M4 {
    CAPTION "Mx width in (INDDMY SIZING 12um) >= 0.I6";
    SELECT -outside -not M4 IND_REGION -outputlayer A;
    INTE A -lt "IND_W_2-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268036;
    SELECT -outside -not _EPTMPL268036 IND_REGION ; // -outputlayer _EPTMPL268037
}

RULE IND.W.2:M5 {
    CAPTION "Mx width in (INDDMY SIZING 12um) >= 0.I6";
    SELECT -outside -not M5 IND_REGION -outputlayer A;
    INTE A -lt "IND_W_2-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268039;
    SELECT -outside -not _EPTMPL268039 IND_REGION ; // -outputlayer _EPTMPL268040
}

RULE IND.W.2:M6 {
    CAPTION "Mx width in (INDDMY SIZING 12um) >= 0.I6";
    SELECT -outside -not M6 IND_REGION -outputlayer A;
    INTE A -lt "IND_W_2-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268042;
    SELECT -outside -not _EPTMPL268042 IND_REGION ; // -outputlayer _EPTMPL268043
}

RULE IND.W.2:M7 {
    CAPTION "Mx width in (INDDMY SIZING 12um) >= 0.I6";
    SELECT -outside -not M7 IND_REGION -outputlayer A;
    INTE A -lt "IND_W_2-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268045;
    SELECT -outside -not _EPTMPL268045 IND_REGION ; // -outputlayer _EPTMPL268046
}

RULE IND.W.3:M8 {
    CAPTION "Mz width in (INDDMY SIZING 12um) >= 0.8";
    SELECT -outside -not M8 IND_REGION -outputlayer A;
    INTE A -lt "IND_W_3-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268048;
    SELECT -outside -not _EPTMPL268048 IND_REGION ; // -outputlayer _EPTMPL268049
}

RULE IND.S.1 {
    CAPTION "M1 space in (INDDMY SIZING 12um) >= 0.4";
    SELECT -outside -not M1 IND_REGION -outputlayer A;
    EXTE A -lt "IND_S_1-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268051;
    SELECT -outside -not _EPTMPL268051 IND_REGION ; // -outputlayer _EPTMPL268052
}

RULE IND.S.2:M2 {
    CAPTION "Mx space in (INDDMY SIZING 12um) >= 0.6";
    SELECT -outside -not M2 IND_REGION -outputlayer A;
    EXTE A -lt "IND_S_2-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268054;
    SELECT -outside -not _EPTMPL268054 IND_REGION ; // -outputlayer _EPTMPL268055
}

RULE IND.S.2:M3 {
    CAPTION "Mx space in (INDDMY SIZING 12um) >= 0.6";
    SELECT -outside -not M3 IND_REGION -outputlayer A;
    EXTE A -lt "IND_S_2-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268057;
    SELECT -outside -not _EPTMPL268057 IND_REGION ; // -outputlayer _EPTMPL268058
}

RULE IND.S.2:M4 {
    CAPTION "Mx space in (INDDMY SIZING 12um) >= 0.6";
    SELECT -outside -not M4 IND_REGION -outputlayer A;
    EXTE A -lt "IND_S_2-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268060;
    SELECT -outside -not _EPTMPL268060 IND_REGION ; // -outputlayer _EPTMPL268061
}

RULE IND.S.2:M5 {
    CAPTION "Mx space in (INDDMY SIZING 12um) >= 0.6";
    SELECT -outside -not M5 IND_REGION -outputlayer A;
    EXTE A -lt "IND_S_2-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268063;
    SELECT -outside -not _EPTMPL268063 IND_REGION ; // -outputlayer _EPTMPL268064
}

RULE IND.S.2:M6 {
    CAPTION "Mx space in (INDDMY SIZING 12um) >= 0.6";
    SELECT -outside -not M6 IND_REGION -outputlayer A;
    EXTE A -lt "IND_S_2-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268066;
    SELECT -outside -not _EPTMPL268066 IND_REGION ; // -outputlayer _EPTMPL268067
}

RULE IND.S.2:M7 {
    CAPTION "Mx space in (INDDMY SIZING 12um) >= 0.6";
    SELECT -outside -not M7 IND_REGION -outputlayer A;
    EXTE A -lt "IND_S_2-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268069;
    SELECT -outside -not _EPTMPL268069 IND_REGION ; // -outputlayer _EPTMPL268070
}

RULE IND.S.3:M8 {
    CAPTION "Mz space in (INDDMY SIZING 12um) >= 0.8";
    SELECT -outside -not M8 IND_REGION -outputlayer A;
    EXTE A -lt "IND_S_3-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268072;
    SELECT -outside -not _EPTMPL268072 IND_REGION ; // -outputlayer _EPTMPL268073
}

RULE IND.S.4:M1 {
    CAPTION "M1 space in (INDDMY SIZING 12 um) [at least one metal width > 1.5 um and parallel length > 1.5 um] >= 1.0";
    EXTE IND_WideM11.5 M1 -lt "IND_S_4-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M1 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 1.5+GRID ; // -outputlayer _EPTMPL268076
}

RULE IND.S.5:M1 {
    CAPTION "M1 space in (INDDMY SIZING 12 um) [at least one metal width > 4.5 um and parallel length > 4.5 um] >= 2.0";
    EXTE IND_WideM14.5 M1 -lt "IND_S_5-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M1 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 4.5+GRID ; // -outputlayer _EPTMPL268079
}

RULE IND.S.4:M2 {
    CAPTION "M2 space in (INDDMY SIZING 12 um) [at least one metal width > 1.5 um and parallel length > 1.5 um] >= 1.0";
    EXTE IND_WideM21.5 M2 -lt "IND_S_4-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M2 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 1.5+GRID ; // -outputlayer _EPTMPL268082
}

RULE IND.S.5:M2 {
    CAPTION "M2 space in (INDDMY SIZING 12 um) [at least one metal width > 4.5 um and parallel length > 4.5 um] >= 2.0";
    EXTE IND_WideM24.5 M2 -lt "IND_S_5-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M2 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 4.5+GRID ; // -outputlayer _EPTMPL268085
}

RULE IND.S.4:M3 {
    CAPTION "M3 space in (INDDMY SIZING 12 um) [at least one metal width > 1.5 um and parallel length > 1.5 um] >= 1.0";
    EXTE IND_WideM31.5 M3 -lt "IND_S_4-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M3 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 1.5+GRID ; // -outputlayer _EPTMPL268088
}

RULE IND.S.5:M3 {
    CAPTION "M3 space in (INDDMY SIZING 12 um) [at least one metal width > 4.5 um and parallel length > 4.5 um] >= 2.0";
    EXTE IND_WideM34.5 M3 -lt "IND_S_5-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M3 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 4.5+GRID ; // -outputlayer _EPTMPL268091
}

RULE IND.S.4:M4 {
    CAPTION "M4 space in (INDDMY SIZING 12 um) [at least one metal width > 1.5 um and parallel length > 1.5 um] >= 1.0";
    EXTE IND_WideM41.5 M4 -lt "IND_S_4-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M4 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 1.5+GRID ; // -outputlayer _EPTMPL268094
}

RULE IND.S.5:M4 {
    CAPTION "M4 space in (INDDMY SIZING 12 um) [at least one metal width > 4.5 um and parallel length > 4.5 um] >= 2.0";
    EXTE IND_WideM44.5 M4 -lt "IND_S_5-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M4 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 4.5+GRID ; // -outputlayer _EPTMPL268097
}

RULE IND.S.4:M5 {
    CAPTION "M5 space in (INDDMY SIZING 12 um) [at least one metal width > 1.5 um and parallel length > 1.5 um] >= 1.0";
    EXTE IND_WideM51.5 M5 -lt "IND_S_4-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M5 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 1.5+GRID ; // -outputlayer _EPTMPL268100
}

RULE IND.S.5:M5 {
    CAPTION "M5 space in (INDDMY SIZING 12 um) [at least one metal width > 4.5 um and parallel length > 4.5 um] >= 2.0";
    EXTE IND_WideM54.5 M5 -lt "IND_S_5-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M5 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 4.5+GRID ; // -outputlayer _EPTMPL268103
}

RULE IND.S.4:M6 {
    CAPTION "M6 space in (INDDMY SIZING 12 um) [at least one metal width > 1.5 um and parallel length > 1.5 um] >= 1.0";
    EXTE IND_WideM61.5 M6 -lt "IND_S_4-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M6 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 1.5+GRID ; // -outputlayer _EPTMPL268106
}

RULE IND.S.5:M6 {
    CAPTION "M6 space in (INDDMY SIZING 12 um) [at least one metal width > 4.5 um and parallel length > 4.5 um] >= 2.0";
    EXTE IND_WideM64.5 M6 -lt "IND_S_5-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M6 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 4.5+GRID ; // -outputlayer _EPTMPL268109
}

RULE IND.S.4:M7 {
    CAPTION "M7 space in (INDDMY SIZING 12 um) [at least one metal width > 1.5 um and parallel length > 1.5 um] >= 1.0";
    EXTE IND_WideM71.5 M7 -lt "IND_S_4-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M7 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 1.5+GRID ; // -outputlayer _EPTMPL268112
}

RULE IND.S.5:M7 {
    CAPTION "M7 space in (INDDMY SIZING 12 um) [at least one metal width > 4.5 um and parallel length > 4.5 um] >= 2.0";
    EXTE IND_WideM74.5 M7 -lt "IND_S_5-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M7 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 4.5+GRID ; // -outputlayer _EPTMPL268115
}

RULE IND.S.4:M8 {
    CAPTION "M8 space in (INDDMY SIZING 12 um) [at least one metal width > 1.5 um and parallel length > 1.5 um] >= 1.0";
    EXTE IND_WideM81.5 M8 -lt "IND_S_4-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M8 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 1.5+GRID ; // -outputlayer _EPTMPL268118
}

RULE IND.S.5:M8 {
    CAPTION "M8 space in (INDDMY SIZING 12 um) [at least one metal width > 4.5 um and parallel length > 4.5 um] >= 2.0";
    EXTE IND_WideM84.5 M8 -lt "IND_S_5-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M8 -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 4.5+GRID ; // -outputlayer _EPTMPL268121
}

RULE IND.W.4:M1 {
    CAPTION "M1/Mx maximum width <= 12 um, except WBDMY if Mx is Mtop-1 layer";
    SELECT -outside -not M1 IND_REGION -outputlayer A;
    SIZE A -by "(IND_W_4+0.01)/2" -underover -truncate "(IND_W_4+0.01)/2" ; // -outputlayer _EPTMPL268123
}

RULE IND.W.4:M2 {
    CAPTION "M1/Mx maximum width <= 12 um, except WBDMY if Mx is Mtop-1 layer";
    SELECT -outside -not M2 IND_REGION -outputlayer A;
    SIZE A -by "(IND_W_4+0.01)/2" -underover -truncate "(IND_W_4+0.01)/2" ; // -outputlayer _EPTMPL268125
}

RULE IND.W.4:M3 {
    CAPTION "M1/Mx maximum width <= 12 um, except WBDMY if Mx is Mtop-1 layer";
    SELECT -outside -not M3 IND_REGION -outputlayer A;
    SIZE A -by "(IND_W_4+0.01)/2" -underover -truncate "(IND_W_4+0.01)/2" ; // -outputlayer _EPTMPL268127
}

RULE IND.W.4:M4 {
    CAPTION "M1/Mx maximum width <= 12 um, except WBDMY if Mx is Mtop-1 layer";
    SELECT -outside -not M4 IND_REGION -outputlayer A;
    SIZE A -by "(IND_W_4+0.01)/2" -underover -truncate "(IND_W_4+0.01)/2" ; // -outputlayer _EPTMPL268129
}

RULE IND.W.4:M5 {
    CAPTION "M1/Mx maximum width <= 12 um, except WBDMY if Mx is Mtop-1 layer";
    SELECT -outside -not M5 IND_REGION -outputlayer A;
    SIZE A -by "(IND_W_4+0.01)/2" -underover -truncate "(IND_W_4+0.01)/2" ; // -outputlayer _EPTMPL268131
}

RULE IND.W.4:M6 {
    CAPTION "M1/Mx maximum width <= 12 um, except WBDMY if Mx is Mtop-1 layer";
    SELECT -outside -not M6 IND_REGION -outputlayer A;
    SIZE A -by "(IND_W_4+0.01)/2" -underover -truncate "(IND_W_4+0.01)/2" ; // -outputlayer _EPTMPL268133
}

RULE IND.W.4:M7 {
    CAPTION "M1/Mx maximum width <= 12 um, except WBDMY if Mx is Mtop-1 layer";
    SELECT -outside -not M7 IND_REGION -outputlayer A;
    SIZE A -by "(IND_W_4+0.01)/2" -underover -truncate "(IND_W_4+0.01)/2" ; // -outputlayer _EPTMPL268135
}

RULE IND.W.6:M8 {
    CAPTION "Mz/Mu maximum width for inductor application only [inside (INDDMY SIZING 18 um)] <= 30.0";
    AND M8 IND_EXD -outputlayer A;
    WITH_WIDTH A -gt "IND_W_6+0.01" ; // -outputlayer _EPTMPL268137
}

RULE IND.W.6:M9 {
    CAPTION "Mz/Mu maximum width for inductor application only [inside (INDDMY SIZING 18 um)] <= 30.0";
    AND M9 IND_EXD -outputlayer A;
    WITH_WIDTH A -gt "IND_W_6+0.01" ; // -outputlayer _EPTMPL268139
}

RULE IND.W.7 {
    CAPTION "Max. dimension (either width or length) of an INDDMY region <= 600 um";
    SELECT -enclose_rect INDDMY -width 0.005 -length 600.005+0.01 -orthogonal_only ; // -outputlayer _EPTMPL268140
}
SIZE INDDMY -by -4 -outputlayer REGION_A;
NOT INDDMY REGION_A -outputlayer REGION_B;
SIZE INDDMY -by 6 -outputlayer _EPTMPL268143;
NOT _EPTMPL268143 INDDMY -outputlayer REGION_C;
SIZE INDDMY -by 12 -outputlayer _EPTMPL268145;
SIZE INDDMY -by 6 -outputlayer _EPTMPL268146;
NOT _EPTMPL268145 _EPTMPL268146 -outputlayer REGION_D;
OR REGION_B REGION_C -outputlayer _EPTMPL268148;
OR _EPTMPL268148 REGION_D -outputlayer REGION_BCD;
CONVEX_EDGE INDDMY -angle1 -eq 90 -angle2 -eq 270 -outputlayer IND_JOG_EDGE;
EDGE_BOOLEAN -coincident_only -not INDDMY IND_JOG_EDGE -outputlayer IND_R_EDGE;
SELECT -outside -not POLY REGION_BCD -outputlayer PO_ISLAND_pre;
SELECT -interact -not PO_ISLAND_pre OD -outputlayer _EPTMPL268153;
SELECT -interact -not _EPTMPL268153 CO -outputlayer PO_ISLAND;
SELECT -outside -not M1 REGION_BCD -outputlayer M1_ISLAND_pre;
RECT_CHK M1_ISLAND_pre -ltgt 2.99 3.01 -by -ltgt 2.99 3.01 -outputlayer _EPTMPL268156;
SELECT -interact -not _EPTMPL268156 VIA1 -outputlayer _EPTMPL268157;
SELECT -interact -not _EPTMPL268157 CO -outputlayer M1_ISLAND;
SELECT -outside -not M2 REGION_BCD -outputlayer M2_ISLAND_pre;
RECT_CHK M2_ISLAND_pre -ltgt 2.99 3.01 -by -ltgt 2.99 3.01 -outputlayer _EPTMPL268160;
SELECT -interact -not _EPTMPL268160 VIA2 -outputlayer _EPTMPL268161;
SELECT -interact -not _EPTMPL268161 VIA1 -outputlayer M2_ISLAND;
SELECT -outside -not M3 REGION_BCD -outputlayer M3_ISLAND_pre;
RECT_CHK M3_ISLAND_pre -ltgt 2.99 3.01 -by -ltgt 2.99 3.01 -outputlayer _EPTMPL268164;
SELECT -interact -not _EPTMPL268164 VIA3 -outputlayer _EPTMPL268165;
SELECT -interact -not _EPTMPL268165 VIA2 -outputlayer M3_ISLAND;
SELECT -outside -not M4 REGION_BCD -outputlayer M4_ISLAND_pre;
RECT_CHK M4_ISLAND_pre -ltgt 2.99 3.01 -by -ltgt 2.99 3.01 -outputlayer _EPTMPL268168;
SELECT -interact -not _EPTMPL268168 VIA4 -outputlayer _EPTMPL268169;
SELECT -interact -not _EPTMPL268169 VIA3 -outputlayer M4_ISLAND;
SELECT -outside -not M5 REGION_BCD -outputlayer M5_ISLAND_pre;
RECT_CHK M5_ISLAND_pre -ltgt 2.99 3.01 -by -ltgt 2.99 3.01 -outputlayer _EPTMPL268172;
SELECT -interact -not _EPTMPL268172 VIA5 -outputlayer _EPTMPL268173;
SELECT -interact -not _EPTMPL268173 VIA4 -outputlayer M5_ISLAND;
SELECT -outside -not M6 REGION_BCD -outputlayer M6_ISLAND_pre;
RECT_CHK M6_ISLAND_pre -ltgt 2.99 3.01 -by -ltgt 2.99 3.01 -outputlayer _EPTMPL268176;
SELECT -interact -not _EPTMPL268176 VIA6 -outputlayer _EPTMPL268177;
SELECT -interact -not _EPTMPL268177 VIA5 -outputlayer M6_ISLAND;
SELECT -outside -not M7 REGION_BCD -outputlayer M7_ISLAND_pre;
RECT_CHK M7_ISLAND_pre -ltgt 2.99 3.01 -by -ltgt 2.99 3.01 -outputlayer _EPTMPL268180;
SELECT -interact -not _EPTMPL268180 VIA7 -outputlayer _EPTMPL268181;
SELECT -interact -not _EPTMPL268181 VIA6 -outputlayer M7_ISLAND;
SELECT -outside -not M8 REGION_BCD -outputlayer M8_ISLAND_pre;
RECT_CHK M8_ISLAND_pre -ltgt 2.99 3.01 -by -ltgt 2.99 3.01 -outputlayer _EPTMPL268184;
SELECT -interact -not _EPTMPL268184 VIA8 -outputlayer _EPTMPL268185;
SELECT -interact -not _EPTMPL268185 VIA7 -outputlayer M8_ISLAND;
SELECT -outside -not M9 REGION_BCD -outputlayer M9_ISLAND_pre;
RECT_CHK M9_ISLAND_pre -ltgt 2.99 3.01 -by -ltgt 2.99 3.01 -outputlayer _EPTMPL268188;
SELECT -interact -not _EPTMPL268188 VIA8 -outputlayer _EPTMPL268189;
SELECT -interact -not _EPTMPL268189 RV -outputlayer M9_ISLAND;
AND M9 IND_REGION -outputlayer _EPTMPL268191;
NOT _EPTMPL268191 M9_ISLAND -outputlayer IND_TM;
EXTE IND_TM INDDMY -lt 0.01 -abut -legt 0 135 -intersecting ONLY -output region -outputlayer IND_TM_A;
EDGE_SELECT -coincident_only -outside M9 IND_TM_A -outputlayer IND_TM_B;
EDGE_EXPAND IND_TM_B -inside_by 0.005 -outputlayer IND_TM_B1;
EDGE_BOOLEAN -inside INDDMY IND_TM -outputlayer _EPTMPL268196;
EDGE_EXPAND _EPTMPL268196 -by 0.005 -outputlayer IND_TM_B2;
OR IND_TM_B1 IND_TM_B2 -outputlayer _EPTMPL268198;
BBOX _EPTMPL268198 -outputlayer IND_TM_C;
INTE IND_TM_B -lt 30.005 -metric opposite -output region -outputlayer _EPTMPL268200;
AND _EPTMPL268200 IND_TM_C -outputlayer IND_TM_leading;
NOT IND_TM IND_TM_leading -outputlayer _EPTMPL268202;
AND _EPTMPL268202 INDDMY -outputlayer IND_TM_spiral;
AND IND_TM_leading REGION_BCD -outputlayer LEADING;
SIZE LEADING -by 20 -outputlayer LEADING_EXD;
SELECT -outside -not M1 REGION_B -outputlayer _EPTMPL268206;
SELECT -inside COOD REGION_B -outputlayer _EPTMPL268207;
SELECT -interact _EPTMPL268206 _EPTMPL268207 -outputlayer M1_GUARD_RING;
AND M1_GUARD_RING REGION_BCD -outputlayer M1_GUARD_RING_P;
SIZE M1_GUARD_RING_P -by 20 -outputlayer M1_GUARD_RING_Px;
AND M1_GUARD_RING REGION_C -outputlayer M1_GUARD_RING_P1;
SIZE M1_GUARD_RING_P1 -by 20 -outputlayer M1_GUARD_RING_P1x;
AND IND_CTAP REGION_BCD -outputlayer CTAP_EXD;
SIZE CTAP_EXD -by 20 -outputlayer CTAP_EXDx;
EDGE_EXPAND IND_R_EDGE -inside_by 4 -outputlayer _EPTMPL268215;
NOT _EPTMPL268215 LEADING_EXD -outputlayer _EPTMPL268216;
NOT _EPTMPL268216 M1_GUARD_RING_P1x -outputlayer _EPTMPL268217;
NOT _EPTMPL268217 CTAP_EXDx -outputlayer REGION_Bx;
CONNECT REGION_B;

RULE IND.DN.1:M1 {
    CAPTION "M1 density within ring region b  >= 10%  <= 80%";
    NOT REGION_B LEADING_EXD -outputlayer REGION_B_NOT_EXD;
    AND M1x REGION_B_NOT_EXD -outputlayer X;
    STAMP X REGION_B_NOT_EXD -outputlayer Y;
    ANTENNA REGION_B_NOT_EXD Y -lt 0.1 -expr "  AREA(Y)/AREA(REGION_B_NOT_EXD)  " -rdb IND.DN.1L.M1.density ; // -outputlayer _EPTMPL268223
    ANTENNA REGION_B_NOT_EXD Y -gt 0.8 -expr "  AREA(Y)/AREA(REGION_B_NOT_EXD)  " -rdb IND.DN.1H.M1.density ; // -outputlayer _EPTMPL268224
}

RULE IND.DN.1:M2 {
    CAPTION "M2 density within ring region b  >= 10%  <= 80%";
    NOT REGION_B LEADING_EXD -outputlayer REGION_B_NOT_EXD;
    AND M2x REGION_B_NOT_EXD -outputlayer X;
    STAMP X REGION_B_NOT_EXD -outputlayer Y;
    ANTENNA REGION_B_NOT_EXD Y -lt 0.1 -expr "  AREA(Y)/AREA(REGION_B_NOT_EXD)  " -rdb IND.DN.1L.M2.density ; // -outputlayer _EPTMPL268228
    ANTENNA REGION_B_NOT_EXD Y -gt 0.8 -expr "  AREA(Y)/AREA(REGION_B_NOT_EXD)  " -rdb IND.DN.1H.M2.density ; // -outputlayer _EPTMPL268229
}

RULE IND.DN.1:M3 {
    CAPTION "M3 density within ring region b  >= 10%  <= 80%";
    NOT REGION_B LEADING_EXD -outputlayer REGION_B_NOT_EXD;
    AND M3x REGION_B_NOT_EXD -outputlayer X;
    STAMP X REGION_B_NOT_EXD -outputlayer Y;
    ANTENNA REGION_B_NOT_EXD Y -lt 0.1 -expr "  AREA(Y)/AREA(REGION_B_NOT_EXD)  " -rdb IND.DN.1L.M3.density ; // -outputlayer _EPTMPL268233
    ANTENNA REGION_B_NOT_EXD Y -gt 0.8 -expr "  AREA(Y)/AREA(REGION_B_NOT_EXD)  " -rdb IND.DN.1H.M3.density ; // -outputlayer _EPTMPL268234
}

RULE IND.DN.1:M4 {
    CAPTION "M4 density within ring region b  >= 10%  <= 80%";
    NOT REGION_B LEADING_EXD -outputlayer REGION_B_NOT_EXD;
    AND M4x REGION_B_NOT_EXD -outputlayer X;
    STAMP X REGION_B_NOT_EXD -outputlayer Y;
    ANTENNA REGION_B_NOT_EXD Y -lt 0.1 -expr "  AREA(Y)/AREA(REGION_B_NOT_EXD)  " -rdb IND.DN.1L.M4.density ; // -outputlayer _EPTMPL268238
    ANTENNA REGION_B_NOT_EXD Y -gt 0.8 -expr "  AREA(Y)/AREA(REGION_B_NOT_EXD)  " -rdb IND.DN.1H.M4.density ; // -outputlayer _EPTMPL268239
}

RULE IND.DN.1:M5 {
    CAPTION "M5 density within ring region b  >= 10%  <= 80%";
    NOT REGION_B LEADING_EXD -outputlayer REGION_B_NOT_EXD;
    AND M5x REGION_B_NOT_EXD -outputlayer X;
    STAMP X REGION_B_NOT_EXD -outputlayer Y;
    ANTENNA REGION_B_NOT_EXD Y -lt 0.1 -expr "  AREA(Y)/AREA(REGION_B_NOT_EXD)  " -rdb IND.DN.1L.M5.density ; // -outputlayer _EPTMPL268243
    ANTENNA REGION_B_NOT_EXD Y -gt 0.8 -expr "  AREA(Y)/AREA(REGION_B_NOT_EXD)  " -rdb IND.DN.1H.M5.density ; // -outputlayer _EPTMPL268244
}

RULE IND.DN.1:M6 {
    CAPTION "M6 density within ring region b  >= 10%  <= 80%";
    NOT REGION_B LEADING_EXD -outputlayer REGION_B_NOT_EXD;
    AND M6x REGION_B_NOT_EXD -outputlayer X;
    STAMP X REGION_B_NOT_EXD -outputlayer Y;
    ANTENNA REGION_B_NOT_EXD Y -lt 0.1 -expr "  AREA(Y)/AREA(REGION_B_NOT_EXD)  " -rdb IND.DN.1L.M6.density ; // -outputlayer _EPTMPL268248
    ANTENNA REGION_B_NOT_EXD Y -gt 0.8 -expr "  AREA(Y)/AREA(REGION_B_NOT_EXD)  " -rdb IND.DN.1H.M6.density ; // -outputlayer _EPTMPL268249
}

RULE IND.DN.1:M7 {
    CAPTION "M7 density within ring region b  >= 10%  <= 80%";
    NOT REGION_B LEADING_EXD -outputlayer REGION_B_NOT_EXD;
    AND M7x REGION_B_NOT_EXD -outputlayer X;
    STAMP X REGION_B_NOT_EXD -outputlayer Y;
    ANTENNA REGION_B_NOT_EXD Y -lt 0.1 -expr "  AREA(Y)/AREA(REGION_B_NOT_EXD)  " -rdb IND.DN.1L.M7.density ; // -outputlayer _EPTMPL268253
    ANTENNA REGION_B_NOT_EXD Y -gt 0.8 -expr "  AREA(Y)/AREA(REGION_B_NOT_EXD)  " -rdb IND.DN.1H.M7.density ; // -outputlayer _EPTMPL268254
}

RULE IND.DN.1:M8 {
    CAPTION "M8 density within ring region b  >= 10%  <= 80%";
    NOT REGION_B LEADING_EXD -outputlayer REGION_B_NOT_EXD;
    AND M8x REGION_B_NOT_EXD -outputlayer X;
    STAMP X REGION_B_NOT_EXD -outputlayer Y;
    ANTENNA REGION_B_NOT_EXD Y -lt 0.1 -expr "  AREA(Y)/AREA(REGION_B_NOT_EXD)  " -rdb IND.DN.1L.M8.density ; // -outputlayer _EPTMPL268258
    ANTENNA REGION_B_NOT_EXD Y -gt 0.8 -expr "  AREA(Y)/AREA(REGION_B_NOT_EXD)  " -rdb IND.DN.1H.M8.density ; // -outputlayer _EPTMPL268259
}

RULE IND.DN.1:M9 {
    CAPTION "M9 density within ring region b  >= 10%  <= 80%";
    NOT REGION_B LEADING_EXD -outputlayer REGION_B_NOT_EXD;
    AND M9x REGION_B_NOT_EXD -outputlayer X;
    STAMP X REGION_B_NOT_EXD -outputlayer Y;
    ANTENNA REGION_B_NOT_EXD Y -lt 0.1 -expr "  AREA(Y)/AREA(REGION_B_NOT_EXD)  " -rdb IND.DN.1L.M9.density ; // -outputlayer _EPTMPL268263
    ANTENNA REGION_B_NOT_EXD Y -gt 0.8 -expr "  AREA(Y)/AREA(REGION_B_NOT_EXD)  " -rdb IND.DN.1H.M9.density ; // -outputlayer _EPTMPL268264
}

RULE IND.R.8:M1 {
    CAPTION "Maximun empty area within ring region b <= 4 x 12";
    NOT REGION_Bx M1x -outputlayer _EPTMPL268265;
    NOT _EPTMPL268265 M1_GUARD_RING_Px -outputlayer _EPTMPL268266;
    WITH_WIDTH _EPTMPL268266 -ge "4 - GRID" -outputlayer A;
    SELECT -enclose_rect A -width 4 - GRID -length 12+GRID ; // -outputlayer _EPTMPL268268
}

RULE IND.R.8:M2 {
    CAPTION "Maximun empty area within ring region b <= 4 x 12";
    NOT REGION_Bx M2x -outputlayer _EPTMPL268269;
    WITH_WIDTH _EPTMPL268269 -ge "4 - GRID" -outputlayer A;
    SELECT -enclose_rect A -width 4 - GRID -length 12+GRID ; // -outputlayer _EPTMPL268271
}

RULE IND.R.8:M3 {
    CAPTION "Maximun empty area within ring region b <= 4 x 12";
    NOT REGION_Bx M3x -outputlayer _EPTMPL268272;
    WITH_WIDTH _EPTMPL268272 -ge "4 - GRID" -outputlayer A;
    SELECT -enclose_rect A -width 4 - GRID -length 12+GRID ; // -outputlayer _EPTMPL268274
}

RULE IND.R.8:M4 {
    CAPTION "Maximun empty area within ring region b <= 4 x 12";
    NOT REGION_Bx M4x -outputlayer _EPTMPL268275;
    WITH_WIDTH _EPTMPL268275 -ge "4 - GRID" -outputlayer A;
    SELECT -enclose_rect A -width 4 - GRID -length 12+GRID ; // -outputlayer _EPTMPL268277
}

RULE IND.R.8:M5 {
    CAPTION "Maximun empty area within ring region b <= 4 x 12";
    NOT REGION_Bx M5x -outputlayer _EPTMPL268278;
    WITH_WIDTH _EPTMPL268278 -ge "4 - GRID" -outputlayer A;
    SELECT -enclose_rect A -width 4 - GRID -length 12+GRID ; // -outputlayer _EPTMPL268280
}

RULE IND.R.8:M6 {
    CAPTION "Maximun empty area within ring region b <= 4 x 12";
    NOT REGION_Bx M6x -outputlayer _EPTMPL268281;
    WITH_WIDTH _EPTMPL268281 -ge "4 - GRID" -outputlayer A;
    SELECT -enclose_rect A -width 4 - GRID -length 12+GRID ; // -outputlayer _EPTMPL268283
}

RULE IND.R.8:M7 {
    CAPTION "Maximun empty area within ring region b <= 4 x 12";
    NOT REGION_Bx M7x -outputlayer _EPTMPL268284;
    WITH_WIDTH _EPTMPL268284 -ge "4 - GRID" -outputlayer A;
    SELECT -enclose_rect A -width 4 - GRID -length 12+GRID ; // -outputlayer _EPTMPL268286
}

RULE IND.R.8:M8 {
    CAPTION "Maximun empty area within ring region b <= 4 x 12";
    NOT REGION_Bx M8x -outputlayer _EPTMPL268287;
    WITH_WIDTH _EPTMPL268287 -ge "4 - GRID" -outputlayer A;
    SELECT -enclose_rect A -width 4 - GRID -length 12+GRID ; // -outputlayer _EPTMPL268289
}

RULE IND.R.8:M9 {
    CAPTION "Maximun empty area within ring region b <= 4 x 12";
    NOT REGION_Bx M9x -outputlayer _EPTMPL268290;
    WITH_WIDTH _EPTMPL268290 -ge "4 - GRID" -outputlayer A;
    SELECT -enclose_rect A -width 4 - GRID -length 12+GRID ; // -outputlayer _EPTMPL268292
}

RULE IND.R.1 {
    CAPTION "In the region of (INDDMY SIZING 12um), inter-via (Vx) is not allowed.";
    AND VIA1 IND_REGION ; // -outputlayer _EPTMPL268293
    AND VIA2 IND_REGION ; // -outputlayer _EPTMPL268294
    AND VIA3 IND_REGION ; // -outputlayer _EPTMPL268295
    AND VIA4 IND_REGION ; // -outputlayer _EPTMPL268296
    AND VIA5 IND_REGION ; // -outputlayer _EPTMPL268297
    AND VIA6 IND_REGION ; // -outputlayer _EPTMPL268298
}

RULE IND.R.2__IND.R.3:VIA7 {
    CAPTION "More than 4 VIA7 with space <= 1.7 um is required to connect M8(Mz or Mu) and M7(Mz or Mx) for inductor application only.";
    AND M8 M7 -outputlayer _EPTMPL268299;
    AND _EPTMPL268299 IND_REGION -outputlayer M8OvpM7;
    SELECT -interact VIA7_EXD M8OvpM7 -outputlayer Check_VIA7;
    SIZE Check_VIA7 -by "(1.7/2)" -inside_of M8OvpM7 -step "M7_S_1*0.7" -outputlayer VIA7Merge;
    SELECT -enclose VIA7Merge Check_VIA7 -ge 4 -outputlayer VIA7Merge2;
    AND Check_VIA7 VIA7Merge2 -outputlayer Good_VIA7;
    SELECT -interact M8OvpM7 Good_VIA7 -outputlayer GM8OvpM7;
    SELECT -outside Check_VIA7 GM8OvpM7 ; // -outputlayer _EPTMPL268306
}

RULE IND.R.2__IND.R.3:VIA8 {
    CAPTION "More than 4 VIA8 with space <= 1.7 um is required to connect M9(Mz or Mu) and M8(Mz or Mx) for inductor application only.";
    AND M9 M8 -outputlayer _EPTMPL268307;
    AND _EPTMPL268307 IND_REGION -outputlayer M9OvpM8;
    SELECT -interact VIA8_EXD M9OvpM8 -outputlayer Check_VIA8;
    SIZE Check_VIA8 -by "(1.7/2)" -inside_of M9OvpM8 -step "M8_S_1*0.7" -outputlayer VIA8Merge;
    SELECT -enclose VIA8Merge Check_VIA8 -ge 4 -outputlayer VIA8Merge2;
    AND Check_VIA8 VIA8Merge2 -outputlayer Good_VIA8;
    SELECT -interact M9OvpM8 Good_VIA8 -outputlayer GM9OvpM8;
    SELECT -outside Check_VIA8 GM9OvpM8 ; // -outputlayer _EPTMPL268314
}

RULE IND.R.4 {
    CAPTION "In the region a of (INDDMY SIZING -4 um), except the Mx layer directly below [Mz or Mu], any other inter-metal layer (Mx) is not allowed.";
    AND M2 REGION_A ; // -outputlayer _EPTMPL268315
    AND M3 REGION_A ; // -outputlayer _EPTMPL268316
    AND M4 REGION_A ; // -outputlayer _EPTMPL268317
    AND M5 REGION_A ; // -outputlayer _EPTMPL268318
    AND M6 REGION_A ; // -outputlayer _EPTMPL268319
}

RULE IND.R.13 {
    CAPTION "INDDMY enclosure of top metal(inductor) >= 4 um.";
    ANGLE INDDMY -eq 45 -outputlayer INDDMYx45;
    EDGE_BOOLEAN -coincident_only -not INDDMY INDDMYx45 -outputlayer INDDMYx090;
    EDGE_SELECT -coincident_only -inside -not IND_TM_spiral IND_TM_B -outputlayer IND_TM_core_check;
    ENC IND_TM_core_check INDDMYx45 -lt "4 - GRID" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL268323
    ENC IND_TM_core_check INDDMYx090 -lt 4 -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL268324
}

RULE IND.R.6 {
    CAPTION "In region b, 3um x 3um metal islands with 3um space from M2~Mtop are required.";
    SELECT -interact -not REGION_B M2_ISLAND ; // -outputlayer _EPTMPL268325
    SELECT -interact -not REGION_B M3_ISLAND ; // -outputlayer _EPTMPL268326
    SELECT -interact -not REGION_B M4_ISLAND ; // -outputlayer _EPTMPL268327
    SELECT -interact -not REGION_B M5_ISLAND ; // -outputlayer _EPTMPL268328
    SELECT -interact -not REGION_B M6_ISLAND ; // -outputlayer _EPTMPL268329
    SELECT -interact -not REGION_B M7_ISLAND ; // -outputlayer _EPTMPL268330
    SELECT -interact -not REGION_B M8_ISLAND ; // -outputlayer _EPTMPL268331
    SELECT -interact -not REGION_B M9_ISLAND ; // -outputlayer _EPTMPL268332
}

RULE IND.DN.6 {
    CAPTION "Maximum density of INDDMY in whole chip <= 5%";
    DENSITY INDDMY CHIP -gt 0.05 -inside_of layer CHIPx -print "IND.DN.6.density" -expr "  AREA(INDDMY)/AREA(CHIP)  " ; // -outputlayer _EPTMPL268333
}

RULE IND.DN.9 {
    CAPTION "M1/Mx/Mz. metal density over the whole chip >= 20%";
    SELECT -interact CHIPx INDDMY -outputlayer CHIP_IND;
    DENSITY M1x CHIP -lt 0.2 -inside_of layer CHIP_IND -print "IND.DN.9.M1.density" -expr "  AREA(M1x)/AREA(CHIP)  " ; // -outputlayer _EPTMPL268335
    DENSITY M2x CHIP -lt 0.2 -inside_of layer CHIP_IND -print "IND.DN.9.M2.density" -expr "  AREA(M2x)/AREA(CHIP)  " ; // -outputlayer _EPTMPL268336
    DENSITY M3x CHIP -lt 0.2 -inside_of layer CHIP_IND -print "IND.DN.9.M3.density" -expr "  AREA(M3x)/AREA(CHIP)  " ; // -outputlayer _EPTMPL268337
    DENSITY M4x CHIP -lt 0.2 -inside_of layer CHIP_IND -print "IND.DN.9.M4.density" -expr "  AREA(M4x)/AREA(CHIP)  " ; // -outputlayer _EPTMPL268338
    DENSITY M5x CHIP -lt 0.2 -inside_of layer CHIP_IND -print "IND.DN.9.M5.density" -expr "  AREA(M5x)/AREA(CHIP)  " ; // -outputlayer _EPTMPL268339
    DENSITY M6x CHIP -lt 0.2 -inside_of layer CHIP_IND -print "IND.DN.9.M6.density" -expr "  AREA(M6x)/AREA(CHIP)  " ; // -outputlayer _EPTMPL268340
    DENSITY M7x CHIP -lt 0.2 -inside_of layer CHIP_IND -print "IND.DN.9.M7.density" -expr "  AREA(M7x)/AREA(CHIP)  " ; // -outputlayer _EPTMPL268341
    DENSITY M8x CHIP -lt 0.2 -inside_of layer CHIP_IND -print "IND.DN.9.M8.density" -expr "  AREA(M8x)/AREA(CHIP)  " ; // -outputlayer _EPTMPL268342
}

RULE IND.DN.7:M1 {
    CAPTION "Maximum density within (INDDMY SIZING 12 um) over any 50um x 50um area (stepping in 25um) <= 90%";
    DENSITY M1x -gt 0.9 -inside_of layer IND_REGION -window 50 -step 25 -backup -print "IND.DN.7.M1.density" ; // -outputlayer _EPTMPL268343
}

RULE IND.DN.7:M2 {
    CAPTION "Maximum density within (INDDMY SIZING 12 um) over any 50um x 50um area (stepping in 25um) <= 90%";
    DENSITY M2x -gt 0.9 -inside_of layer IND_REGION -window 50 -step 25 -backup -print "IND.DN.7.M2.density" ; // -outputlayer _EPTMPL268344
}

RULE IND.DN.7:M3 {
    CAPTION "Maximum density within (INDDMY SIZING 12 um) over any 50um x 50um area (stepping in 25um) <= 90%";
    DENSITY M3x -gt 0.9 -inside_of layer IND_REGION -window 50 -step 25 -backup -print "IND.DN.7.M3.density" ; // -outputlayer _EPTMPL268345
}

RULE IND.DN.7:M4 {
    CAPTION "Maximum density within (INDDMY SIZING 12 um) over any 50um x 50um area (stepping in 25um) <= 90%";
    DENSITY M4x -gt 0.9 -inside_of layer IND_REGION -window 50 -step 25 -backup -print "IND.DN.7.M4.density" ; // -outputlayer _EPTMPL268346
}

RULE IND.DN.7:M5 {
    CAPTION "Maximum density within (INDDMY SIZING 12 um) over any 50um x 50um area (stepping in 25um) <= 90%";
    DENSITY M5x -gt 0.9 -inside_of layer IND_REGION -window 50 -step 25 -backup -print "IND.DN.7.M5.density" ; // -outputlayer _EPTMPL268347
}

RULE IND.DN.7:M6 {
    CAPTION "Maximum density within (INDDMY SIZING 12 um) over any 50um x 50um area (stepping in 25um) <= 90%";
    DENSITY M6x -gt 0.9 -inside_of layer IND_REGION -window 50 -step 25 -backup -print "IND.DN.7.M6.density" ; // -outputlayer _EPTMPL268348
}

RULE IND.DN.7:M7 {
    CAPTION "Maximum density within (INDDMY SIZING 12 um) over any 50um x 50um area (stepping in 25um) <= 90%";
    DENSITY M7x -gt 0.9 -inside_of layer IND_REGION -window 50 -step 25 -backup -print "IND.DN.7.M7.density" ; // -outputlayer _EPTMPL268349
}

RULE IND.DN.7:M8 {
    CAPTION "Maximum density within (INDDMY SIZING 12 um) over any 50um x 50um area (stepping in 25um) <= 90%";
    DENSITY M8x -gt 0.9 -inside_of layer IND_REGION -window 50 -step 25 -backup -print "IND.DN.7.M8.density" ; // -outputlayer _EPTMPL268350
}

RULE IND.DN.8:M1 {
    CAPTION "Maximum density within (INDDMY SIZING 12 um) over any 100um x 100um area (stepping in 50um) <= 80%";
    DENSITY M1x -gt 0.8 -inside_of layer IND_REGION -window 100 -step 50 -backup -print "IND.DN.8.M1.density" ; // -outputlayer _EPTMPL268351
}

RULE IND.DN.8:M2 {
    CAPTION "Maximum density within (INDDMY SIZING 12 um) over any 100um x 100um area (stepping in 50um) <= 80%";
    DENSITY M2x -gt 0.8 -inside_of layer IND_REGION -window 100 -step 50 -backup -print "IND.DN.8.M2.density" ; // -outputlayer _EPTMPL268352
}

RULE IND.DN.8:M3 {
    CAPTION "Maximum density within (INDDMY SIZING 12 um) over any 100um x 100um area (stepping in 50um) <= 80%";
    DENSITY M3x -gt 0.8 -inside_of layer IND_REGION -window 100 -step 50 -backup -print "IND.DN.8.M3.density" ; // -outputlayer _EPTMPL268353
}

RULE IND.DN.8:M4 {
    CAPTION "Maximum density within (INDDMY SIZING 12 um) over any 100um x 100um area (stepping in 50um) <= 80%";
    DENSITY M4x -gt 0.8 -inside_of layer IND_REGION -window 100 -step 50 -backup -print "IND.DN.8.M4.density" ; // -outputlayer _EPTMPL268354
}

RULE IND.DN.8:M5 {
    CAPTION "Maximum density within (INDDMY SIZING 12 um) over any 100um x 100um area (stepping in 50um) <= 80%";
    DENSITY M5x -gt 0.8 -inside_of layer IND_REGION -window 100 -step 50 -backup -print "IND.DN.8.M5.density" ; // -outputlayer _EPTMPL268355
}

RULE IND.DN.8:M6 {
    CAPTION "Maximum density within (INDDMY SIZING 12 um) over any 100um x 100um area (stepping in 50um) <= 80%";
    DENSITY M6x -gt 0.8 -inside_of layer IND_REGION -window 100 -step 50 -backup -print "IND.DN.8.M6.density" ; // -outputlayer _EPTMPL268356
}

RULE IND.DN.8:M7 {
    CAPTION "Maximum density within (INDDMY SIZING 12 um) over any 100um x 100um area (stepping in 50um) <= 80%";
    DENSITY M7x -gt 0.8 -inside_of layer IND_REGION -window 100 -step 50 -backup -print "IND.DN.8.M7.density" ; // -outputlayer _EPTMPL268357
}

RULE IND.DN.8:M8 {
    CAPTION "Maximum density within (INDDMY SIZING 12 um) over any 100um x 100um area (stepping in 50um) <= 80%";
    DENSITY M8x -gt 0.8 -inside_of layer IND_REGION -window 100 -step 50 -backup -print "IND.DN.8.M8.density" ; // -outputlayer _EPTMPL268358
}
AND M1x IND_COIL_REGION -outputlayer IND_MD_M1;
WITH_WIDTH IND_MD_M1 -gt 1.5 -outputlayer IND_MD_WideM11.5;
WITH_WIDTH IND_MD_WideM11.5 -gt 4.5 -outputlayer IND_MD_WideM14.5;
AND M2x IND_COIL_REGION -outputlayer IND_MD_M2;
WITH_WIDTH IND_MD_M2 -gt 1.5 -outputlayer IND_MD_WideM21.5;
WITH_WIDTH IND_MD_WideM21.5 -gt 4.5 -outputlayer IND_MD_WideM24.5;
AND M3x IND_COIL_REGION -outputlayer IND_MD_M3;
WITH_WIDTH IND_MD_M3 -gt 1.5 -outputlayer IND_MD_WideM31.5;
WITH_WIDTH IND_MD_WideM31.5 -gt 4.5 -outputlayer IND_MD_WideM34.5;
AND M4x IND_COIL_REGION -outputlayer IND_MD_M4;
WITH_WIDTH IND_MD_M4 -gt 1.5 -outputlayer IND_MD_WideM41.5;
WITH_WIDTH IND_MD_WideM41.5 -gt 4.5 -outputlayer IND_MD_WideM44.5;
AND M5x IND_COIL_REGION -outputlayer IND_MD_M5;
WITH_WIDTH IND_MD_M5 -gt 1.5 -outputlayer IND_MD_WideM51.5;
WITH_WIDTH IND_MD_WideM51.5 -gt 4.5 -outputlayer IND_MD_WideM54.5;
AND M6x IND_COIL_REGION -outputlayer IND_MD_M6;
WITH_WIDTH IND_MD_M6 -gt 1.5 -outputlayer IND_MD_WideM61.5;
WITH_WIDTH IND_MD_WideM61.5 -gt 4.5 -outputlayer IND_MD_WideM64.5;
AND M7x IND_COIL_REGION -outputlayer IND_MD_M7;
WITH_WIDTH IND_MD_M7 -gt 1.5 -outputlayer IND_MD_WideM71.5;
WITH_WIDTH IND_MD_WideM71.5 -gt 4.5 -outputlayer IND_MD_WideM74.5;
AND M8x IND_COIL_REGION -outputlayer IND_MD_M8;
WITH_WIDTH IND_MD_M8 -gt 1.5 -outputlayer IND_MD_WideM81.5;
WITH_WIDTH IND_MD_WideM81.5 -gt 4.5 -outputlayer IND_MD_WideM84.5;
AND M9x IND_COIL_REGION -outputlayer IND_MD_M9;
WITH_WIDTH IND_MD_M9 -gt 1.5 -outputlayer IND_MD_WideM91.5;
WITH_WIDTH IND_MD_WideM91.5 -gt 4.5 -outputlayer IND_MD_WideM94.5;

RULE IND_MD.DN.11:L_M1 {
    CAPTION "M1 density in the region of (INDDMY_MD NOT (INDDMY_COIL AND INDDMY_MD)) >= 15%, <= 80%";
    AND INDDMY_COIL INDDMY_MD -outputlayer _EPTMPL268386;
    NOT INDDMY_MD _EPTMPL268386 -outputlayer IND_MD_NOT_COIL;
    COPY IND_MD_NOT_COIL -outputlayer IND_MD_NOT_COILx;
    AND M1x IND_MD_NOT_COIL -outputlayer A;
    DENSITY A IND_MD_NOT_COIL -lt 0.15 -window 75 -step 37.5 -inside_of layer IND_MD_NOT_COILx -backup -expr "  AREA(A)/AREA(IND_MD_NOT_COIL)  " -outputlayer ERR_WIN;
    AND ERR_WIN IND_MD_NOT_COIL -outputlayer _EPTMPL268391;
    WITH_WIDTH _EPTMPL268391 -ge "75/4" -outputlayer F;
    DENSITY F A IND_MD_NOT_COIL -lt 0.15 -window 75 -step 37.5 -inside_of layer IND_MD_NOT_COILx -backup -print "IND_MD.DN.11L.M1.density" -expr "  ! AREA(F)+AREA(A)/AREA(IND_MD_NOT_COIL)  " ; // -outputlayer _EPTMPL268393
}

RULE IND_MD.DN.11:H_M1 {
    CAPTION "M1 density in the region of (INDDMY_MD NOT (INDDMY_COIL AND INDDMY_MD)) >= 15%, <= 80%";
    AND INDDMY_COIL INDDMY_MD -outputlayer _EPTMPL268394;
    NOT INDDMY_MD _EPTMPL268394 -outputlayer IND_MD_NOT_COIL;
    COPY IND_MD_NOT_COIL -outputlayer IND_MD_NOT_COILx;
    AND M1x IND_MD_NOT_COIL -outputlayer A;
    DENSITY A IND_MD_NOT_COIL -gt 0.8 -window 100 -step 50 -inside_of layer IND_MD_NOT_COILx -backup -expr "  AREA(A)/AREA(IND_MD_NOT_COIL)  " -outputlayer ERR_WIN;
    AND ERR_WIN IND_MD_NOT_COIL -outputlayer _EPTMPL268399;
    WITH_WIDTH _EPTMPL268399 -ge "100/4" -outputlayer F;
    DENSITY F A IND_MD_NOT_COIL -gt 0.8 -window 100 -step 50 -inside_of layer IND_MD_NOT_COILx -backup -print "IND_MD.DN.11H.M1.density" -expr "  !! AREA(F)*AREA(A)/AREA(IND_MD_NOT_COIL)  " ; // -outputlayer _EPTMPL268401
}

RULE IND_MD.DN.11:L_M2 {
    CAPTION "M2 density in the region of (INDDMY_MD NOT (INDDMY_COIL AND INDDMY_MD)) >= 15%, <= 80%";
    AND INDDMY_COIL INDDMY_MD -outputlayer _EPTMPL268402;
    NOT INDDMY_MD _EPTMPL268402 -outputlayer IND_MD_NOT_COIL;
    COPY IND_MD_NOT_COIL -outputlayer IND_MD_NOT_COILx;
    AND M2x IND_MD_NOT_COIL -outputlayer A;
    DENSITY A IND_MD_NOT_COIL -lt 0.15 -window 75 -step 37.5 -inside_of layer IND_MD_NOT_COILx -backup -expr "  AREA(A)/AREA(IND_MD_NOT_COIL)  " -outputlayer ERR_WIN;
    AND ERR_WIN IND_MD_NOT_COIL -outputlayer _EPTMPL268407;
    WITH_WIDTH _EPTMPL268407 -ge "75/4" -outputlayer F;
    DENSITY F A IND_MD_NOT_COIL -lt 0.15 -window 75 -step 37.5 -inside_of layer IND_MD_NOT_COILx -backup -print "IND_MD.DN.11L.M2.density" -expr "  ! AREA(F)+AREA(A)/AREA(IND_MD_NOT_COIL)  " ; // -outputlayer _EPTMPL268409
}

RULE IND_MD.DN.11:H_M2 {
    CAPTION "M2 density in the region of (INDDMY_MD NOT (INDDMY_COIL AND INDDMY_MD)) >= 15%, <= 80%";
    AND INDDMY_COIL INDDMY_MD -outputlayer _EPTMPL268410;
    NOT INDDMY_MD _EPTMPL268410 -outputlayer IND_MD_NOT_COIL;
    COPY IND_MD_NOT_COIL -outputlayer IND_MD_NOT_COILx;
    AND M2x IND_MD_NOT_COIL -outputlayer A;
    DENSITY A IND_MD_NOT_COIL -gt 0.8 -window 100 -step 50 -inside_of layer IND_MD_NOT_COILx -backup -expr "  AREA(A)/AREA(IND_MD_NOT_COIL)  " -outputlayer ERR_WIN;
    AND ERR_WIN IND_MD_NOT_COIL -outputlayer _EPTMPL268415;
    WITH_WIDTH _EPTMPL268415 -ge "100/4" -outputlayer F;
    DENSITY F A IND_MD_NOT_COIL -gt 0.8 -window 100 -step 50 -inside_of layer IND_MD_NOT_COILx -backup -print "IND_MD.DN.11H.M2.density" -expr "  !! AREA(F)*AREA(A)/AREA(IND_MD_NOT_COIL)  " ; // -outputlayer _EPTMPL268417
}

RULE IND_MD.DN.11:L_M3 {
    CAPTION "M3 density in the region of (INDDMY_MD NOT (INDDMY_COIL AND INDDMY_MD)) >= 15%, <= 80%";
    AND INDDMY_COIL INDDMY_MD -outputlayer _EPTMPL268418;
    NOT INDDMY_MD _EPTMPL268418 -outputlayer IND_MD_NOT_COIL;
    COPY IND_MD_NOT_COIL -outputlayer IND_MD_NOT_COILx;
    AND M3x IND_MD_NOT_COIL -outputlayer A;
    DENSITY A IND_MD_NOT_COIL -lt 0.15 -window 75 -step 37.5 -inside_of layer IND_MD_NOT_COILx -backup -expr "  AREA(A)/AREA(IND_MD_NOT_COIL)  " -outputlayer ERR_WIN;
    AND ERR_WIN IND_MD_NOT_COIL -outputlayer _EPTMPL268423;
    WITH_WIDTH _EPTMPL268423 -ge "75/4" -outputlayer F;
    DENSITY F A IND_MD_NOT_COIL -lt 0.15 -window 75 -step 37.5 -inside_of layer IND_MD_NOT_COILx -backup -print "IND_MD.DN.11L.M3.density" -expr "  ! AREA(F)+AREA(A)/AREA(IND_MD_NOT_COIL)  " ; // -outputlayer _EPTMPL268425
}

RULE IND_MD.DN.11:H_M3 {
    CAPTION "M3 density in the region of (INDDMY_MD NOT (INDDMY_COIL AND INDDMY_MD)) >= 15%, <= 80%";
    AND INDDMY_COIL INDDMY_MD -outputlayer _EPTMPL268426;
    NOT INDDMY_MD _EPTMPL268426 -outputlayer IND_MD_NOT_COIL;
    COPY IND_MD_NOT_COIL -outputlayer IND_MD_NOT_COILx;
    AND M3x IND_MD_NOT_COIL -outputlayer A;
    DENSITY A IND_MD_NOT_COIL -gt 0.8 -window 100 -step 50 -inside_of layer IND_MD_NOT_COILx -backup -expr "  AREA(A)/AREA(IND_MD_NOT_COIL)  " -outputlayer ERR_WIN;
    AND ERR_WIN IND_MD_NOT_COIL -outputlayer _EPTMPL268431;
    WITH_WIDTH _EPTMPL268431 -ge "100/4" -outputlayer F;
    DENSITY F A IND_MD_NOT_COIL -gt 0.8 -window 100 -step 50 -inside_of layer IND_MD_NOT_COILx -backup -print "IND_MD.DN.11H.M3.density" -expr "  !! AREA(F)*AREA(A)/AREA(IND_MD_NOT_COIL)  " ; // -outputlayer _EPTMPL268433
}

RULE IND_MD.DN.11:L_M4 {
    CAPTION "M4 density in the region of (INDDMY_MD NOT (INDDMY_COIL AND INDDMY_MD)) >= 15%, <= 80%";
    AND INDDMY_COIL INDDMY_MD -outputlayer _EPTMPL268434;
    NOT INDDMY_MD _EPTMPL268434 -outputlayer IND_MD_NOT_COIL;
    COPY IND_MD_NOT_COIL -outputlayer IND_MD_NOT_COILx;
    AND M4x IND_MD_NOT_COIL -outputlayer A;
    DENSITY A IND_MD_NOT_COIL -lt 0.15 -window 75 -step 37.5 -inside_of layer IND_MD_NOT_COILx -backup -expr "  AREA(A)/AREA(IND_MD_NOT_COIL)  " -outputlayer ERR_WIN;
    AND ERR_WIN IND_MD_NOT_COIL -outputlayer _EPTMPL268439;
    WITH_WIDTH _EPTMPL268439 -ge "75/4" -outputlayer F;
    DENSITY F A IND_MD_NOT_COIL -lt 0.15 -window 75 -step 37.5 -inside_of layer IND_MD_NOT_COILx -backup -print "IND_MD.DN.11L.M4.density" -expr "  ! AREA(F)+AREA(A)/AREA(IND_MD_NOT_COIL)  " ; // -outputlayer _EPTMPL268441
}

RULE IND_MD.DN.11:H_M4 {
    CAPTION "M4 density in the region of (INDDMY_MD NOT (INDDMY_COIL AND INDDMY_MD)) >= 15%, <= 80%";
    AND INDDMY_COIL INDDMY_MD -outputlayer _EPTMPL268442;
    NOT INDDMY_MD _EPTMPL268442 -outputlayer IND_MD_NOT_COIL;
    COPY IND_MD_NOT_COIL -outputlayer IND_MD_NOT_COILx;
    AND M4x IND_MD_NOT_COIL -outputlayer A;
    DENSITY A IND_MD_NOT_COIL -gt 0.8 -window 100 -step 50 -inside_of layer IND_MD_NOT_COILx -backup -expr "  AREA(A)/AREA(IND_MD_NOT_COIL)  " -outputlayer ERR_WIN;
    AND ERR_WIN IND_MD_NOT_COIL -outputlayer _EPTMPL268447;
    WITH_WIDTH _EPTMPL268447 -ge "100/4" -outputlayer F;
    DENSITY F A IND_MD_NOT_COIL -gt 0.8 -window 100 -step 50 -inside_of layer IND_MD_NOT_COILx -backup -print "IND_MD.DN.11H.M4.density" -expr "  !! AREA(F)*AREA(A)/AREA(IND_MD_NOT_COIL)  " ; // -outputlayer _EPTMPL268449
}

RULE IND_MD.DN.11:L_M5 {
    CAPTION "M5 density in the region of (INDDMY_MD NOT (INDDMY_COIL AND INDDMY_MD)) >= 15%, <= 80%";
    AND INDDMY_COIL INDDMY_MD -outputlayer _EPTMPL268450;
    NOT INDDMY_MD _EPTMPL268450 -outputlayer IND_MD_NOT_COIL;
    COPY IND_MD_NOT_COIL -outputlayer IND_MD_NOT_COILx;
    AND M5x IND_MD_NOT_COIL -outputlayer A;
    DENSITY A IND_MD_NOT_COIL -lt 0.15 -window 75 -step 37.5 -inside_of layer IND_MD_NOT_COILx -backup -expr "  AREA(A)/AREA(IND_MD_NOT_COIL)  " -outputlayer ERR_WIN;
    AND ERR_WIN IND_MD_NOT_COIL -outputlayer _EPTMPL268455;
    WITH_WIDTH _EPTMPL268455 -ge "75/4" -outputlayer F;
    DENSITY F A IND_MD_NOT_COIL -lt 0.15 -window 75 -step 37.5 -inside_of layer IND_MD_NOT_COILx -backup -print "IND_MD.DN.11L.M5.density" -expr "  ! AREA(F)+AREA(A)/AREA(IND_MD_NOT_COIL)  " ; // -outputlayer _EPTMPL268457
}

RULE IND_MD.DN.11:H_M5 {
    CAPTION "M5 density in the region of (INDDMY_MD NOT (INDDMY_COIL AND INDDMY_MD)) >= 15%, <= 80%";
    AND INDDMY_COIL INDDMY_MD -outputlayer _EPTMPL268458;
    NOT INDDMY_MD _EPTMPL268458 -outputlayer IND_MD_NOT_COIL;
    COPY IND_MD_NOT_COIL -outputlayer IND_MD_NOT_COILx;
    AND M5x IND_MD_NOT_COIL -outputlayer A;
    DENSITY A IND_MD_NOT_COIL -gt 0.8 -window 100 -step 50 -inside_of layer IND_MD_NOT_COILx -backup -expr "  AREA(A)/AREA(IND_MD_NOT_COIL)  " -outputlayer ERR_WIN;
    AND ERR_WIN IND_MD_NOT_COIL -outputlayer _EPTMPL268463;
    WITH_WIDTH _EPTMPL268463 -ge "100/4" -outputlayer F;
    DENSITY F A IND_MD_NOT_COIL -gt 0.8 -window 100 -step 50 -inside_of layer IND_MD_NOT_COILx -backup -print "IND_MD.DN.11H.M5.density" -expr "  !! AREA(F)*AREA(A)/AREA(IND_MD_NOT_COIL)  " ; // -outputlayer _EPTMPL268465
}

RULE IND_MD.DN.11:L_M6 {
    CAPTION "M6 density in the region of (INDDMY_MD NOT (INDDMY_COIL AND INDDMY_MD)) >= 15%, <= 80%";
    AND INDDMY_COIL INDDMY_MD -outputlayer _EPTMPL268466;
    NOT INDDMY_MD _EPTMPL268466 -outputlayer IND_MD_NOT_COIL;
    COPY IND_MD_NOT_COIL -outputlayer IND_MD_NOT_COILx;
    AND M6x IND_MD_NOT_COIL -outputlayer A;
    DENSITY A IND_MD_NOT_COIL -lt 0.15 -window 75 -step 37.5 -inside_of layer IND_MD_NOT_COILx -backup -expr "  AREA(A)/AREA(IND_MD_NOT_COIL)  " -outputlayer ERR_WIN;
    AND ERR_WIN IND_MD_NOT_COIL -outputlayer _EPTMPL268471;
    WITH_WIDTH _EPTMPL268471 -ge "75/4" -outputlayer F;
    DENSITY F A IND_MD_NOT_COIL -lt 0.15 -window 75 -step 37.5 -inside_of layer IND_MD_NOT_COILx -backup -print "IND_MD.DN.11L.M6.density" -expr "  ! AREA(F)+AREA(A)/AREA(IND_MD_NOT_COIL)  " ; // -outputlayer _EPTMPL268473
}

RULE IND_MD.DN.11:H_M6 {
    CAPTION "M6 density in the region of (INDDMY_MD NOT (INDDMY_COIL AND INDDMY_MD)) >= 15%, <= 80%";
    AND INDDMY_COIL INDDMY_MD -outputlayer _EPTMPL268474;
    NOT INDDMY_MD _EPTMPL268474 -outputlayer IND_MD_NOT_COIL;
    COPY IND_MD_NOT_COIL -outputlayer IND_MD_NOT_COILx;
    AND M6x IND_MD_NOT_COIL -outputlayer A;
    DENSITY A IND_MD_NOT_COIL -gt 0.8 -window 100 -step 50 -inside_of layer IND_MD_NOT_COILx -backup -expr "  AREA(A)/AREA(IND_MD_NOT_COIL)  " -outputlayer ERR_WIN;
    AND ERR_WIN IND_MD_NOT_COIL -outputlayer _EPTMPL268479;
    WITH_WIDTH _EPTMPL268479 -ge "100/4" -outputlayer F;
    DENSITY F A IND_MD_NOT_COIL -gt 0.8 -window 100 -step 50 -inside_of layer IND_MD_NOT_COILx -backup -print "IND_MD.DN.11H.M6.density" -expr "  !! AREA(F)*AREA(A)/AREA(IND_MD_NOT_COIL)  " ; // -outputlayer _EPTMPL268481
}

RULE IND_MD.DN.11:L_M7 {
    CAPTION "M7 density in the region of (INDDMY_MD NOT (INDDMY_COIL AND INDDMY_MD)) >= 15%, <= 80%";
    AND INDDMY_COIL INDDMY_MD -outputlayer _EPTMPL268482;
    NOT INDDMY_MD _EPTMPL268482 -outputlayer IND_MD_NOT_COIL;
    COPY IND_MD_NOT_COIL -outputlayer IND_MD_NOT_COILx;
    AND M7x IND_MD_NOT_COIL -outputlayer A;
    DENSITY A IND_MD_NOT_COIL -lt 0.15 -window 75 -step 37.5 -inside_of layer IND_MD_NOT_COILx -backup -expr "  AREA(A)/AREA(IND_MD_NOT_COIL)  " -outputlayer ERR_WIN;
    AND ERR_WIN IND_MD_NOT_COIL -outputlayer _EPTMPL268487;
    WITH_WIDTH _EPTMPL268487 -ge "75/4" -outputlayer F;
    DENSITY F A IND_MD_NOT_COIL -lt 0.15 -window 75 -step 37.5 -inside_of layer IND_MD_NOT_COILx -backup -print "IND_MD.DN.11L.M7.density" -expr "  ! AREA(F)+AREA(A)/AREA(IND_MD_NOT_COIL)  " ; // -outputlayer _EPTMPL268489
}

RULE IND_MD.DN.11:H_M7 {
    CAPTION "M7 density in the region of (INDDMY_MD NOT (INDDMY_COIL AND INDDMY_MD)) >= 15%, <= 80%";
    AND INDDMY_COIL INDDMY_MD -outputlayer _EPTMPL268490;
    NOT INDDMY_MD _EPTMPL268490 -outputlayer IND_MD_NOT_COIL;
    COPY IND_MD_NOT_COIL -outputlayer IND_MD_NOT_COILx;
    AND M7x IND_MD_NOT_COIL -outputlayer A;
    DENSITY A IND_MD_NOT_COIL -gt 0.8 -window 100 -step 50 -inside_of layer IND_MD_NOT_COILx -backup -expr "  AREA(A)/AREA(IND_MD_NOT_COIL)  " -outputlayer ERR_WIN;
    AND ERR_WIN IND_MD_NOT_COIL -outputlayer _EPTMPL268495;
    WITH_WIDTH _EPTMPL268495 -ge "100/4" -outputlayer F;
    DENSITY F A IND_MD_NOT_COIL -gt 0.8 -window 100 -step 50 -inside_of layer IND_MD_NOT_COILx -backup -print "IND_MD.DN.11H.M7.density" -expr "  !! AREA(F)*AREA(A)/AREA(IND_MD_NOT_COIL)  " ; // -outputlayer _EPTMPL268497
}

RULE IND_MD.DN.11:L_M8 {
    CAPTION "M8 density in the region of (INDDMY_MD NOT (INDDMY_COIL AND INDDMY_MD)) >= 15%, <= 80%";
    AND INDDMY_COIL INDDMY_MD -outputlayer _EPTMPL268498;
    NOT INDDMY_MD _EPTMPL268498 -outputlayer IND_MD_NOT_COIL;
    COPY IND_MD_NOT_COIL -outputlayer IND_MD_NOT_COILx;
    AND M8x IND_MD_NOT_COIL -outputlayer A;
    DENSITY A IND_MD_NOT_COIL -lt 0.15 -window 75 -step 37.5 -inside_of layer IND_MD_NOT_COILx -backup -expr "  AREA(A)/AREA(IND_MD_NOT_COIL)  " -outputlayer ERR_WIN;
    AND ERR_WIN IND_MD_NOT_COIL -outputlayer _EPTMPL268503;
    WITH_WIDTH _EPTMPL268503 -ge "75/4" -outputlayer F;
    DENSITY F A IND_MD_NOT_COIL -lt 0.15 -window 75 -step 37.5 -inside_of layer IND_MD_NOT_COILx -backup -print "IND_MD.DN.11L.M8.density" -expr "  ! AREA(F)+AREA(A)/AREA(IND_MD_NOT_COIL)  " ; // -outputlayer _EPTMPL268505
}

RULE IND_MD.DN.11:H_M8 {
    CAPTION "M8 density in the region of (INDDMY_MD NOT (INDDMY_COIL AND INDDMY_MD)) >= 15%, <= 80%";
    AND INDDMY_COIL INDDMY_MD -outputlayer _EPTMPL268506;
    NOT INDDMY_MD _EPTMPL268506 -outputlayer IND_MD_NOT_COIL;
    COPY IND_MD_NOT_COIL -outputlayer IND_MD_NOT_COILx;
    AND M8x IND_MD_NOT_COIL -outputlayer A;
    DENSITY A IND_MD_NOT_COIL -gt 0.8 -window 100 -step 50 -inside_of layer IND_MD_NOT_COILx -backup -expr "  AREA(A)/AREA(IND_MD_NOT_COIL)  " -outputlayer ERR_WIN;
    AND ERR_WIN IND_MD_NOT_COIL -outputlayer _EPTMPL268511;
    WITH_WIDTH _EPTMPL268511 -ge "100/4" -outputlayer F;
    DENSITY F A IND_MD_NOT_COIL -gt 0.8 -window 100 -step 50 -inside_of layer IND_MD_NOT_COILx -backup -print "IND_MD.DN.11H.M8.density" -expr "  !! AREA(F)*AREA(A)/AREA(IND_MD_NOT_COIL)  " ; // -outputlayer _EPTMPL268513
}

RULE IND_MD.DN.11:L_M9 {
    CAPTION "M9 density in the region of (INDDMY_MD NOT (INDDMY_COIL AND INDDMY_MD)) >= 15%, <= 80%";
    AND INDDMY_COIL INDDMY_MD -outputlayer _EPTMPL268514;
    NOT INDDMY_MD _EPTMPL268514 -outputlayer IND_MD_NOT_COIL;
    COPY IND_MD_NOT_COIL -outputlayer IND_MD_NOT_COILx;
    AND M9x IND_MD_NOT_COIL -outputlayer A;
    DENSITY A IND_MD_NOT_COIL -lt 0.15 -window 75 -step 37.5 -inside_of layer IND_MD_NOT_COILx -backup -expr "  AREA(A)/AREA(IND_MD_NOT_COIL)  " -outputlayer ERR_WIN;
    AND ERR_WIN IND_MD_NOT_COIL -outputlayer _EPTMPL268519;
    WITH_WIDTH _EPTMPL268519 -ge "75/4" -outputlayer F;
    DENSITY F A IND_MD_NOT_COIL -lt 0.15 -window 75 -step 37.5 -inside_of layer IND_MD_NOT_COILx -backup -print "IND_MD.DN.11L.M9.density" -expr "  ! AREA(F)+AREA(A)/AREA(IND_MD_NOT_COIL)  " ; // -outputlayer _EPTMPL268521
}

RULE IND_MD.DN.11:H_M9 {
    CAPTION "M9 density in the region of (INDDMY_MD NOT (INDDMY_COIL AND INDDMY_MD)) >= 15%, <= 80%";
    AND INDDMY_COIL INDDMY_MD -outputlayer _EPTMPL268522;
    NOT INDDMY_MD _EPTMPL268522 -outputlayer IND_MD_NOT_COIL;
    COPY IND_MD_NOT_COIL -outputlayer IND_MD_NOT_COILx;
    AND M9x IND_MD_NOT_COIL -outputlayer A;
    DENSITY A IND_MD_NOT_COIL -gt 0.8 -window 100 -step 50 -inside_of layer IND_MD_NOT_COILx -backup -expr "  AREA(A)/AREA(IND_MD_NOT_COIL)  " -outputlayer ERR_WIN;
    AND ERR_WIN IND_MD_NOT_COIL -outputlayer _EPTMPL268527;
    WITH_WIDTH _EPTMPL268527 -ge "100/4" -outputlayer F;
    DENSITY F A IND_MD_NOT_COIL -gt 0.8 -window 100 -step 50 -inside_of layer IND_MD_NOT_COILx -backup -print "IND_MD.DN.11H.M9.density" -expr "  !! AREA(F)*AREA(A)/AREA(IND_MD_NOT_COIL)  " ; // -outputlayer _EPTMPL268529
}
AND VIA1 IND_MD_REGION -outputlayer _EPTMPL268530;
SIZE _EPTMPL268530 -by "IND_MD_DN_10R" -outputlayer _EPTMPL268531;
AND _EPTMPL268531 IND_MD_REGION -outputlayer MD_INT_VIA1pre;
COPY MD_INT_VIA1pre -outputlayer MD_INT_VIA1;
AND VIA2 IND_MD_REGION -outputlayer _EPTMPL268534;
SIZE _EPTMPL268534 -by "IND_MD_DN_10R" -outputlayer _EPTMPL268535;
AND _EPTMPL268535 IND_MD_REGION -outputlayer MD_INT_VIA2pre;
OR MD_INT_VIA2pre MD_INT_VIA1 -outputlayer MD_INT_VIA2;
AND VIA3 IND_MD_REGION -outputlayer _EPTMPL268538;
SIZE _EPTMPL268538 -by "IND_MD_DN_10R" -outputlayer _EPTMPL268539;
AND _EPTMPL268539 IND_MD_REGION -outputlayer MD_INT_VIA3pre;
OR MD_INT_VIA3pre MD_INT_VIA2 -outputlayer MD_INT_VIA3;
AND VIA4 IND_MD_REGION -outputlayer _EPTMPL268542;
SIZE _EPTMPL268542 -by "IND_MD_DN_10R" -outputlayer _EPTMPL268543;
AND _EPTMPL268543 IND_MD_REGION -outputlayer MD_INT_VIA4pre;
OR MD_INT_VIA4pre MD_INT_VIA3 -outputlayer MD_INT_VIA4;
AND VIA5 IND_MD_REGION -outputlayer _EPTMPL268546;
SIZE _EPTMPL268546 -by "IND_MD_DN_10R" -outputlayer _EPTMPL268547;
AND _EPTMPL268547 IND_MD_REGION -outputlayer MD_INT_VIA5pre;
OR MD_INT_VIA5pre MD_INT_VIA4 -outputlayer MD_INT_VIA5;
AND VIA6 IND_MD_REGION -outputlayer _EPTMPL268550;
SIZE _EPTMPL268550 -by "IND_MD_DN_10R" -outputlayer _EPTMPL268551;
AND _EPTMPL268551 IND_MD_REGION -outputlayer MD_INT_VIA6pre;
OR MD_INT_VIA6pre MD_INT_VIA5 -outputlayer MD_INT_VIA6;
COPY MD_INT_VIA6 -outputlayer MD_INT_DEN_CHK;
COPY MD_INT_DEN_CHK -outputlayer MD_INT_DEN_CHKx;

RULE IND_MD.DN.10:M1 {
    CAPTION "For the region of (INDDMY_MD SIZING 12um) with VIAx adopted, mim metal density over any 15*15um2 area for all lower mental layer >= 15%";
    DENSITY M1x MD_INT_DEN_CHK -lt IND_MD_DN_10 -window "IND_MD_DN_10W" -step "IND_MD_DN_10W/2" -backup -inside_of layer MD_INT_DEN_CHKx -by_polygon -print "IND_MD.DN.10.density_M1.rep" -expr "  AREA(M1x)/AREA(MD_INT_DEN_CHK)  " ; // -outputlayer _EPTMPL268556
}

RULE IND_MD.DN.10:M2 {
    CAPTION "For the region of (INDDMY_MD SIZING 12um) with VIAx adopted, mim metal density over any 15*15um2 area for all lower mental layer >= 15%";
    DENSITY M2x MD_INT_DEN_CHK -lt IND_MD_DN_10 -window "IND_MD_DN_10W" -step "IND_MD_DN_10W/2" -backup -inside_of layer MD_INT_DEN_CHKx -by_polygon -print "IND_MD.DN.10.density_M2.rep" -expr "  AREA(M2x)/AREA(MD_INT_DEN_CHK)  " ; // -outputlayer _EPTMPL268557
}

RULE IND_MD.DN.10:M3 {
    CAPTION "For the region of (INDDMY_MD SIZING 12um) with VIAx adopted, mim metal density over any 15*15um2 area for all lower mental layer >= 15%";
    DENSITY M3x MD_INT_DEN_CHK -lt IND_MD_DN_10 -window "IND_MD_DN_10W" -step "IND_MD_DN_10W/2" -backup -inside_of layer MD_INT_DEN_CHKx -by_polygon -print "IND_MD.DN.10.density_M3.rep" -expr "  AREA(M3x)/AREA(MD_INT_DEN_CHK)  " ; // -outputlayer _EPTMPL268558
}

RULE IND_MD.DN.10:M4 {
    CAPTION "For the region of (INDDMY_MD SIZING 12um) with VIAx adopted, mim metal density over any 15*15um2 area for all lower mental layer >= 15%";
    DENSITY M4x MD_INT_DEN_CHK -lt IND_MD_DN_10 -window "IND_MD_DN_10W" -step "IND_MD_DN_10W/2" -backup -inside_of layer MD_INT_DEN_CHKx -by_polygon -print "IND_MD.DN.10.density_M4.rep" -expr "  AREA(M4x)/AREA(MD_INT_DEN_CHK)  " ; // -outputlayer _EPTMPL268559
}

RULE IND_MD.DN.10:M5 {
    CAPTION "For the region of (INDDMY_MD SIZING 12um) with VIAx adopted, mim metal density over any 15*15um2 area for all lower mental layer >= 15%";
    DENSITY M5x MD_INT_DEN_CHK -lt IND_MD_DN_10 -window "IND_MD_DN_10W" -step "IND_MD_DN_10W/2" -backup -inside_of layer MD_INT_DEN_CHKx -by_polygon -print "IND_MD.DN.10.density_M5.rep" -expr "  AREA(M5x)/AREA(MD_INT_DEN_CHK)  " ; // -outputlayer _EPTMPL268560
}

RULE IND_MD.DN.10:M6 {
    CAPTION "For the region of (INDDMY_MD SIZING 12um) with VIAx adopted, mim metal density over any 15*15um2 area for all lower mental layer >= 15%";
    DENSITY M6x MD_INT_DEN_CHK -lt IND_MD_DN_10 -window "IND_MD_DN_10W" -step "IND_MD_DN_10W/2" -backup -inside_of layer MD_INT_DEN_CHKx -by_polygon -print "IND_MD.DN.10.density_M6.rep" -expr "  AREA(M6x)/AREA(MD_INT_DEN_CHK)  " ; // -outputlayer _EPTMPL268561
}

RULE IND_MD.R.17:VIA1 {
    CAPTION "At least 100 VIA1 with space <= 0.2 um are required to connect M2(Mx) and M1(Mx or M1) in (INDDMY_MD SIZING 12 um)";
    AND M2 M1 -outputlayer _EPTMPL268562;
    AND _EPTMPL268562 IND_MD_REGION -outputlayer MD_M2OvpM1;
    SELECT -interact VIA1_EXD MD_M2OvpM1 -outputlayer MD_Check_VIA1;
    SIZE MD_Check_VIA1 -by "(IND_MD_R_17/2)" -inside_of MD_M2OvpM1 -step "M1_S_1*0.7" -outputlayer MD_VIA1Merge;
    SELECT -enclose MD_VIA1Merge MD_Check_VIA1 -ge IND_MD_R_17_N -outputlayer MD_VIA1Merge2;
    AND MD_Check_VIA1 MD_VIA1Merge2 -outputlayer MD_Good_VIA1;
    SELECT -interact MD_M2OvpM1 MD_Good_VIA1 -outputlayer MD_GM2OvpM1;
    SELECT -outside MD_Check_VIA1 MD_GM2OvpM1 ; // -outputlayer _EPTMPL268569
}

RULE IND_MD.R.17:VIA2 {
    CAPTION "At least 100 VIA2 with space <= 0.2 um are required to connect M3(Mx) and M2(Mx or M1) in (INDDMY_MD SIZING 12 um)";
    AND M3 M2 -outputlayer _EPTMPL268570;
    AND _EPTMPL268570 IND_MD_REGION -outputlayer MD_M3OvpM2;
    SELECT -interact VIA2_EXD MD_M3OvpM2 -outputlayer MD_Check_VIA2;
    SIZE MD_Check_VIA2 -by "(IND_MD_R_17/2)" -inside_of MD_M3OvpM2 -step "M2_S_1*0.7" -outputlayer MD_VIA2Merge;
    SELECT -enclose MD_VIA2Merge MD_Check_VIA2 -ge IND_MD_R_17_N -outputlayer MD_VIA2Merge2;
    AND MD_Check_VIA2 MD_VIA2Merge2 -outputlayer MD_Good_VIA2;
    SELECT -interact MD_M3OvpM2 MD_Good_VIA2 -outputlayer MD_GM3OvpM2;
    SELECT -outside MD_Check_VIA2 MD_GM3OvpM2 ; // -outputlayer _EPTMPL268577
}

RULE IND_MD.R.17:VIA3 {
    CAPTION "At least 100 VIA3 with space <= 0.2 um are required to connect M4(Mx) and M3(Mx or M1) in (INDDMY_MD SIZING 12 um)";
    AND M4 M3 -outputlayer _EPTMPL268578;
    AND _EPTMPL268578 IND_MD_REGION -outputlayer MD_M4OvpM3;
    SELECT -interact VIA3_EXD MD_M4OvpM3 -outputlayer MD_Check_VIA3;
    SIZE MD_Check_VIA3 -by "(IND_MD_R_17/2)" -inside_of MD_M4OvpM3 -step "M3_S_1*0.7" -outputlayer MD_VIA3Merge;
    SELECT -enclose MD_VIA3Merge MD_Check_VIA3 -ge IND_MD_R_17_N -outputlayer MD_VIA3Merge2;
    AND MD_Check_VIA3 MD_VIA3Merge2 -outputlayer MD_Good_VIA3;
    SELECT -interact MD_M4OvpM3 MD_Good_VIA3 -outputlayer MD_GM4OvpM3;
    SELECT -outside MD_Check_VIA3 MD_GM4OvpM3 ; // -outputlayer _EPTMPL268585
}

RULE IND_MD.R.17:VIA4 {
    CAPTION "At least 100 VIA4 with space <= 0.2 um are required to connect M5(Mx) and M4(Mx or M1) in (INDDMY_MD SIZING 12 um)";
    AND M5 M4 -outputlayer _EPTMPL268586;
    AND _EPTMPL268586 IND_MD_REGION -outputlayer MD_M5OvpM4;
    SELECT -interact VIA4_EXD MD_M5OvpM4 -outputlayer MD_Check_VIA4;
    SIZE MD_Check_VIA4 -by "(IND_MD_R_17/2)" -inside_of MD_M5OvpM4 -step "M4_S_1*0.7" -outputlayer MD_VIA4Merge;
    SELECT -enclose MD_VIA4Merge MD_Check_VIA4 -ge IND_MD_R_17_N -outputlayer MD_VIA4Merge2;
    AND MD_Check_VIA4 MD_VIA4Merge2 -outputlayer MD_Good_VIA4;
    SELECT -interact MD_M5OvpM4 MD_Good_VIA4 -outputlayer MD_GM5OvpM4;
    SELECT -outside MD_Check_VIA4 MD_GM5OvpM4 ; // -outputlayer _EPTMPL268593
}

RULE IND_MD.R.17:VIA5 {
    CAPTION "At least 100 VIA5 with space <= 0.2 um are required to connect M6(Mx) and M5(Mx or M1) in (INDDMY_MD SIZING 12 um)";
    AND M6 M5 -outputlayer _EPTMPL268594;
    AND _EPTMPL268594 IND_MD_REGION -outputlayer MD_M6OvpM5;
    SELECT -interact VIA5_EXD MD_M6OvpM5 -outputlayer MD_Check_VIA5;
    SIZE MD_Check_VIA5 -by "(IND_MD_R_17/2)" -inside_of MD_M6OvpM5 -step "M5_S_1*0.7" -outputlayer MD_VIA5Merge;
    SELECT -enclose MD_VIA5Merge MD_Check_VIA5 -ge IND_MD_R_17_N -outputlayer MD_VIA5Merge2;
    AND MD_Check_VIA5 MD_VIA5Merge2 -outputlayer MD_Good_VIA5;
    SELECT -interact MD_M6OvpM5 MD_Good_VIA5 -outputlayer MD_GM6OvpM5;
    SELECT -outside MD_Check_VIA5 MD_GM6OvpM5 ; // -outputlayer _EPTMPL268601
}

RULE IND_MD.R.17:VIA6 {
    CAPTION "At least 100 VIA6 with space <= 0.2 um are required to connect M7(Mx) and M6(Mx or M1) in (INDDMY_MD SIZING 12 um)";
    AND M7 M6 -outputlayer _EPTMPL268602;
    AND _EPTMPL268602 IND_MD_REGION -outputlayer MD_M7OvpM6;
    SELECT -interact VIA6_EXD MD_M7OvpM6 -outputlayer MD_Check_VIA6;
    SIZE MD_Check_VIA6 -by "(IND_MD_R_17/2)" -inside_of MD_M7OvpM6 -step "M6_S_1*0.7" -outputlayer MD_VIA6Merge;
    SELECT -enclose MD_VIA6Merge MD_Check_VIA6 -ge IND_MD_R_17_N -outputlayer MD_VIA6Merge2;
    AND MD_Check_VIA6 MD_VIA6Merge2 -outputlayer MD_Good_VIA6;
    SELECT -interact MD_M7OvpM6 MD_Good_VIA6 -outputlayer MD_GM7OvpM6;
    SELECT -outside MD_Check_VIA6 MD_GM7OvpM6 ; // -outputlayer _EPTMPL268609
}

RULE IND_MD.W.1 {
    CAPTION "M1, DM1, DM1_O width in (INDDMY_COIL SIZING 16 um) >= 0.4";
    SELECT -outside -not M1x IND_COIL_REGION -outputlayer A;
    INTE A -lt "IND_MD_W_1-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268611;
    SELECT -outside -not _EPTMPL268611 IND_COIL_REGION ; // -outputlayer _EPTMPL268612
}

RULE IND_MD.W.2:M2 {
    CAPTION "Mx , DMx , DMx_O width in (INDDMY_COIL SIZING 16 um) >= 0.6";
    SELECT -outside -not M2x IND_COIL_REGION -outputlayer A;
    INTE A -lt "IND_MD_W_2-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268614;
    SELECT -outside -not _EPTMPL268614 IND_COIL_REGION ; // -outputlayer _EPTMPL268615
}

RULE IND_MD.W.2:M3 {
    CAPTION "Mx , DMx , DMx_O width in (INDDMY_COIL SIZING 16 um) >= 0.6";
    SELECT -outside -not M3x IND_COIL_REGION -outputlayer A;
    INTE A -lt "IND_MD_W_2-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268617;
    SELECT -outside -not _EPTMPL268617 IND_COIL_REGION ; // -outputlayer _EPTMPL268618
}

RULE IND_MD.W.2:M4 {
    CAPTION "Mx , DMx , DMx_O width in (INDDMY_COIL SIZING 16 um) >= 0.6";
    SELECT -outside -not M4x IND_COIL_REGION -outputlayer A;
    INTE A -lt "IND_MD_W_2-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268620;
    SELECT -outside -not _EPTMPL268620 IND_COIL_REGION ; // -outputlayer _EPTMPL268621
}

RULE IND_MD.W.2:M5 {
    CAPTION "Mx , DMx , DMx_O width in (INDDMY_COIL SIZING 16 um) >= 0.6";
    SELECT -outside -not M5x IND_COIL_REGION -outputlayer A;
    INTE A -lt "IND_MD_W_2-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268623;
    SELECT -outside -not _EPTMPL268623 IND_COIL_REGION ; // -outputlayer _EPTMPL268624
}

RULE IND_MD.W.2:M6 {
    CAPTION "Mx , DMx , DMx_O width in (INDDMY_COIL SIZING 16 um) >= 0.6";
    SELECT -outside -not M6x IND_COIL_REGION -outputlayer A;
    INTE A -lt "IND_MD_W_2-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268626;
    SELECT -outside -not _EPTMPL268626 IND_COIL_REGION ; // -outputlayer _EPTMPL268627
}

RULE IND_MD.W.2:M7 {
    CAPTION "Mx , DMx , DMx_O width in (INDDMY_COIL SIZING 16 um) >= 0.6";
    SELECT -outside -not M7x IND_COIL_REGION -outputlayer A;
    INTE A -lt "IND_MD_W_2-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268629;
    SELECT -outside -not _EPTMPL268629 IND_COIL_REGION ; // -outputlayer _EPTMPL268630
}

RULE IND_MD.W.3:M8 {
    CAPTION "Mz , DMz width in (INDDMY_COIL SIZING 16 um)>= 0.8";
    SELECT -outside -not M8x IND_COIL_REGION -outputlayer A;
    INTE A -lt "IND_MD_W_3-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268632;
    SELECT -outside -not _EPTMPL268632 IND_COIL_REGION ; // -outputlayer _EPTMPL268633
}

RULE IND_MD.W.4:M1 {
    CAPTION "M1, DM1, DM1_O/Mx, DMx, DMx_O maximum width <= 12";
    SELECT -outside -not M1x IND_COIL_REGION -outputlayer A;
    SIZE A -by "(IND_MD_W_4+0.01)/2" -underover -truncate "(IND_MD_W_4+0.01)/2" ; // -outputlayer _EPTMPL268635
}

RULE IND_MD.W.4:M2 {
    CAPTION "M1, DM1, DM1_O/Mx, DMx, DMx_O maximum width <= 12";
    SELECT -outside -not M2x IND_COIL_REGION -outputlayer A;
    SIZE A -by "(IND_MD_W_4+0.01)/2" -underover -truncate "(IND_MD_W_4+0.01)/2" ; // -outputlayer _EPTMPL268637
}

RULE IND_MD.W.4:M3 {
    CAPTION "M1, DM1, DM1_O/Mx, DMx, DMx_O maximum width <= 12";
    SELECT -outside -not M3x IND_COIL_REGION -outputlayer A;
    SIZE A -by "(IND_MD_W_4+0.01)/2" -underover -truncate "(IND_MD_W_4+0.01)/2" ; // -outputlayer _EPTMPL268639
}

RULE IND_MD.W.4:M4 {
    CAPTION "M1, DM1, DM1_O/Mx, DMx, DMx_O maximum width <= 12";
    SELECT -outside -not M4x IND_COIL_REGION -outputlayer A;
    SIZE A -by "(IND_MD_W_4+0.01)/2" -underover -truncate "(IND_MD_W_4+0.01)/2" ; // -outputlayer _EPTMPL268641
}

RULE IND_MD.W.4:M5 {
    CAPTION "M1, DM1, DM1_O/Mx, DMx, DMx_O maximum width <= 12";
    SELECT -outside -not M5x IND_COIL_REGION -outputlayer A;
    SIZE A -by "(IND_MD_W_4+0.01)/2" -underover -truncate "(IND_MD_W_4+0.01)/2" ; // -outputlayer _EPTMPL268643
}

RULE IND_MD.W.4:M6 {
    CAPTION "M1, DM1, DM1_O/Mx, DMx, DMx_O maximum width <= 12";
    SELECT -outside -not M6x IND_COIL_REGION -outputlayer A;
    SIZE A -by "(IND_MD_W_4+0.01)/2" -underover -truncate "(IND_MD_W_4+0.01)/2" ; // -outputlayer _EPTMPL268645
}

RULE IND_MD.W.4:M7 {
    CAPTION "M1, DM1, DM1_O/Mx, DMx, DMx_O maximum width <= 12";
    SELECT -outside -not M7x IND_COIL_REGION -outputlayer A;
    SIZE A -by "(IND_MD_W_4+0.01)/2" -underover -truncate "(IND_MD_W_4+0.01)/2" ; // -outputlayer _EPTMPL268647
}

RULE IND_MD.W.7 {
    CAPTION "Max. dimension (either width or length) of an INDDMY_MD region <= 600 um";
    SELECT -enclose_rect INDDMY_MD -width 0.005 -length 600.005+0.01 -orthogonal_only ; // -outputlayer _EPTMPL268648
}

RULE IND_MD.S.1 {
    CAPTION "M1, DM1,DM1_O space in (INDDMY_COIL SIZING 16 um) >= 0.4";
    SELECT -outside -not M1x IND_COIL_REGION -outputlayer A;
    EXTE A -lt "IND_MD_S_1-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268650;
    SELECT -outside -not _EPTMPL268650 IND_COIL_REGION ; // -outputlayer _EPTMPL268651
}

RULE IND_MD.S.2:M2 {
    CAPTION "Mx, DMx, DMx_O space in (INDDMY_COIL SIZING 16 um) >= 0.6";
    SELECT -outside -not M2x IND_COIL_REGION -outputlayer A;
    EXTE A -lt "IND_MD_S_2-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268653;
    SELECT -outside -not _EPTMPL268653 IND_COIL_REGION ; // -outputlayer _EPTMPL268654
}

RULE IND_MD.S.2:M3 {
    CAPTION "Mx, DMx, DMx_O space in (INDDMY_COIL SIZING 16 um) >= 0.6";
    SELECT -outside -not M3x IND_COIL_REGION -outputlayer A;
    EXTE A -lt "IND_MD_S_2-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268656;
    SELECT -outside -not _EPTMPL268656 IND_COIL_REGION ; // -outputlayer _EPTMPL268657
}

RULE IND_MD.S.2:M4 {
    CAPTION "Mx, DMx, DMx_O space in (INDDMY_COIL SIZING 16 um) >= 0.6";
    SELECT -outside -not M4x IND_COIL_REGION -outputlayer A;
    EXTE A -lt "IND_MD_S_2-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268659;
    SELECT -outside -not _EPTMPL268659 IND_COIL_REGION ; // -outputlayer _EPTMPL268660
}

RULE IND_MD.S.2:M5 {
    CAPTION "Mx, DMx, DMx_O space in (INDDMY_COIL SIZING 16 um) >= 0.6";
    SELECT -outside -not M5x IND_COIL_REGION -outputlayer A;
    EXTE A -lt "IND_MD_S_2-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268662;
    SELECT -outside -not _EPTMPL268662 IND_COIL_REGION ; // -outputlayer _EPTMPL268663
}

RULE IND_MD.S.2:M6 {
    CAPTION "Mx, DMx, DMx_O space in (INDDMY_COIL SIZING 16 um) >= 0.6";
    SELECT -outside -not M6x IND_COIL_REGION -outputlayer A;
    EXTE A -lt "IND_MD_S_2-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268665;
    SELECT -outside -not _EPTMPL268665 IND_COIL_REGION ; // -outputlayer _EPTMPL268666
}

RULE IND_MD.S.2:M7 {
    CAPTION "Mx, DMx, DMx_O space in (INDDMY_COIL SIZING 16 um) >= 0.6";
    SELECT -outside -not M7x IND_COIL_REGION -outputlayer A;
    EXTE A -lt "IND_MD_S_2-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268668;
    SELECT -outside -not _EPTMPL268668 IND_COIL_REGION ; // -outputlayer _EPTMPL268669
}

RULE IND_MD.S.3:M8 {
    CAPTION "Mz, DMz space in (INDDMY_COIL SIZING 16um) >= 0.8";
    SELECT -outside -not M8x IND_COIL_REGION -outputlayer A;
    EXTE A -lt "IND_MD_S_3-0.01" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL268671;
    SELECT -outside -not _EPTMPL268671 IND_COIL_REGION ; // -outputlayer _EPTMPL268672
}

RULE IND_MD.S.4:M1 {
    CAPTION "M1, DM1, DM1_O/Mx, DMx, DMx_O/Mz, DMz space in (INDDMY_COIL SIZING 16 um) [at least one metal line width > 1.5 um (W1) and the parallel metal run length > 1.5 um (L1)] >= 1.0";
    EXTE IND_MD_WideM11.5 M1x -lt "IND_MD_S_4-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M1x -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 1.5+GRID ; // -outputlayer _EPTMPL268675
}

RULE IND_MD.S.5:M1 {
    CAPTION "M1, DM1, DM1_O/Mx, DMx, DMx_O/Mz, DMz space in (INDDMY_COIL SIZING 16 um) [at least one metal line width > 4.5 um (W2) and the parallel metal run length > 4.5 um (L2)] >= 2.0";
    EXTE IND_MD_WideM14.5 M1x -lt "IND_MD_S_5-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M1x -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 4.5+GRID ; // -outputlayer _EPTMPL268678
}

RULE IND_MD.S.4:M2 {
    CAPTION "M1, DM1, DM1_O/Mx, DMx, DMx_O/Mz, DMz space in (INDDMY_COIL SIZING 16 um) [at least one metal line width > 1.5 um (W1) and the parallel metal run length > 1.5 um (L1)] >= 1.0";
    EXTE IND_MD_WideM21.5 M2x -lt "IND_MD_S_4-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M2x -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 1.5+GRID ; // -outputlayer _EPTMPL268681
}

RULE IND_MD.S.5:M2 {
    CAPTION "M1, DM1, DM1_O/Mx, DMx, DMx_O/Mz, DMz space in (INDDMY_COIL SIZING 16 um) [at least one metal line width > 4.5 um (W2) and the parallel metal run length > 4.5 um (L2)] >= 2.0";
    EXTE IND_MD_WideM24.5 M2x -lt "IND_MD_S_5-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M2x -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 4.5+GRID ; // -outputlayer _EPTMPL268684
}

RULE IND_MD.S.4:M3 {
    CAPTION "M1, DM1, DM1_O/Mx, DMx, DMx_O/Mz, DMz space in (INDDMY_COIL SIZING 16 um) [at least one metal line width > 1.5 um (W1) and the parallel metal run length > 1.5 um (L1)] >= 1.0";
    EXTE IND_MD_WideM31.5 M3x -lt "IND_MD_S_4-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M3x -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 1.5+GRID ; // -outputlayer _EPTMPL268687
}

RULE IND_MD.S.5:M3 {
    CAPTION "M1, DM1, DM1_O/Mx, DMx, DMx_O/Mz, DMz space in (INDDMY_COIL SIZING 16 um) [at least one metal line width > 4.5 um (W2) and the parallel metal run length > 4.5 um (L2)] >= 2.0";
    EXTE IND_MD_WideM34.5 M3x -lt "IND_MD_S_5-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M3x -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 4.5+GRID ; // -outputlayer _EPTMPL268690
}

RULE IND_MD.S.4:M4 {
    CAPTION "M1, DM1, DM1_O/Mx, DMx, DMx_O/Mz, DMz space in (INDDMY_COIL SIZING 16 um) [at least one metal line width > 1.5 um (W1) and the parallel metal run length > 1.5 um (L1)] >= 1.0";
    EXTE IND_MD_WideM41.5 M4x -lt "IND_MD_S_4-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M4x -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 1.5+GRID ; // -outputlayer _EPTMPL268693
}

RULE IND_MD.S.5:M4 {
    CAPTION "M1, DM1, DM1_O/Mx, DMx, DMx_O/Mz, DMz space in (INDDMY_COIL SIZING 16 um) [at least one metal line width > 4.5 um (W2) and the parallel metal run length > 4.5 um (L2)] >= 2.0";
    EXTE IND_MD_WideM44.5 M4x -lt "IND_MD_S_5-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M4x -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 4.5+GRID ; // -outputlayer _EPTMPL268696
}

RULE IND_MD.S.4:M5 {
    CAPTION "M1, DM1, DM1_O/Mx, DMx, DMx_O/Mz, DMz space in (INDDMY_COIL SIZING 16 um) [at least one metal line width > 1.5 um (W1) and the parallel metal run length > 1.5 um (L1)] >= 1.0";
    EXTE IND_MD_WideM51.5 M5x -lt "IND_MD_S_4-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M5x -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 1.5+GRID ; // -outputlayer _EPTMPL268699
}

RULE IND_MD.S.5:M5 {
    CAPTION "M1, DM1, DM1_O/Mx, DMx, DMx_O/Mz, DMz space in (INDDMY_COIL SIZING 16 um) [at least one metal line width > 4.5 um (W2) and the parallel metal run length > 4.5 um (L2)] >= 2.0";
    EXTE IND_MD_WideM54.5 M5x -lt "IND_MD_S_5-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M5x -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 4.5+GRID ; // -outputlayer _EPTMPL268702
}

RULE IND_MD.S.4:M6 {
    CAPTION "M1, DM1, DM1_O/Mx, DMx, DMx_O/Mz, DMz space in (INDDMY_COIL SIZING 16 um) [at least one metal line width > 1.5 um (W1) and the parallel metal run length > 1.5 um (L1)] >= 1.0";
    EXTE IND_MD_WideM61.5 M6x -lt "IND_MD_S_4-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M6x -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 1.5+GRID ; // -outputlayer _EPTMPL268705
}

RULE IND_MD.S.5:M6 {
    CAPTION "M1, DM1, DM1_O/Mx, DMx, DMx_O/Mz, DMz space in (INDDMY_COIL SIZING 16 um) [at least one metal line width > 4.5 um (W2) and the parallel metal run length > 4.5 um (L2)] >= 2.0";
    EXTE IND_MD_WideM64.5 M6x -lt "IND_MD_S_5-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M6x -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 4.5+GRID ; // -outputlayer _EPTMPL268708
}

RULE IND_MD.S.4:M7 {
    CAPTION "M1, DM1, DM1_O/Mx, DMx, DMx_O/Mz, DMz space in (INDDMY_COIL SIZING 16 um) [at least one metal line width > 1.5 um (W1) and the parallel metal run length > 1.5 um (L1)] >= 1.0";
    EXTE IND_MD_WideM71.5 M7x -lt "IND_MD_S_4-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M7x -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 1.5+GRID ; // -outputlayer _EPTMPL268711
}

RULE IND_MD.S.5:M7 {
    CAPTION "M1, DM1, DM1_O/Mx, DMx, DMx_O/Mz, DMz space in (INDDMY_COIL SIZING 16 um) [at least one metal line width > 4.5 um (W2) and the parallel metal run length > 4.5 um (L2)] >= 2.0";
    EXTE IND_MD_WideM74.5 M7x -lt "IND_MD_S_5-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M7x -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 4.5+GRID ; // -outputlayer _EPTMPL268714
}

RULE IND_MD.S.4:M8 {
    CAPTION "M1, DM1, DM1_O/Mx, DMx, DMx_O/Mz, DMz space in (INDDMY_COIL SIZING 16 um) [at least one metal line width > 1.5 um (W1) and the parallel metal run length > 1.5 um (L1)] >= 1.0";
    EXTE IND_MD_WideM81.5 M8x -lt "IND_MD_S_4-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M8x -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 1.5+GRID ; // -outputlayer _EPTMPL268717
}

RULE IND_MD.S.5:M8 {
    CAPTION "M1, DM1, DM1_O/Mx, DMx, DMx_O/Mz, DMz space in (INDDMY_COIL SIZING 16 um) [at least one metal line width > 4.5 um (W2) and the parallel metal run length > 4.5 um (L2)] >= 2.0";
    EXTE IND_MD_WideM84.5 M8x -lt "IND_MD_S_5-0.01" -metric opposite -output region -measure all -outputlayer X;
    NOT X M8x -outputlayer Y;
    SELECT -enclose_rect Y -width GRID -length 4.5+GRID ; // -outputlayer _EPTMPL268720
}

RULE IND_MD.R.2__IND_MD.R.3:VIA7 {
    CAPTION "More than 4 VIA7 with space <= 1.7 um is required to connect M8(Mz or Mu) and M7(Mz or Mx) in (INDDMY_MD SIZING 12 um)";
    AND M8x M7x -outputlayer _EPTMPL268721;
    AND _EPTMPL268721 IND_MD_REGION -outputlayer M8OvpM7;
    SELECT -interact VIA7_EXD M8OvpM7 -outputlayer Check_VIA7;
    SIZE Check_VIA7 -by "(1.7/2)" -inside_of M8OvpM7 -step "M7_S_1*0.7" -outputlayer VIA7Merge;
    SELECT -enclose VIA7Merge Check_VIA7 -ge 4 -outputlayer VIA7Merge2;
    AND Check_VIA7 VIA7Merge2 -outputlayer Good_VIA7;
    SELECT -interact M8OvpM7 Good_VIA7 -outputlayer GM8OvpM7;
    SELECT -outside Check_VIA7 GM8OvpM7 ; // -outputlayer _EPTMPL268728
}

RULE IND_MD.R.2__IND_MD.R.3:VIA8 {
    CAPTION "More than 4 VIA8 with space <= 1.7 um is required to connect M9(Mz or Mu) and M8(Mz or Mx) in (INDDMY_MD SIZING 12 um)";
    AND M9x M8x -outputlayer _EPTMPL268729;
    AND _EPTMPL268729 IND_MD_REGION -outputlayer M9OvpM8;
    SELECT -interact VIA8_EXD M9OvpM8 -outputlayer Check_VIA8;
    SIZE Check_VIA8 -by "(1.7/2)" -inside_of M9OvpM8 -step "M8_S_1*0.7" -outputlayer VIA8Merge;
    SELECT -enclose VIA8Merge Check_VIA8 -ge 4 -outputlayer VIA8Merge2;
    AND Check_VIA8 VIA8Merge2 -outputlayer Good_VIA8;
    SELECT -interact M9OvpM8 Good_VIA8 -outputlayer GM9OvpM8;
    SELECT -outside Check_VIA8 GM9OvpM8 ; // -outputlayer _EPTMPL268736
}
EDGE_BOOLEAN -coincident_only INDDMY_COIL INDDMY_MD -outputlayer _EPTMPL268737;
EDGE_EXPAND _EPTMPL268737 -inside_by 0.005 -outputlayer IND_MD_COIL_AREA1;
EDGE_SELECT -coincident_only INDDMY_COIL IND_MD_COIL_AREA1 -outputlayer _EPTMPL268739;
EDGE_EXPAND _EPTMPL268739 -inside_by 0.005 -outputlayer IND_MD_COIL_AREA2;
OR IND_MD_COIL_AREA1 IND_MD_COIL_AREA2 -outputlayer _EPTMPL268741;
BBOX _EPTMPL268741 -outputlayer IND_MD_leading;
AND M1 INDDMY_COIL -outputlayer INDDMY_COIL_M1;
AND M1 IND_MD_REGION -outputlayer _EPTMPL268744;
EXTE _EPTMPL268744 INDDMY_MD -lt 0.01 -abut -legt 0 135 -intersecting ONLY -output region -outputlayer IND_MD_M1_A;
EDGE_SELECT -coincident_only -outside M1 IND_MD_M1_A -outputlayer IND_MD_M1_B;
AND M1 IND_MD_leading -outputlayer IND_MD_leading_M1;
NOT INDDMY_COIL_M1 IND_MD_leading_M1 -outputlayer _EPTMPL268748;
AND _EPTMPL268748 INDDMY_MD -outputlayer IND_MD_spiral_M1;

RULE IND_MD.R.13:M1 {
    CAPTION "INDDMY_MD enclosure of inductor metal spirals >= 4 um.";
    ANGLE INDDMY_MD -eq 45 -outputlayer INDDMY_MD_45;
    EDGE_BOOLEAN -coincident_only -not INDDMY_MD INDDMY_MD_45 -outputlayer INDDMY_MD_90;
    EDGE_SELECT -coincident_only -inside -not IND_MD_spiral_M1 IND_MD_M1_B -outputlayer IND_MD_core_check;
    ENC IND_MD_core_check INDDMY_MD_45 -lt "4 - GRID" -abut -lt 90 -output region ; // -outputlayer _EPTMPL268753
    ENC IND_MD_core_check INDDMY_MD_90 -lt 4 -abut -lt 90 -output region ; // -outputlayer _EPTMPL268754
}
AND M2 INDDMY_COIL -outputlayer INDDMY_COIL_M2;
AND M2 IND_MD_REGION -outputlayer _EPTMPL268756;
EXTE _EPTMPL268756 INDDMY_MD -lt 0.01 -abut -legt 0 135 -intersecting ONLY -output region -outputlayer IND_MD_M2_A;
EDGE_SELECT -coincident_only -outside M2 IND_MD_M2_A -outputlayer IND_MD_M2_B;
AND M2 IND_MD_leading -outputlayer IND_MD_leading_M2;
NOT INDDMY_COIL_M2 IND_MD_leading_M2 -outputlayer _EPTMPL268760;
AND _EPTMPL268760 INDDMY_MD -outputlayer IND_MD_spiral_M2;

RULE IND_MD.R.13:M2 {
    CAPTION "INDDMY_MD enclosure of inductor metal spirals >= 4 um.";
    ANGLE INDDMY_MD -eq 45 -outputlayer INDDMY_MD_45;
    EDGE_BOOLEAN -coincident_only -not INDDMY_MD INDDMY_MD_45 -outputlayer INDDMY_MD_90;
    EDGE_SELECT -coincident_only -inside -not IND_MD_spiral_M2 IND_MD_M2_B -outputlayer IND_MD_core_check;
    ENC IND_MD_core_check INDDMY_MD_45 -lt "4 - GRID" -abut -lt 90 -output region ; // -outputlayer _EPTMPL268765
    ENC IND_MD_core_check INDDMY_MD_90 -lt 4 -abut -lt 90 -output region ; // -outputlayer _EPTMPL268766
}
AND M3 INDDMY_COIL -outputlayer INDDMY_COIL_M3;
AND M3 IND_MD_REGION -outputlayer _EPTMPL268768;
EXTE _EPTMPL268768 INDDMY_MD -lt 0.01 -abut -legt 0 135 -intersecting ONLY -output region -outputlayer IND_MD_M3_A;
EDGE_SELECT -coincident_only -outside M3 IND_MD_M3_A -outputlayer IND_MD_M3_B;
AND M3 IND_MD_leading -outputlayer IND_MD_leading_M3;
NOT INDDMY_COIL_M3 IND_MD_leading_M3 -outputlayer _EPTMPL268772;
AND _EPTMPL268772 INDDMY_MD -outputlayer IND_MD_spiral_M3;

RULE IND_MD.R.13:M3 {
    CAPTION "INDDMY_MD enclosure of inductor metal spirals >= 4 um.";
    ANGLE INDDMY_MD -eq 45 -outputlayer INDDMY_MD_45;
    EDGE_BOOLEAN -coincident_only -not INDDMY_MD INDDMY_MD_45 -outputlayer INDDMY_MD_90;
    EDGE_SELECT -coincident_only -inside -not IND_MD_spiral_M3 IND_MD_M3_B -outputlayer IND_MD_core_check;
    ENC IND_MD_core_check INDDMY_MD_45 -lt "4 - GRID" -abut -lt 90 -output region ; // -outputlayer _EPTMPL268777
    ENC IND_MD_core_check INDDMY_MD_90 -lt 4 -abut -lt 90 -output region ; // -outputlayer _EPTMPL268778
}
AND M4 INDDMY_COIL -outputlayer INDDMY_COIL_M4;
AND M4 IND_MD_REGION -outputlayer _EPTMPL268780;
EXTE _EPTMPL268780 INDDMY_MD -lt 0.01 -abut -legt 0 135 -intersecting ONLY -output region -outputlayer IND_MD_M4_A;
EDGE_SELECT -coincident_only -outside M4 IND_MD_M4_A -outputlayer IND_MD_M4_B;
AND M4 IND_MD_leading -outputlayer IND_MD_leading_M4;
NOT INDDMY_COIL_M4 IND_MD_leading_M4 -outputlayer _EPTMPL268784;
AND _EPTMPL268784 INDDMY_MD -outputlayer IND_MD_spiral_M4;

RULE IND_MD.R.13:M4 {
    CAPTION "INDDMY_MD enclosure of inductor metal spirals >= 4 um.";
    ANGLE INDDMY_MD -eq 45 -outputlayer INDDMY_MD_45;
    EDGE_BOOLEAN -coincident_only -not INDDMY_MD INDDMY_MD_45 -outputlayer INDDMY_MD_90;
    EDGE_SELECT -coincident_only -inside -not IND_MD_spiral_M4 IND_MD_M4_B -outputlayer IND_MD_core_check;
    ENC IND_MD_core_check INDDMY_MD_45 -lt "4 - GRID" -abut -lt 90 -output region ; // -outputlayer _EPTMPL268789
    ENC IND_MD_core_check INDDMY_MD_90 -lt 4 -abut -lt 90 -output region ; // -outputlayer _EPTMPL268790
}
AND M5 INDDMY_COIL -outputlayer INDDMY_COIL_M5;
AND M5 IND_MD_REGION -outputlayer _EPTMPL268792;
EXTE _EPTMPL268792 INDDMY_MD -lt 0.01 -abut -legt 0 135 -intersecting ONLY -output region -outputlayer IND_MD_M5_A;
EDGE_SELECT -coincident_only -outside M5 IND_MD_M5_A -outputlayer IND_MD_M5_B;
AND M5 IND_MD_leading -outputlayer IND_MD_leading_M5;
NOT INDDMY_COIL_M5 IND_MD_leading_M5 -outputlayer _EPTMPL268796;
AND _EPTMPL268796 INDDMY_MD -outputlayer IND_MD_spiral_M5;

RULE IND_MD.R.13:M5 {
    CAPTION "INDDMY_MD enclosure of inductor metal spirals >= 4 um.";
    ANGLE INDDMY_MD -eq 45 -outputlayer INDDMY_MD_45;
    EDGE_BOOLEAN -coincident_only -not INDDMY_MD INDDMY_MD_45 -outputlayer INDDMY_MD_90;
    EDGE_SELECT -coincident_only -inside -not IND_MD_spiral_M5 IND_MD_M5_B -outputlayer IND_MD_core_check;
    ENC IND_MD_core_check INDDMY_MD_45 -lt "4 - GRID" -abut -lt 90 -output region ; // -outputlayer _EPTMPL268801
    ENC IND_MD_core_check INDDMY_MD_90 -lt 4 -abut -lt 90 -output region ; // -outputlayer _EPTMPL268802
}
AND M6 INDDMY_COIL -outputlayer INDDMY_COIL_M6;
AND M6 IND_MD_REGION -outputlayer _EPTMPL268804;
EXTE _EPTMPL268804 INDDMY_MD -lt 0.01 -abut -legt 0 135 -intersecting ONLY -output region -outputlayer IND_MD_M6_A;
EDGE_SELECT -coincident_only -outside M6 IND_MD_M6_A -outputlayer IND_MD_M6_B;
AND M6 IND_MD_leading -outputlayer IND_MD_leading_M6;
NOT INDDMY_COIL_M6 IND_MD_leading_M6 -outputlayer _EPTMPL268808;
AND _EPTMPL268808 INDDMY_MD -outputlayer IND_MD_spiral_M6;

RULE IND_MD.R.13:M6 {
    CAPTION "INDDMY_MD enclosure of inductor metal spirals >= 4 um.";
    ANGLE INDDMY_MD -eq 45 -outputlayer INDDMY_MD_45;
    EDGE_BOOLEAN -coincident_only -not INDDMY_MD INDDMY_MD_45 -outputlayer INDDMY_MD_90;
    EDGE_SELECT -coincident_only -inside -not IND_MD_spiral_M6 IND_MD_M6_B -outputlayer IND_MD_core_check;
    ENC IND_MD_core_check INDDMY_MD_45 -lt "4 - GRID" -abut -lt 90 -output region ; // -outputlayer _EPTMPL268813
    ENC IND_MD_core_check INDDMY_MD_90 -lt 4 -abut -lt 90 -output region ; // -outputlayer _EPTMPL268814
}
AND M7 INDDMY_COIL -outputlayer INDDMY_COIL_M7;
AND M7 IND_MD_REGION -outputlayer _EPTMPL268816;
EXTE _EPTMPL268816 INDDMY_MD -lt 0.01 -abut -legt 0 135 -intersecting ONLY -output region -outputlayer IND_MD_M7_A;
EDGE_SELECT -coincident_only -outside M7 IND_MD_M7_A -outputlayer IND_MD_M7_B;
AND M7 IND_MD_leading -outputlayer IND_MD_leading_M7;
NOT INDDMY_COIL_M7 IND_MD_leading_M7 -outputlayer _EPTMPL268820;
AND _EPTMPL268820 INDDMY_MD -outputlayer IND_MD_spiral_M7;

RULE IND_MD.R.13:M7 {
    CAPTION "INDDMY_MD enclosure of inductor metal spirals >= 4 um.";
    ANGLE INDDMY_MD -eq 45 -outputlayer INDDMY_MD_45;
    EDGE_BOOLEAN -coincident_only -not INDDMY_MD INDDMY_MD_45 -outputlayer INDDMY_MD_90;
    EDGE_SELECT -coincident_only -inside -not IND_MD_spiral_M7 IND_MD_M7_B -outputlayer IND_MD_core_check;
    ENC IND_MD_core_check INDDMY_MD_45 -lt "4 - GRID" -abut -lt 90 -output region ; // -outputlayer _EPTMPL268825
    ENC IND_MD_core_check INDDMY_MD_90 -lt 4 -abut -lt 90 -output region ; // -outputlayer _EPTMPL268826
}
AND M8 INDDMY_COIL -outputlayer INDDMY_COIL_M8;
AND M8 IND_MD_REGION -outputlayer _EPTMPL268828;
EXTE _EPTMPL268828 INDDMY_MD -lt 0.01 -abut -legt 0 135 -intersecting ONLY -output region -outputlayer IND_MD_M8_A;
EDGE_SELECT -coincident_only -outside M8 IND_MD_M8_A -outputlayer IND_MD_M8_B;
AND M8 IND_MD_leading -outputlayer IND_MD_leading_M8;
NOT INDDMY_COIL_M8 IND_MD_leading_M8 -outputlayer _EPTMPL268832;
AND _EPTMPL268832 INDDMY_MD -outputlayer IND_MD_spiral_M8;

RULE IND_MD.R.13:M8 {
    CAPTION "INDDMY_MD enclosure of inductor metal spirals >= 4 um.";
    ANGLE INDDMY_MD -eq 45 -outputlayer INDDMY_MD_45;
    EDGE_BOOLEAN -coincident_only -not INDDMY_MD INDDMY_MD_45 -outputlayer INDDMY_MD_90;
    EDGE_SELECT -coincident_only -inside -not IND_MD_spiral_M8 IND_MD_M8_B -outputlayer IND_MD_core_check;
    ENC IND_MD_core_check INDDMY_MD_45 -lt "4 - GRID" -abut -lt 90 -output region ; // -outputlayer _EPTMPL268837
    ENC IND_MD_core_check INDDMY_MD_90 -lt 4 -abut -lt 90 -output region ; // -outputlayer _EPTMPL268838
}
AND M9 INDDMY_COIL -outputlayer INDDMY_COIL_M9;
AND M9 IND_MD_REGION -outputlayer _EPTMPL268840;
EXTE _EPTMPL268840 INDDMY_MD -lt 0.01 -abut -legt 0 135 -intersecting ONLY -output region -outputlayer IND_MD_M9_A;
EDGE_SELECT -coincident_only -outside M9 IND_MD_M9_A -outputlayer IND_MD_M9_B;
AND M9 IND_MD_leading -outputlayer IND_MD_leading_M9;
NOT INDDMY_COIL_M9 IND_MD_leading_M9 -outputlayer _EPTMPL268844;
AND _EPTMPL268844 INDDMY_MD -outputlayer IND_MD_spiral_M9;

RULE IND_MD.R.13:M9 {
    CAPTION "INDDMY_MD enclosure of inductor metal spirals >= 4 um.";
    ANGLE INDDMY_MD -eq 45 -outputlayer INDDMY_MD_45;
    EDGE_BOOLEAN -coincident_only -not INDDMY_MD INDDMY_MD_45 -outputlayer INDDMY_MD_90;
    EDGE_SELECT -coincident_only -inside -not IND_MD_spiral_M9 IND_MD_M9_B -outputlayer IND_MD_core_check;
    ENC IND_MD_core_check INDDMY_MD_45 -lt "4 - GRID" -abut -lt 90 -output region ; // -outputlayer _EPTMPL268849
    ENC IND_MD_core_check INDDMY_MD_90 -lt 4 -abut -lt 90 -output region ; // -outputlayer _EPTMPL268850
}

RULE IND_MD.DN.6 {
    CAPTION "Maximum density of INDDMY_MD in whole chip <= 5%";
    DENSITY INDDMY_MD CHIP -gt 0.05 -inside_of layer CHIPx -print "IND_MD.DN.6.density" -expr "  AREA(INDDMY_MD)/AREA(CHIP)  " ; // -outputlayer _EPTMPL268851
}

RULE IND_MD.DN.9 {
    CAPTION "M1/Mx/Mz. metal density over the whole chip (include INDDMY_MD)>= 20%";
    SELECT -interact CHIPx INDDMY_MD -outputlayer CHIP_IND_MD;
    DENSITY M1x CHIP -lt 0.2 -inside_of layer CHIP_IND_MD -print "IND_MD.DN.9.M1.density" -expr "  AREA(M1x)/AREA(CHIP)  " ; // -outputlayer _EPTMPL268853
    DENSITY M2x CHIP -lt 0.2 -inside_of layer CHIP_IND_MD -print "IND_MD.DN.9.M2.density" -expr "  AREA(M2x)/AREA(CHIP)  " ; // -outputlayer _EPTMPL268854
    DENSITY M3x CHIP -lt 0.2 -inside_of layer CHIP_IND_MD -print "IND_MD.DN.9.M3.density" -expr "  AREA(M3x)/AREA(CHIP)  " ; // -outputlayer _EPTMPL268855
    DENSITY M4x CHIP -lt 0.2 -inside_of layer CHIP_IND_MD -print "IND_MD.DN.9.M4.density" -expr "  AREA(M4x)/AREA(CHIP)  " ; // -outputlayer _EPTMPL268856
    DENSITY M5x CHIP -lt 0.2 -inside_of layer CHIP_IND_MD -print "IND_MD.DN.9.M5.density" -expr "  AREA(M5x)/AREA(CHIP)  " ; // -outputlayer _EPTMPL268857
    DENSITY M6x CHIP -lt 0.2 -inside_of layer CHIP_IND_MD -print "IND_MD.DN.9.M6.density" -expr "  AREA(M6x)/AREA(CHIP)  " ; // -outputlayer _EPTMPL268858
    DENSITY M7x CHIP -lt 0.2 -inside_of layer CHIP_IND_MD -print "IND_MD.DN.9.M7.density" -expr "  AREA(M7x)/AREA(CHIP)  " ; // -outputlayer _EPTMPL268859
    DENSITY M8x CHIP -lt 0.2 -inside_of layer CHIP_IND_MD -print "IND_MD.DN.9.M8.density" -expr "  AREA(M8x)/AREA(CHIP)  " ; // -outputlayer _EPTMPL268860
}

RULE IND_MD.DN.7:M1 {
    CAPTION "Maximum M1/Mx/Mz density within (INDDMY_MD SIZING 12 um) over any 50um x 50um area (stepping in 25um) <= 90%";
    DENSITY M1x -gt 0.9 -inside_of layer IND_MD_REGION -window 50 -step 25 -backup -print "IND_MD.DN.7.M1.density" ; // -outputlayer _EPTMPL268861
}

RULE IND_MD.DN.7:M2 {
    CAPTION "Maximum M1/Mx/Mz density within (INDDMY_MD SIZING 12 um) over any 50um x 50um area (stepping in 25um) <= 90%";
    DENSITY M2x -gt 0.9 -inside_of layer IND_MD_REGION -window 50 -step 25 -backup -print "IND_MD.DN.7.M2.density" ; // -outputlayer _EPTMPL268862
}

RULE IND_MD.DN.7:M3 {
    CAPTION "Maximum M1/Mx/Mz density within (INDDMY_MD SIZING 12 um) over any 50um x 50um area (stepping in 25um) <= 90%";
    DENSITY M3x -gt 0.9 -inside_of layer IND_MD_REGION -window 50 -step 25 -backup -print "IND_MD.DN.7.M3.density" ; // -outputlayer _EPTMPL268863
}

RULE IND_MD.DN.7:M4 {
    CAPTION "Maximum M1/Mx/Mz density within (INDDMY_MD SIZING 12 um) over any 50um x 50um area (stepping in 25um) <= 90%";
    DENSITY M4x -gt 0.9 -inside_of layer IND_MD_REGION -window 50 -step 25 -backup -print "IND_MD.DN.7.M4.density" ; // -outputlayer _EPTMPL268864
}

RULE IND_MD.DN.7:M5 {
    CAPTION "Maximum M1/Mx/Mz density within (INDDMY_MD SIZING 12 um) over any 50um x 50um area (stepping in 25um) <= 90%";
    DENSITY M5x -gt 0.9 -inside_of layer IND_MD_REGION -window 50 -step 25 -backup -print "IND_MD.DN.7.M5.density" ; // -outputlayer _EPTMPL268865
}

RULE IND_MD.DN.7:M6 {
    CAPTION "Maximum M1/Mx/Mz density within (INDDMY_MD SIZING 12 um) over any 50um x 50um area (stepping in 25um) <= 90%";
    DENSITY M6x -gt 0.9 -inside_of layer IND_MD_REGION -window 50 -step 25 -backup -print "IND_MD.DN.7.M6.density" ; // -outputlayer _EPTMPL268866
}

RULE IND_MD.DN.7:M7 {
    CAPTION "Maximum M1/Mx/Mz density within (INDDMY_MD SIZING 12 um) over any 50um x 50um area (stepping in 25um) <= 90%";
    DENSITY M7x -gt 0.9 -inside_of layer IND_MD_REGION -window 50 -step 25 -backup -print "IND_MD.DN.7.M7.density" ; // -outputlayer _EPTMPL268867
}

RULE IND_MD.DN.7:M8 {
    CAPTION "Maximum M1/Mx/Mz density within (INDDMY_MD SIZING 12 um) over any 50um x 50um area (stepping in 25um) <= 90%";
    DENSITY M8x -gt 0.9 -inside_of layer IND_MD_REGION -window 50 -step 25 -backup -print "IND_MD.DN.7.M8.density" ; // -outputlayer _EPTMPL268868
}

RULE IND_MD.DN.8:M1 {
    CAPTION "Maximum M1/Mx/Mz density within (INDDMY_MD SIZING 12 um) over any 100um x 100um area (stepping in 50um) <= 80%";
    DENSITY M1x -gt 0.8 -inside_of layer IND_MD_REGION -window 100 -step 50 -backup -print "IND_MD.DN.8.M1.density" ; // -outputlayer _EPTMPL268869
}

RULE IND_MD.DN.8:M2 {
    CAPTION "Maximum M1/Mx/Mz density within (INDDMY_MD SIZING 12 um) over any 100um x 100um area (stepping in 50um) <= 80%";
    DENSITY M2x -gt 0.8 -inside_of layer IND_MD_REGION -window 100 -step 50 -backup -print "IND_MD.DN.8.M2.density" ; // -outputlayer _EPTMPL268870
}

RULE IND_MD.DN.8:M3 {
    CAPTION "Maximum M1/Mx/Mz density within (INDDMY_MD SIZING 12 um) over any 100um x 100um area (stepping in 50um) <= 80%";
    DENSITY M3x -gt 0.8 -inside_of layer IND_MD_REGION -window 100 -step 50 -backup -print "IND_MD.DN.8.M3.density" ; // -outputlayer _EPTMPL268871
}

RULE IND_MD.DN.8:M4 {
    CAPTION "Maximum M1/Mx/Mz density within (INDDMY_MD SIZING 12 um) over any 100um x 100um area (stepping in 50um) <= 80%";
    DENSITY M4x -gt 0.8 -inside_of layer IND_MD_REGION -window 100 -step 50 -backup -print "IND_MD.DN.8.M4.density" ; // -outputlayer _EPTMPL268872
}

RULE IND_MD.DN.8:M5 {
    CAPTION "Maximum M1/Mx/Mz density within (INDDMY_MD SIZING 12 um) over any 100um x 100um area (stepping in 50um) <= 80%";
    DENSITY M5x -gt 0.8 -inside_of layer IND_MD_REGION -window 100 -step 50 -backup -print "IND_MD.DN.8.M5.density" ; // -outputlayer _EPTMPL268873
}

RULE IND_MD.DN.8:M6 {
    CAPTION "Maximum M1/Mx/Mz density within (INDDMY_MD SIZING 12 um) over any 100um x 100um area (stepping in 50um) <= 80%";
    DENSITY M6x -gt 0.8 -inside_of layer IND_MD_REGION -window 100 -step 50 -backup -print "IND_MD.DN.8.M6.density" ; // -outputlayer _EPTMPL268874
}

RULE IND_MD.DN.8:M7 {
    CAPTION "Maximum M1/Mx/Mz density within (INDDMY_MD SIZING 12 um) over any 100um x 100um area (stepping in 50um) <= 80%";
    DENSITY M7x -gt 0.8 -inside_of layer IND_MD_REGION -window 100 -step 50 -backup -print "IND_MD.DN.8.M7.density" ; // -outputlayer _EPTMPL268875
}

RULE IND_MD.DN.8:M8 {
    CAPTION "Maximum M1/Mx/Mz density within (INDDMY_MD SIZING 12 um) over any 100um x 100um area (stepping in 50um) <= 80%";
    DENSITY M8x -gt 0.8 -inside_of layer IND_MD_REGION -window 100 -step 50 -backup -print "IND_MD.DN.8.M8.density" ; // -outputlayer _EPTMPL268876
}

RULE CSR.R.1:DNWi {
    CAPTION "DNWi is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA DNWi ; // -outputlayer _EPTMPL268877
}

RULE CSR.R.1:NWi {
    CAPTION "NWi is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA NWi ; // -outputlayer _EPTMPL268878
}

RULE CSR.R.1:OD_18i {
    CAPTION "OD_18i is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA OD_18i ; // -outputlayer _EPTMPL268879
}

RULE CSR.R.1:OD_25i {
    CAPTION "OD_25i is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA OD_25i ; // -outputlayer _EPTMPL268880
}

RULE CSR.R.1:OD25_33 {
    CAPTION "OD25_33 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA OD25_33 ; // -outputlayer _EPTMPL268881
}

RULE CSR.R.1:OD25_18 {
    CAPTION "OD25_18 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA OD25_18 ; // -outputlayer _EPTMPL268882
}

RULE CSR.R.1:OD_33i {
    CAPTION "OD_33i is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA OD_33i ; // -outputlayer _EPTMPL268883
}

RULE CSR.R.1:OD_DECAP {
    CAPTION "OD_DECAP is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA OD_DECAP ; // -outputlayer _EPTMPL268884
}

RULE CSR.R.1:PPi {
    CAPTION "PPi is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA PPi ; // -outputlayer _EPTMPL268885
}

RULE CSR.R.1:NPi {
    CAPTION "NPi is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA NPi ; // -outputlayer _EPTMPL268886
}

RULE CSR.R.1:COi {
    CAPTION "COi is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA COi ; // -outputlayer _EPTMPL268887
}

RULE CSR.R.1:CO_PUSH {
    CAPTION "CO_PUSH is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA CO_PUSH ; // -outputlayer _EPTMPL268888
}

RULE CSR.R.1:CBi {
    CAPTION "CBi is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA CBi ; // -outputlayer _EPTMPL268889
}

RULE CSR.R.1:CB2i {
    CAPTION "CB2i is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA CB2i ; // -outputlayer _EPTMPL268890
}

RULE CSR.R.1:RPOi {
    CAPTION "RPOi is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA RPOi ; // -outputlayer _EPTMPL268891
}

RULE CSR.R.1:NT_Ni {
    CAPTION "NT_Ni is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA NT_Ni ; // -outputlayer _EPTMPL268892
}

RULE CSR.R.1:NCap_NTNi {
    CAPTION "NCap_NTNi is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA NCap_NTNi ; // -outputlayer _EPTMPL268893
}

RULE CSR.R.1:FWALi {
    CAPTION "FWALi is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA FWALi ; // -outputlayer _EPTMPL268894
}

RULE CSR.R.1:FWCUi {
    CAPTION "FWCUi is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA FWCUi ; // -outputlayer _EPTMPL268895
}

RULE CSR.R.1:POFUSE {
    CAPTION "POFUSE is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA POFUSE ; // -outputlayer _EPTMPL268896
}

RULE CSR.R.1:FUSELINK {
    CAPTION "FUSELINK is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA FUSELINK ; // -outputlayer _EPTMPL268897
}

RULE CSR.R.1:PMi {
    CAPTION "PMi is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA PMi ; // -outputlayer _EPTMPL268898
}

RULE CSR.R.1:PM1i {
    CAPTION "PM1i is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA PM1i ; // -outputlayer _EPTMPL268899
}

RULE CSR.R.1:PM2i {
    CAPTION "PM2i is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA PM2i ; // -outputlayer _EPTMPL268900
}

RULE CSR.R.1:SEALRINGi {
    CAPTION "SEALRINGi is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA SEALRINGi ; // -outputlayer _EPTMPL268901
}

RULE CSR.R.1:VTH_Ni {
    CAPTION "VTH_Ni is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA VTH_Ni ; // -outputlayer _EPTMPL268902
}

RULE CSR.R.1:VTH_Pi {
    CAPTION "VTH_Pi is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA VTH_Pi ; // -outputlayer _EPTMPL268903
}

RULE CSR.R.1:VTL_Ni {
    CAPTION "VTL_Ni is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA VTL_Ni ; // -outputlayer _EPTMPL268904
}

RULE CSR.R.1:VTL_Pi {
    CAPTION "VTL_Pi is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA VTL_Pi ; // -outputlayer _EPTMPL268905
}

RULE CSR.R.1:UHVT_Ni {
    CAPTION "UHVT_Ni is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA UHVT_Ni ; // -outputlayer _EPTMPL268906
}

RULE CSR.R.1:UHVT_Pi {
    CAPTION "UHVT_Pi is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA UHVT_Pi ; // -outputlayer _EPTMPL268907
}

RULE CSR.R.1:CBDi {
    CAPTION "CBDi is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA CBDi ; // -outputlayer _EPTMPL268908
}

RULE CSR.R.1:UBMi {
    CAPTION "UBMi is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA UBMi ; // -outputlayer _EPTMPL268909
}

RULE CSR.R.1:RH {
    CAPTION "RH is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA RH ; // -outputlayer _EPTMPL268910
}

RULE CSR.R.1:ESD3 {
    CAPTION "ESD3 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA ESD3 ; // -outputlayer _EPTMPL268911
}

RULE CSR.R.1:VARi {
    CAPTION "VARi is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA VARi ; // -outputlayer _EPTMPL268912
}

RULE CSR.R.1:APi {
    CAPTION "APi is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA APi ; // -outputlayer _EPTMPL268913
}

RULE CSR.R.1:Cu_PPIi {
    CAPTION "Cu_PPIi is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA Cu_PPIi ; // -outputlayer _EPTMPL268914
}

RULE CSR.R.1:CBMi {
    CAPTION "CBMi is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA CBMi ; // -outputlayer _EPTMPL268915
}

RULE CSR.R.1:CTMi {
    CAPTION "CTMi is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA CTMi ; // -outputlayer _EPTMPL268916
}

RULE CSR.R.1:RVi {
    CAPTION "RVi is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA RVi ; // -outputlayer _EPTMPL268917
}

RULE CSR.R.1:DCOi {
    CAPTION "DCOi is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA DCOi ; // -outputlayer _EPTMPL268918
}

RULE CSR.R.1:HVD_P {
    CAPTION "HVD_P is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA HVD_P ; // -outputlayer _EPTMPL268919
}

RULE CSR.R.1:HVD_N_nw {
    CAPTION "HVD_N_nw is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA HVD_N_nw ; // -outputlayer _EPTMPL268920
}

RULE CSR.R.1:SRM_ULL {
    CAPTION "SRM_ULL is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA SRM_ULL ; // -outputlayer _EPTMPL268921
}

RULE CSR.R.1:BJTDMY {
    CAPTION "BJTDMY is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA BJTDMY ; // -outputlayer _EPTMPL268922
}

RULE CSR.R.1:NWDMY {
    CAPTION "NWDMY is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA NWDMY ; // -outputlayer _EPTMPL268923
}

RULE CSR.R.1:RPDMY {
    CAPTION "RPDMY is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA RPDMY ; // -outputlayer _EPTMPL268924
}

RULE CSR.R.1:PMDMY {
    CAPTION "PMDMY is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA PMDMY ; // -outputlayer _EPTMPL268925
}

RULE CSR.R.1:SDI {
    CAPTION "SDI is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA SDI ; // -outputlayer _EPTMPL268926
}

RULE CSR.R.1:ESD1DMY {
    CAPTION "ESD1DMY is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA ESD1DMY ; // -outputlayer _EPTMPL268927
}

RULE CSR.R.1:ESD2DMY {
    CAPTION "ESD2DMY is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA ESD2DMY ; // -outputlayer _EPTMPL268928
}

RULE CSR.R.1:RODMY {
    CAPTION "RODMY is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA RODMY ; // -outputlayer _EPTMPL268929
}

RULE CSR.R.1:LMARK {
    CAPTION "LMARK is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA LMARK ; // -outputlayer _EPTMPL268930
}

RULE CSR.R.1:SRM {
    CAPTION "SRM is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA SRM ; // -outputlayer _EPTMPL268931
}

RULE CSR.R.1:CSRDMY {
    CAPTION "CSRDMY is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA CSRDMY ; // -outputlayer _EPTMPL268932
}

RULE CSR.R.1:CDUDMY {
    CAPTION "CDUDMY is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA CDUDMY ; // -outputlayer _EPTMPL268933
}

RULE CSR.R.1:TCDDMY {
    CAPTION "TCDDMY is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA TCDDMY ; // -outputlayer _EPTMPL268934
}

RULE CSR.R.1:LOGO {
    CAPTION "LOGO is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA LOGO ; // -outputlayer _EPTMPL268935
}

RULE CSR.R.1:INDDMY {
    CAPTION "INDDMY is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA INDDMY ; // -outputlayer _EPTMPL268936
}

RULE CSR.R.1:CTMDMY {
    CAPTION "CTMDMY is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA CTMDMY ; // -outputlayer _EPTMPL268937
}

RULE CSR.R.1:CTMDMY_10 {
    CAPTION "CTMDMY_10 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA CTMDMY_10 ; // -outputlayer _EPTMPL268938
}

RULE CSR.R.1:CTMDMY_15 {
    CAPTION "CTMDMY_15 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA CTMDMY_15 ; // -outputlayer _EPTMPL268939
}

RULE CSR.R.1:CTMDMY_20 {
    CAPTION "CTMDMY_20 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA CTMDMY_20 ; // -outputlayer _EPTMPL268940
}

RULE CSR.R.1:CTMDMY_21 {
    CAPTION "CTMDMY_21 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA CTMDMY_21 ; // -outputlayer _EPTMPL268941
}

RULE CSR.R.1:MOMDMY_1 {
    CAPTION "MOMDMY_1 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA MOMDMY_1 ; // -outputlayer _EPTMPL268942
}

RULE CSR.R.1:MOMDMY_2 {
    CAPTION "MOMDMY_2 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA MOMDMY_2 ; // -outputlayer _EPTMPL268943
}

RULE CSR.R.1:MOMDMY_3 {
    CAPTION "MOMDMY_3 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA MOMDMY_3 ; // -outputlayer _EPTMPL268944
}

RULE CSR.R.1:MOMDMY_4 {
    CAPTION "MOMDMY_4 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA MOMDMY_4 ; // -outputlayer _EPTMPL268945
}

RULE CSR.R.1:MOMDMY_5 {
    CAPTION "MOMDMY_5 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA MOMDMY_5 ; // -outputlayer _EPTMPL268946
}

RULE CSR.R.1:MOMDMY_6 {
    CAPTION "MOMDMY_6 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA MOMDMY_6 ; // -outputlayer _EPTMPL268947
}

RULE CSR.R.1:MOMDMY_7 {
    CAPTION "MOMDMY_7 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA MOMDMY_7 ; // -outputlayer _EPTMPL268948
}

RULE CSR.R.1:MOMDMY_8 {
    CAPTION "MOMDMY_8 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA MOMDMY_8 ; // -outputlayer _EPTMPL268949
}

RULE CSR.R.1:MOMDMY_9 {
    CAPTION "MOMDMY_9 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA MOMDMY_9 ; // -outputlayer _EPTMPL268950
}

RULE CSR.R.1:MOMDMY_AP {
    CAPTION "MOMDMY_AP is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA MOMDMY_AP ; // -outputlayer _EPTMPL268951
}

RULE CSR.R.1:RTMOMDMY {
    CAPTION "RTMOMDMY is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA RTMOMDMY ; // -outputlayer _EPTMPL268952
}

RULE CSR.R.1:MOMDMY {
    CAPTION "MOMDMY is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA MOMDMY ; // -outputlayer _EPTMPL268953
}

RULE CSR.R.1:MOMDMY_2T {
    CAPTION "MOMDMY_2T is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA MOMDMY_2T ; // -outputlayer _EPTMPL268954
}

RULE CSR.R.1:MOMDMY_100 {
    CAPTION "MOMDMY_100 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA MOMDMY_100 ; // -outputlayer _EPTMPL268955
}

RULE CSR.R.1:RFDMY {
    CAPTION "RFDMY is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA RFDMY ; // -outputlayer _EPTMPL268956
}

RULE CSR.R.1:WBDMY {
    CAPTION "WBDMY is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA WBDMY ; // -outputlayer _EPTMPL268957
}

RULE CSR.R.1:DIODMY {
    CAPTION "DIODMY is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA DIODMY ; // -outputlayer _EPTMPL268958
}

RULE CSR.R.1:SRAMDMY {
    CAPTION "SRAMDMY is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA SRAMDMY ; // -outputlayer _EPTMPL268959
}

RULE CSR.R.1:SRAMDMY_4 {
    CAPTION "SRAMDMY_4 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA SRAMDMY_4 ; // -outputlayer _EPTMPL268960
}

RULE CSR.R.1:SRAMDMY_5 {
    CAPTION "SRAMDMY_5 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA SRAMDMY_5 ; // -outputlayer _EPTMPL268961
}

RULE CSR.R.1:SRAMDMY_1 {
    CAPTION "SRAMDMY_1 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA SRAMDMY_1 ; // -outputlayer _EPTMPL268962
}

RULE CSR.R.1:RAM1TDMY {
    CAPTION "RAM1TDMY is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA RAM1TDMY ; // -outputlayer _EPTMPL268963
}

RULE CSR.R.1:OD1Ti {
    CAPTION "OD1Ti is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA OD1Ti ; // -outputlayer _EPTMPL268964
}

RULE CSR.R.1:CLDDi {
    CAPTION "CLDDi is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA CLDDi ; // -outputlayer _EPTMPL268965
}

RULE CSR.R.1:CROWNi {
    CAPTION "CROWNi is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA CROWNi ; // -outputlayer _EPTMPL268966
}

RULE CSR.R.1:P3i {
    CAPTION "P3i is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA P3i ; // -outputlayer _EPTMPL268967
}

RULE CSR.R.1:SNCTi {
    CAPTION "SNCTi is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA SNCTi ; // -outputlayer _EPTMPL268968
}

RULE CSR.R.1:LUPWDMY {
    CAPTION "LUPWDMY is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA LUPWDMY ; // -outputlayer _EPTMPL268969
}

RULE CSR.R.1:LUPWDMY_2 {
    CAPTION "LUPWDMY_2 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA LUPWDMY_2 ; // -outputlayer _EPTMPL268970
}

RULE CSR.R.1:VDDDMY {
    CAPTION "VDDDMY is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA VDDDMY ; // -outputlayer _EPTMPL268971
}

RULE CSR.R.1:VSSDMY {
    CAPTION "VSSDMY is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA VSSDMY ; // -outputlayer _EPTMPL268972
}

RULE CSR.R.1:RES200 {
    CAPTION "RES200 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA RES200 ; // -outputlayer _EPTMPL268973
}

RULE CSR.R.1:MATCHING {
    CAPTION "MATCHING is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA MATCHING ; // -outputlayer _EPTMPL268974
}

RULE CSR.R.1:M1i {
    CAPTION "M1i is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA M1i ; // -outputlayer _EPTMPL268975
}

RULE CSR.R.1:M1_real {
    CAPTION "M1_real is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA M1_real ; // -outputlayer _EPTMPL268976
}

RULE CSR.R.1:DM1_O {
    CAPTION "DM1_O is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA DM1_O ; // -outputlayer _EPTMPL268977
}

RULE CSR.R.1:DUM1 {
    CAPTION "DUM1 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA DUM1 ; // -outputlayer _EPTMPL268978
}

RULE CSR.R.1:M2i {
    CAPTION "M2i is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA M2i ; // -outputlayer _EPTMPL268979
}

RULE CSR.R.1:M2_real {
    CAPTION "M2_real is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA M2_real ; // -outputlayer _EPTMPL268980
}

RULE CSR.R.1:DM2_O {
    CAPTION "DM2_O is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA DM2_O ; // -outputlayer _EPTMPL268981
}

RULE CSR.R.1:DUM2 {
    CAPTION "DUM2 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA DUM2 ; // -outputlayer _EPTMPL268982
}

RULE CSR.R.1:M3i {
    CAPTION "M3i is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA M3i ; // -outputlayer _EPTMPL268983
}

RULE CSR.R.1:M3_real {
    CAPTION "M3_real is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA M3_real ; // -outputlayer _EPTMPL268984
}

RULE CSR.R.1:DM3_O {
    CAPTION "DM3_O is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA DM3_O ; // -outputlayer _EPTMPL268985
}

RULE CSR.R.1:DUM3 {
    CAPTION "DUM3 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA DUM3 ; // -outputlayer _EPTMPL268986
}

RULE CSR.R.1:M4i {
    CAPTION "M4i is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA M4i ; // -outputlayer _EPTMPL268987
}

RULE CSR.R.1:M4_real {
    CAPTION "M4_real is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA M4_real ; // -outputlayer _EPTMPL268988
}

RULE CSR.R.1:DM4_O {
    CAPTION "DM4_O is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA DM4_O ; // -outputlayer _EPTMPL268989
}

RULE CSR.R.1:DUM4 {
    CAPTION "DUM4 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA DUM4 ; // -outputlayer _EPTMPL268990
}

RULE CSR.R.1:M5i {
    CAPTION "M5i is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA M5i ; // -outputlayer _EPTMPL268991
}

RULE CSR.R.1:M5_real {
    CAPTION "M5_real is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA M5_real ; // -outputlayer _EPTMPL268992
}

RULE CSR.R.1:DM5_O {
    CAPTION "DM5_O is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA DM5_O ; // -outputlayer _EPTMPL268993
}

RULE CSR.R.1:DUM5 {
    CAPTION "DUM5 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA DUM5 ; // -outputlayer _EPTMPL268994
}

RULE CSR.R.1:M6i {
    CAPTION "M6i is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA M6i ; // -outputlayer _EPTMPL268995
}

RULE CSR.R.1:M6_real {
    CAPTION "M6_real is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA M6_real ; // -outputlayer _EPTMPL268996
}

RULE CSR.R.1:DM6_O {
    CAPTION "DM6_O is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA DM6_O ; // -outputlayer _EPTMPL268997
}

RULE CSR.R.1:DUM6 {
    CAPTION "DUM6 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA DUM6 ; // -outputlayer _EPTMPL268998
}

RULE CSR.R.1:M7i {
    CAPTION "M7i is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA M7i ; // -outputlayer _EPTMPL268999
}

RULE CSR.R.1:M7_real {
    CAPTION "M7_real is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA M7_real ; // -outputlayer _EPTMPL269000
}

RULE CSR.R.1:DM7_O {
    CAPTION "DM7_O is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA DM7_O ; // -outputlayer _EPTMPL269001
}

RULE CSR.R.1:DUM7 {
    CAPTION "DUM7 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA DUM7 ; // -outputlayer _EPTMPL269002
}

RULE CSR.R.1:M8_OLD {
    CAPTION "M8_OLD is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA M8_OLD ; // -outputlayer _EPTMPL269003
}

RULE CSR.R.1:M8_NEW {
    CAPTION "M8_NEW is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA M8_NEW ; // -outputlayer _EPTMPL269004
}

RULE CSR.R.1:DUM8_OLD {
    CAPTION "DUM8_OLD is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA DUM8_OLD ; // -outputlayer _EPTMPL269005
}

RULE CSR.R.1:DUM8_NEW {
    CAPTION "DUM8_NEW is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA DUM8_NEW ; // -outputlayer _EPTMPL269006
}

RULE CSR.R.1:M9_OLD {
    CAPTION "M9_OLD is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA M9_OLD ; // -outputlayer _EPTMPL269007
}

RULE CSR.R.1:M9_NEW {
    CAPTION "M9_NEW is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA M9_NEW ; // -outputlayer _EPTMPL269008
}

RULE CSR.R.1:DUM9_OLD {
    CAPTION "DUM9_OLD is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA DUM9_OLD ; // -outputlayer _EPTMPL269009
}

RULE CSR.R.1:DUM9_NEW {
    CAPTION "DUM9_NEW is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA DUM9_NEW ; // -outputlayer _EPTMPL269010
}

RULE CSR.R.1:VIA1i {
    CAPTION "VIA1i is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA VIA1i ; // -outputlayer _EPTMPL269011
}

RULE CSR.R.1:VIA2i {
    CAPTION "VIA2i is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA VIA2i ; // -outputlayer _EPTMPL269012
}

RULE CSR.R.1:VIA3i {
    CAPTION "VIA3i is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA VIA3i ; // -outputlayer _EPTMPL269013
}

RULE CSR.R.1:VIA4i {
    CAPTION "VIA4i is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA VIA4i ; // -outputlayer _EPTMPL269014
}

RULE CSR.R.1:VIA5i {
    CAPTION "VIA5i is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA VIA5i ; // -outputlayer _EPTMPL269015
}

RULE CSR.R.1:VIA6i {
    CAPTION "VIA6i is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA VIA6i ; // -outputlayer _EPTMPL269016
}

RULE CSR.R.1:VIA7_OLD {
    CAPTION "VIA7_OLD is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA VIA7_OLD ; // -outputlayer _EPTMPL269017
}

RULE CSR.R.1:VIA7_NEW {
    CAPTION "VIA7_NEW is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA VIA7_NEW ; // -outputlayer _EPTMPL269018
}

RULE CSR.R.1:VIA8_OLD {
    CAPTION "VIA8_OLD is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA VIA8_OLD ; // -outputlayer _EPTMPL269019
}

RULE CSR.R.1:VIA8_NEW {
    CAPTION "VIA8_NEW is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA VIA8_NEW ; // -outputlayer _EPTMPL269020
}

RULE CSR.R.1:ODi {
    CAPTION "ODi is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA ODi ; // -outputlayer _EPTMPL269021
}

RULE CSR.R.1:DOD {
    CAPTION "DOD is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA DOD ; // -outputlayer _EPTMPL269022
}

RULE CSR.R.1:POi {
    CAPTION "POi is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA POi ; // -outputlayer _EPTMPL269023
}

RULE CSR.R.1:DPO {
    CAPTION "DPO is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA DPO ; // -outputlayer _EPTMPL269024
}

RULE CSR.R.1:mVTLi {
    CAPTION "mVTLi is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA mVTLi ; // -outputlayer _EPTMPL269025
}

RULE CSR.R.1:RMDMY1 {
    CAPTION "RMDMY1 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA RMDMY1 ; // -outputlayer _EPTMPL269026
}

RULE CSR.R.1:RMDMY2 {
    CAPTION "RMDMY2 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA RMDMY2 ; // -outputlayer _EPTMPL269027
}

RULE CSR.R.1:RMDMY3 {
    CAPTION "RMDMY3 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA RMDMY3 ; // -outputlayer _EPTMPL269028
}

RULE CSR.R.1:RMDMY4 {
    CAPTION "RMDMY4 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA RMDMY4 ; // -outputlayer _EPTMPL269029
}

RULE CSR.R.1:RMDMY5 {
    CAPTION "RMDMY5 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA RMDMY5 ; // -outputlayer _EPTMPL269030
}

RULE CSR.R.1:RMDMY6 {
    CAPTION "RMDMY6 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA RMDMY6 ; // -outputlayer _EPTMPL269031
}

RULE CSR.R.1:RMDMY7 {
    CAPTION "RMDMY7 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA RMDMY7 ; // -outputlayer _EPTMPL269032
}

RULE CSR.R.1:RMDMY8 {
    CAPTION "RMDMY8 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA RMDMY8 ; // -outputlayer _EPTMPL269033
}

RULE CSR.R.1:RMDMY9 {
    CAPTION "RMDMY9 is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA RMDMY9 ; // -outputlayer _EPTMPL269034
}

RULE CSR.R.1:RMDMYAP {
    CAPTION "RMDMYAP is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA RMDMYAP ; // -outputlayer _EPTMPL269035
}

RULE CSR.R.1:INDDMY_COIL {
    CAPTION "INDDMY_COIL is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA INDDMY_COIL ; // -outputlayer _EPTMPL269036
}

RULE CSR.R.1:INDDMY_MD {
    CAPTION "INDDMY_MD is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA INDDMY_MD ; // -outputlayer _EPTMPL269037
}

RULE CSR.R.1:INDDMY_HD {
    CAPTION "INDDMY_HD is not allowed inside the empty area of chip corner.";
    AND EMPTY_AREA INDDMY_HD ; // -outputlayer _EPTMPL269038
}
AND LMARK_METAL CSRDMY -outputlayer LMARK_METAL_CSR;
AND LSLOT CSRDMY -outputlayer LMARK_SLOT_CSR;
OR LMARK_METAL_CSR LMARK_SLOT_CSR -outputlayer LMARK_MS_CSR;
CONVEX_EDGE CSRDMY -angle1 -eq 135 -angle2 -eq 45 -outputlayer CSR_ED;
EDGE_EXPAND CSR_ED -inside_by 2 -outputlayer CSR_EXD;
AND CO CSRDMY -outputlayer _EPTMPL269044;
NOT _EPTMPL269044 VIA_EXD -outputlayer _EPTMPL269045;
NOT _EPTMPL269045 CSR_EXD -outputlayer CC_CO;
AND M1 CSRDMY -outputlayer CC_M1;
AND VIA1 CSRDMY -outputlayer _EPTMPL269048;
NOT _EPTMPL269048 VIA_EXD -outputlayer _EPTMPL269049;
NOT _EPTMPL269049 CSR_EXD -outputlayer CC_V1;
SIZE CC_M1 -by 0.6 -underover -outputlayer _EPTMPL269051;
HOLES _EPTMPL269051 -outputlayer CC_M1_HOLE;
AREA CC_M1_HOLE -gt 300 -outputlayer CC_M1_LSLOT;
AREA CC_M1_HOLE -le 300 -outputlayer CC_M1_FENCE_HOLE;
EDGE_EXPAND CC_M1_FENCE_HOLE -outside_by 2.5 -outputlayer _EPTMPL269055;
NOT CC_M1 _EPTMPL269055 -outputlayer _EPTMPL269056;
SELECT -interact -not _EPTMPL269056 SEALRING -outputlayer _EPTMPL269057;
SIZE _EPTMPL269057 -by 0.4 -underover -outputlayer CC_M1_FENCE_CROSS;
AND M2 CSRDMY -outputlayer CC_M2;
AND VIA2 CSRDMY -outputlayer _EPTMPL269060;
NOT _EPTMPL269060 VIA_EXD -outputlayer _EPTMPL269061;
NOT _EPTMPL269061 CSR_EXD -outputlayer CC_V2;
SIZE CC_M2 -by 0.6 -underover -outputlayer _EPTMPL269063;
HOLES _EPTMPL269063 -outputlayer CC_M2_HOLE;
AREA CC_M2_HOLE -gt 300 -outputlayer CC_M2_LSLOT;
AREA CC_M2_HOLE -le 300 -outputlayer CC_M2_FENCE_HOLE;
EDGE_EXPAND CC_M2_FENCE_HOLE -outside_by 2.5 -outputlayer _EPTMPL269067;
NOT CC_M2 _EPTMPL269067 -outputlayer _EPTMPL269068;
SELECT -interact -not _EPTMPL269068 SEALRING -outputlayer _EPTMPL269069;
SIZE _EPTMPL269069 -by 0.4 -underover -outputlayer CC_M2_FENCE_CROSS;
AND M3 CSRDMY -outputlayer CC_M3;
AND VIA3 CSRDMY -outputlayer _EPTMPL269072;
NOT _EPTMPL269072 VIA_EXD -outputlayer _EPTMPL269073;
NOT _EPTMPL269073 CSR_EXD -outputlayer CC_V3;
SIZE CC_M3 -by 0.6 -underover -outputlayer _EPTMPL269075;
HOLES _EPTMPL269075 -outputlayer CC_M3_HOLE;
AREA CC_M3_HOLE -gt 300 -outputlayer CC_M3_LSLOT;
AREA CC_M3_HOLE -le 300 -outputlayer CC_M3_FENCE_HOLE;
EDGE_EXPAND CC_M3_FENCE_HOLE -outside_by 2.5 -outputlayer _EPTMPL269079;
NOT CC_M3 _EPTMPL269079 -outputlayer _EPTMPL269080;
SELECT -interact -not _EPTMPL269080 SEALRING -outputlayer _EPTMPL269081;
SIZE _EPTMPL269081 -by 0.4 -underover -outputlayer CC_M3_FENCE_CROSS;
AND M4 CSRDMY -outputlayer CC_M4;
AND VIA4 CSRDMY -outputlayer _EPTMPL269084;
NOT _EPTMPL269084 VIA_EXD -outputlayer _EPTMPL269085;
NOT _EPTMPL269085 CSR_EXD -outputlayer CC_V4;
SIZE CC_M4 -by 0.6 -underover -outputlayer _EPTMPL269087;
HOLES _EPTMPL269087 -outputlayer CC_M4_HOLE;
AREA CC_M4_HOLE -gt 300 -outputlayer CC_M4_LSLOT;
AREA CC_M4_HOLE -le 300 -outputlayer CC_M4_FENCE_HOLE;
EDGE_EXPAND CC_M4_FENCE_HOLE -outside_by 2.5 -outputlayer _EPTMPL269091;
NOT CC_M4 _EPTMPL269091 -outputlayer _EPTMPL269092;
SELECT -interact -not _EPTMPL269092 SEALRING -outputlayer _EPTMPL269093;
SIZE _EPTMPL269093 -by 0.4 -underover -outputlayer CC_M4_FENCE_CROSS;
AND M5 CSRDMY -outputlayer CC_M5;
AND VIA5 CSRDMY -outputlayer _EPTMPL269096;
NOT _EPTMPL269096 VIA_EXD -outputlayer _EPTMPL269097;
NOT _EPTMPL269097 CSR_EXD -outputlayer CC_V5;
SIZE CC_M5 -by 0.6 -underover -outputlayer _EPTMPL269099;
HOLES _EPTMPL269099 -outputlayer CC_M5_HOLE;
AREA CC_M5_HOLE -gt 300 -outputlayer CC_M5_LSLOT;
AREA CC_M5_HOLE -le 300 -outputlayer CC_M5_FENCE_HOLE;
EDGE_EXPAND CC_M5_FENCE_HOLE -outside_by 2.5 -outputlayer _EPTMPL269103;
NOT CC_M5 _EPTMPL269103 -outputlayer _EPTMPL269104;
SELECT -interact -not _EPTMPL269104 SEALRING -outputlayer _EPTMPL269105;
SIZE _EPTMPL269105 -by 0.4 -underover -outputlayer CC_M5_FENCE_CROSS;
AND M6 CSRDMY -outputlayer CC_M6;
AND VIA6 CSRDMY -outputlayer _EPTMPL269108;
NOT _EPTMPL269108 VIA_EXD -outputlayer _EPTMPL269109;
NOT _EPTMPL269109 CSR_EXD -outputlayer CC_V6;
SIZE CC_M6 -by 0.6 -underover -outputlayer _EPTMPL269111;
HOLES _EPTMPL269111 -outputlayer CC_M6_HOLE;
AREA CC_M6_HOLE -gt 300 -outputlayer CC_M6_LSLOT;
AREA CC_M6_HOLE -le 300 -outputlayer CC_M6_FENCE_HOLE;
EDGE_EXPAND CC_M6_FENCE_HOLE -outside_by 2.5 -outputlayer _EPTMPL269115;
NOT CC_M6 _EPTMPL269115 -outputlayer _EPTMPL269116;
SELECT -interact -not _EPTMPL269116 SEALRING -outputlayer _EPTMPL269117;
SIZE _EPTMPL269117 -by 0.4 -underover -outputlayer CC_M6_FENCE_CROSS;
AND M7 CSRDMY -outputlayer CC_M7;
AND VIA7 CSRDMY -outputlayer _EPTMPL269120;
NOT _EPTMPL269120 VIA_EXD -outputlayer _EPTMPL269121;
NOT _EPTMPL269121 CSR_EXD -outputlayer CC_V7;
SIZE CC_M7 -by 0.6 -underover -outputlayer _EPTMPL269123;
HOLES _EPTMPL269123 -outputlayer CC_M7_HOLE;
AREA CC_M7_HOLE -gt 300 -outputlayer CC_M7_LSLOT;
AREA CC_M7_HOLE -le 300 -outputlayer CC_M7_FENCE_HOLE;
EDGE_EXPAND CC_M7_FENCE_HOLE -outside_by 2.5 -outputlayer _EPTMPL269127;
NOT CC_M7 _EPTMPL269127 -outputlayer _EPTMPL269128;
SELECT -interact -not _EPTMPL269128 SEALRING -outputlayer _EPTMPL269129;
SIZE _EPTMPL269129 -by 0.4 -underover -outputlayer CC_M7_FENCE_CROSS;
AND M8 CSRDMY -outputlayer CC_M8;
AND VIA8 CSRDMY -outputlayer _EPTMPL269132;
NOT _EPTMPL269132 VIA_EXD -outputlayer _EPTMPL269133;
NOT _EPTMPL269133 CSR_EXD -outputlayer CC_V8;
SIZE CC_M8 -by 0.6 -underover -outputlayer _EPTMPL269135;
HOLES _EPTMPL269135 -outputlayer CC_M8_HOLE;
AREA CC_M8_HOLE -gt 300 -outputlayer CC_M8_LSLOT;
AREA CC_M8_HOLE -le 300 -outputlayer CC_M8_FENCE_HOLE;
EDGE_EXPAND CC_M8_FENCE_HOLE -outside_by 2.5 -outputlayer _EPTMPL269139;
NOT CC_M8 _EPTMPL269139 -outputlayer _EPTMPL269140;
SELECT -interact -not _EPTMPL269140 SEALRING -outputlayer _EPTMPL269141;
SIZE _EPTMPL269141 -by 0.4 -underover -outputlayer CC_M8_FENCE_CROSS;
AND M9i CSRDMY -outputlayer CC_M9;

RULE CSR.R.2:A {
    CAPTION "CSR structure must include Mtop~M1/VIAtop~VIA1/CO/PP/OD";
    SELECT -interact -not CSRDMY ODi ; // -outputlayer _EPTMPL269144
    SELECT -interact -not CSRDMY PPi ; // -outputlayer _EPTMPL269145
    SELECT -interact -not CSRDMY M1x ; // -outputlayer _EPTMPL269146
    SELECT -interact -not CSRDMY M2x ; // -outputlayer _EPTMPL269147
    SELECT -interact -not CSRDMY M3x ; // -outputlayer _EPTMPL269148
    SELECT -interact -not CSRDMY M4x ; // -outputlayer _EPTMPL269149
    SELECT -interact -not CSRDMY M5x ; // -outputlayer _EPTMPL269150
    SELECT -interact -not CSRDMY M6x ; // -outputlayer _EPTMPL269151
    SELECT -interact -not CSRDMY M7x ; // -outputlayer _EPTMPL269152
    SELECT -interact -not CSRDMY M8x ; // -outputlayer _EPTMPL269153
    SELECT -interact -not CSRDMY M9x ; // -outputlayer _EPTMPL269154
    SELECT -enclose -not CSRDMY COi ; // -outputlayer _EPTMPL269155
    SELECT -enclose -not CSRDMY VIA1i ; // -outputlayer _EPTMPL269156
    SELECT -enclose -not CSRDMY VIA2i ; // -outputlayer _EPTMPL269157
    SELECT -enclose -not CSRDMY VIA3i ; // -outputlayer _EPTMPL269158
    SELECT -enclose -not CSRDMY VIA4i ; // -outputlayer _EPTMPL269159
    SELECT -enclose -not CSRDMY VIA5i ; // -outputlayer _EPTMPL269160
    SELECT -enclose -not CSRDMY VIA6i ; // -outputlayer _EPTMPL269161
    SELECT -enclose -not CSRDMY VIA7i ; // -outputlayer _EPTMPL269162
    SELECT -enclose -not CSRDMY VIA8i ; // -outputlayer _EPTMPL269163
}

RULE CSR.R.2:B {
    CAPTION "M1~M8 must be stacked and coincident the edge.";
    XOR CC_M1 CC_M2 ; // -outputlayer _EPTMPL269164
    XOR CC_M2 CC_M3 ; // -outputlayer _EPTMPL269165
    XOR CC_M3 CC_M4 ; // -outputlayer _EPTMPL269166
    XOR CC_M4 CC_M5 ; // -outputlayer _EPTMPL269167
    XOR CC_M5 CC_M6 ; // -outputlayer _EPTMPL269168
    XOR CC_M6 CC_M7 ; // -outputlayer _EPTMPL269169
    XOR CC_M7 CC_M8 ; // -outputlayer _EPTMPL269170
}

RULE CSR.R.2:C {
    CAPTION "CSR structure must be covered with CSRDMY";
    SELECT -interact -not SR_EDGE CSRDMY ; // -outputlayer _EPTMPL269171
}

RULE CSR.R.2:D {
    CAPTION "M1~M8 fence metal width & space = 2.5 um";
    RECT_CHK -not CC_M1_FENCE_HOLE -eq "CSR_R_2" -by -eq "CSR_R_2" -orthogonal_only ; // -outputlayer _EPTMPL269172
    RECT_CHK -not CC_M1_FENCE_CROSS -eq "CSR_R_2" -by -eq "CSR_R_2" -orthogonal_only ; // -outputlayer _EPTMPL269173
    RECT_CHK -not CC_M2_FENCE_HOLE -eq "CSR_R_2" -by -eq "CSR_R_2" -orthogonal_only ; // -outputlayer _EPTMPL269174
    RECT_CHK -not CC_M2_FENCE_CROSS -eq "CSR_R_2" -by -eq "CSR_R_2" -orthogonal_only ; // -outputlayer _EPTMPL269175
    RECT_CHK -not CC_M3_FENCE_HOLE -eq "CSR_R_2" -by -eq "CSR_R_2" -orthogonal_only ; // -outputlayer _EPTMPL269176
    RECT_CHK -not CC_M3_FENCE_CROSS -eq "CSR_R_2" -by -eq "CSR_R_2" -orthogonal_only ; // -outputlayer _EPTMPL269177
    RECT_CHK -not CC_M4_FENCE_HOLE -eq "CSR_R_2" -by -eq "CSR_R_2" -orthogonal_only ; // -outputlayer _EPTMPL269178
    RECT_CHK -not CC_M4_FENCE_CROSS -eq "CSR_R_2" -by -eq "CSR_R_2" -orthogonal_only ; // -outputlayer _EPTMPL269179
    RECT_CHK -not CC_M5_FENCE_HOLE -eq "CSR_R_2" -by -eq "CSR_R_2" -orthogonal_only ; // -outputlayer _EPTMPL269180
    RECT_CHK -not CC_M5_FENCE_CROSS -eq "CSR_R_2" -by -eq "CSR_R_2" -orthogonal_only ; // -outputlayer _EPTMPL269181
    RECT_CHK -not CC_M6_FENCE_HOLE -eq "CSR_R_2" -by -eq "CSR_R_2" -orthogonal_only ; // -outputlayer _EPTMPL269182
    RECT_CHK -not CC_M6_FENCE_CROSS -eq "CSR_R_2" -by -eq "CSR_R_2" -orthogonal_only ; // -outputlayer _EPTMPL269183
    RECT_CHK -not CC_M7_FENCE_HOLE -eq "CSR_R_2" -by -eq "CSR_R_2" -orthogonal_only ; // -outputlayer _EPTMPL269184
    RECT_CHK -not CC_M7_FENCE_CROSS -eq "CSR_R_2" -by -eq "CSR_R_2" -orthogonal_only ; // -outputlayer _EPTMPL269185
    RECT_CHK -not CC_M8_FENCE_HOLE -eq "CSR_R_2" -by -eq "CSR_R_2" -orthogonal_only ; // -outputlayer _EPTMPL269186
    RECT_CHK -not CC_M8_FENCE_CROSS -eq "CSR_R_2" -by -eq "CSR_R_2" -orthogonal_only ; // -outputlayer _EPTMPL269187
}

RULE CSR.R.2:E {
    CAPTION "The CSR pattern must be covered by solid L-mark Metal.";
    NOT CC_M8_FENCE_HOLE LMARK_METAL_CSR ; // -outputlayer _EPTMPL269188
}

RULE CSR.R.2:F {
    CAPTION "The L-slot can't overlap AP or PO";
    AND LMARK_SLOT_CSR APi ; // -outputlayer _EPTMPL269189
    AND LMARK_SLOT_CSR POi ; // -outputlayer _EPTMPL269190
}

RULE CSR.S.1 {
    CAPTION "CO space >= 0.36 um";
    EXTE CC_CO -lt "CSR_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269191
}

RULE CSR.EN.1 {
    CAPTION "CO enclosure by M1[crossing area] >= 0.53 um";
    ENC CC_CO CC_M1_FENCE_CROSS -lt "CSR_EN_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269192
}

RULE CSR.S.2 {
    CAPTION "VIAx space at the same level >= 0.35 um";
    EXTE CC_V1 -lt "CSR_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269193
    EXTE CC_V2 -lt "CSR_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269194
    EXTE CC_V3 -lt "CSR_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269195
    EXTE CC_V4 -lt "CSR_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269196
    EXTE CC_V5 -lt "CSR_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269197
    EXTE CC_V6 -lt "CSR_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269198
}

RULE CSR.EN.2 {
    CAPTION "VIAx enclosure by metal[crossing area] >= 0.525 um";
    ENC CC_V1 CC_M1_FENCE_CROSS -lt "CSR_EN_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269199
    SELECT -cut CC_V1 CC_M1_FENCE_CROSS ; // -outputlayer _EPTMPL269200
    ENC CC_V2 CC_M2_FENCE_CROSS -lt "CSR_EN_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269201
    SELECT -cut CC_V2 CC_M2_FENCE_CROSS ; // -outputlayer _EPTMPL269202
    ENC CC_V3 CC_M3_FENCE_CROSS -lt "CSR_EN_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269203
    SELECT -cut CC_V3 CC_M3_FENCE_CROSS ; // -outputlayer _EPTMPL269204
    ENC CC_V4 CC_M4_FENCE_CROSS -lt "CSR_EN_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269205
    SELECT -cut CC_V4 CC_M4_FENCE_CROSS ; // -outputlayer _EPTMPL269206
    ENC CC_V5 CC_M5_FENCE_CROSS -lt "CSR_EN_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269207
    SELECT -cut CC_V5 CC_M5_FENCE_CROSS ; // -outputlayer _EPTMPL269208
    ENC CC_V6 CC_M6_FENCE_CROSS -lt "CSR_EN_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269209
    SELECT -cut CC_V6 CC_M6_FENCE_CROSS ; // -outputlayer _EPTMPL269210
}

RULE CSR.S.4 {
    CAPTION "VIAz space >= 0.56 um";
    EXTE CC_V7 -lt "CSR_S_4" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269211
    EXTE CC_V8 -lt "CSR_S_4" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269212
}

RULE CSR.EN.4 {
    CAPTION "VIAz enclosure by metal[crossing area] >= 0.61 um";
    ENC CC_V7 CC_M7_FENCE_CROSS -lt "CSR_EN_4" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269213
    SELECT -cut CC_V7 CC_M7_FENCE_CROSS ; // -outputlayer _EPTMPL269214
    ENC CC_V8 CC_M8_FENCE_CROSS -lt "CSR_EN_4" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269215
    SELECT -cut CC_V8 CC_M8_FENCE_CROSS ; // -outputlayer _EPTMPL269216
}

RULE CSR.R.3:CO {
    CAPTION "CO number at M1 crossing area = 16 um";
    SELECT -interact CC_M1_FENCE_CROSS CO -lt CSR_R_3_X ; // -outputlayer _EPTMPL269217
    SELECT -interact CC_M1_FENCE_CROSS CO -gt CSR_R_3_X ; // -outputlayer _EPTMPL269218
    SELECT -interact -not CC_M1_FENCE_CROSS CO ; // -outputlayer _EPTMPL269219
}

RULE CSR.R.3:VIA1 {
    CAPTION "VIA1 number at M1 crossing area = 16 um";
    SELECT -interact CC_M1_FENCE_CROSS VIA1 -lt CSR_R_3_X ; // -outputlayer _EPTMPL269220
    SELECT -interact CC_M1_FENCE_CROSS VIA1 -gt CSR_R_3_X ; // -outputlayer _EPTMPL269221
    SELECT -interact -not CC_M1_FENCE_CROSS VIA1 ; // -outputlayer _EPTMPL269222
}

RULE CSR.R.3:VIA2 {
    CAPTION "VIA2 number at M2 crossing area = 16 um";
    SELECT -interact CC_M2_FENCE_CROSS VIA2 -lt CSR_R_3_X ; // -outputlayer _EPTMPL269223
    SELECT -interact CC_M2_FENCE_CROSS VIA2 -gt CSR_R_3_X ; // -outputlayer _EPTMPL269224
    SELECT -interact -not CC_M2_FENCE_CROSS VIA2 ; // -outputlayer _EPTMPL269225
}

RULE CSR.R.3:VIA3 {
    CAPTION "VIA3 number at M3 crossing area = 16 um";
    SELECT -interact CC_M3_FENCE_CROSS VIA3 -lt CSR_R_3_X ; // -outputlayer _EPTMPL269226
    SELECT -interact CC_M3_FENCE_CROSS VIA3 -gt CSR_R_3_X ; // -outputlayer _EPTMPL269227
    SELECT -interact -not CC_M3_FENCE_CROSS VIA3 ; // -outputlayer _EPTMPL269228
}

RULE CSR.R.3:VIA4 {
    CAPTION "VIA4 number at M4 crossing area = 16 um";
    SELECT -interact CC_M4_FENCE_CROSS VIA4 -lt CSR_R_3_X ; // -outputlayer _EPTMPL269229
    SELECT -interact CC_M4_FENCE_CROSS VIA4 -gt CSR_R_3_X ; // -outputlayer _EPTMPL269230
    SELECT -interact -not CC_M4_FENCE_CROSS VIA4 ; // -outputlayer _EPTMPL269231
}

RULE CSR.R.3:VIA5 {
    CAPTION "VIA5 number at M5 crossing area = 16 um";
    SELECT -interact CC_M5_FENCE_CROSS VIA5 -lt CSR_R_3_X ; // -outputlayer _EPTMPL269232
    SELECT -interact CC_M5_FENCE_CROSS VIA5 -gt CSR_R_3_X ; // -outputlayer _EPTMPL269233
    SELECT -interact -not CC_M5_FENCE_CROSS VIA5 ; // -outputlayer _EPTMPL269234
}

RULE CSR.R.3:VIA6 {
    CAPTION "VIA6 number at M6 crossing area = 16 um";
    SELECT -interact CC_M6_FENCE_CROSS VIA6 -lt CSR_R_3_X ; // -outputlayer _EPTMPL269235
    SELECT -interact CC_M6_FENCE_CROSS VIA6 -gt CSR_R_3_X ; // -outputlayer _EPTMPL269236
    SELECT -interact -not CC_M6_FENCE_CROSS VIA6 ; // -outputlayer _EPTMPL269237
}

RULE CSR.R.3:VIA7 {
    CAPTION "VIA7 number at M7 crossing area = 4 um";
    SELECT -interact CC_M7_FENCE_CROSS VIA7 -lt CSR_R_3_Z ; // -outputlayer _EPTMPL269238
    SELECT -interact CC_M7_FENCE_CROSS VIA7 -gt CSR_R_3_Z ; // -outputlayer _EPTMPL269239
    SELECT -interact -not CC_M7_FENCE_CROSS VIA7 ; // -outputlayer _EPTMPL269240
}

RULE CSR.R.3:VIA8 {
    CAPTION "VIA8 number at M8 crossing area = 4 um";
    SELECT -interact CC_M8_FENCE_CROSS VIA8 -lt CSR_R_3_Z ; // -outputlayer _EPTMPL269241
    SELECT -interact CC_M8_FENCE_CROSS VIA8 -gt CSR_R_3_Z ; // -outputlayer _EPTMPL269242
    SELECT -interact -not CC_M8_FENCE_CROSS VIA8 ; // -outputlayer _EPTMPL269243
}

RULE CSR.W.1 {
    CAPTION "Width of L-slot = 10 um";
    SIZE LMARK_SLOT_CSR -by "CSR_W_1/2" -underover ; // -outputlayer _EPTMPL269244
    INTE LMARK_SLOT_CSR -lt "CSR_W_1" -abut -lt 90 -angled -eq 0 -output region ; // -outputlayer _EPTMPL269245
}

RULE CSR.W.2 {
    CAPTION "Width of 45 degree corner of L-slot, >= 6 um <= 10 um";
    ANGLE LMARK_SLOT_CSR -eq 45 -outputlayer X;
    EDGE_EXPAND X -inside_by "CSR_W_2_2+GRID" -outputlayer Y;
    SELECT -outside Y LMARK_METAL_CSR ; // -outputlayer _EPTMPL269248
    INTE LMARK_SLOT_CSR -lt "CSR_W_2_1" -abut -lt 90 -angled -eq 2 -output region ; // -outputlayer _EPTMPL269249
}

RULE CSR.L.1 {
    CAPTION "Length of L-slot, >= 20 um <= 25 um";
    SELECT -enclose_rect -not LMARK_SLOT_CSR -width 10 -length CSR_L_1_1 ; // -outputlayer _EPTMPL269250
    SELECT -enclose_rect LMARK_SLOT_CSR -width 10 -length CSR_L_1_2+GRID ; // -outputlayer _EPTMPL269251
}

RULE CSR.EN.5.1 {
    CAPTION "L-mark metal in CSR enclosure of L-slot [in the direction of L-slot length] >= 5 um <= 9 um";
    CONVEX_EDGE LMARK_SLOT_CSR -angle1 -eq 90 -angle2 -eq 90 -outputlayer X;
    ENC X LMARK_MS_CSR -lt "CSR_EN_5_1" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL269253
    ENC X LMARK_MS_CSR -ltgt "CSR_EN_5_2" 100 -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL269254
}
EXTENT -layer M9 -outputlayer _EPTMPL269255;
SELECT -interact _EPTMPL269255 CSRDMY -outputlayer TM_SR_EXT;
INTE TM_SR_EXT -le "CSR_EN_6_1_L1" -abut -eq 90 -output region -intersecting ONLY -outputlayer TM_SR_CORNER_A;
INTE TM_SR_EXT -le "CSR_EN_6_1_L2" -abut -eq 90 -output region -intersecting ONLY -outputlayer TM_SR_CORNER_B;
EXTENT -layer APi -outputlayer _EPTMPL269259;
SELECT -interact _EPTMPL269259 CSRDMY -outputlayer AP_SR_EXT;
INTE AP_SR_EXT -le "CSR_EN_6_2_L1" -abut -eq 90 -output region -intersecting ONLY -outputlayer TM_SR_CORNER_C;
INTE AP_SR_EXT -le "CSR_EN_6_2_L2" -abut -eq 90 -output region -intersecting ONLY -outputlayer TM_SR_CORNER_D;

RULE CSR.EN.6.1:M1i {
    CAPTION "An empty isosceles triangle area must exist butted to the WLCSP sealring outside corner.";
    AND TM_SR_CORNER_A M1i ; // -outputlayer _EPTMPL269263
    SELECT -interact -not TM_SR_CORNER_B M1i ; // -outputlayer _EPTMPL269264
}

RULE CSR.EN.6.1:M2i {
    CAPTION "An empty isosceles triangle area must exist butted to the WLCSP sealring outside corner.";
    AND TM_SR_CORNER_A M2i ; // -outputlayer _EPTMPL269265
    SELECT -interact -not TM_SR_CORNER_B M2i ; // -outputlayer _EPTMPL269266
}

RULE CSR.EN.6.1:M3i {
    CAPTION "An empty isosceles triangle area must exist butted to the WLCSP sealring outside corner.";
    AND TM_SR_CORNER_A M3i ; // -outputlayer _EPTMPL269267
    SELECT -interact -not TM_SR_CORNER_B M3i ; // -outputlayer _EPTMPL269268
}

RULE CSR.EN.6.1:M4i {
    CAPTION "An empty isosceles triangle area must exist butted to the WLCSP sealring outside corner.";
    AND TM_SR_CORNER_A M4i ; // -outputlayer _EPTMPL269269
    SELECT -interact -not TM_SR_CORNER_B M4i ; // -outputlayer _EPTMPL269270
}

RULE CSR.EN.6.1:M5i {
    CAPTION "An empty isosceles triangle area must exist butted to the WLCSP sealring outside corner.";
    AND TM_SR_CORNER_A M5i ; // -outputlayer _EPTMPL269271
    SELECT -interact -not TM_SR_CORNER_B M5i ; // -outputlayer _EPTMPL269272
}

RULE CSR.EN.6.1:M6i {
    CAPTION "An empty isosceles triangle area must exist butted to the WLCSP sealring outside corner.";
    AND TM_SR_CORNER_A M6i ; // -outputlayer _EPTMPL269273
    SELECT -interact -not TM_SR_CORNER_B M6i ; // -outputlayer _EPTMPL269274
}

RULE CSR.EN.6.1:M7i {
    CAPTION "An empty isosceles triangle area must exist butted to the WLCSP sealring outside corner.";
    AND TM_SR_CORNER_A M7i ; // -outputlayer _EPTMPL269275
    SELECT -interact -not TM_SR_CORNER_B M7i ; // -outputlayer _EPTMPL269276
}

RULE CSR.EN.6.1:M8i {
    CAPTION "An empty isosceles triangle area must exist butted to the WLCSP sealring outside corner.";
    AND TM_SR_CORNER_A M8i ; // -outputlayer _EPTMPL269277
    SELECT -interact -not TM_SR_CORNER_B M8i ; // -outputlayer _EPTMPL269278
}

RULE CSR.EN.6.1:M9i {
    CAPTION "An empty isosceles triangle area must exist butted to the WLCSP sealring outside corner.";
    AND TM_SR_CORNER_A M9i ; // -outputlayer _EPTMPL269279
    SELECT -interact -not TM_SR_CORNER_B M9i ; // -outputlayer _EPTMPL269280
}

RULE CSR.EN.6.2:APi {
    CAPTION "An empty isosceles triangle area must exist butted to the WLCSP sealring outside corner.";
    AND TM_SR_CORNER_C APi ; // -outputlayer _EPTMPL269281
    SELECT -interact -not TM_SR_CORNER_D APi ; // -outputlayer _EPTMPL269282
}

RULE CSR.EN.7:VIA1 {
    CAPTION "Metal enclosure of VIA1 around L-slot >= 0.52 um";
    EXTE CC_M1_LSLOT SR_VIA1 -lt "CSR_EN_7_X" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL269283
    AND CC_M1_LSLOT SR_VIA1 ; // -outputlayer _EPTMPL269284
}

RULE CSR.EN.7:VIA2 {
    CAPTION "Metal enclosure of VIA2 around L-slot >= 0.52 um";
    EXTE CC_M2_LSLOT SR_VIA2 -lt "CSR_EN_7_X" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL269285
    AND CC_M2_LSLOT SR_VIA2 ; // -outputlayer _EPTMPL269286
}

RULE CSR.EN.7:VIA3 {
    CAPTION "Metal enclosure of VIA3 around L-slot >= 0.52 um";
    EXTE CC_M3_LSLOT SR_VIA3 -lt "CSR_EN_7_X" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL269287
    AND CC_M3_LSLOT SR_VIA3 ; // -outputlayer _EPTMPL269288
}

RULE CSR.EN.7:VIA4 {
    CAPTION "Metal enclosure of VIA4 around L-slot >= 0.52 um";
    EXTE CC_M4_LSLOT SR_VIA4 -lt "CSR_EN_7_X" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL269289
    AND CC_M4_LSLOT SR_VIA4 ; // -outputlayer _EPTMPL269290
}

RULE CSR.EN.7:VIA5 {
    CAPTION "Metal enclosure of VIA5 around L-slot >= 0.52 um";
    EXTE CC_M5_LSLOT SR_VIA5 -lt "CSR_EN_7_X" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL269291
    AND CC_M5_LSLOT SR_VIA5 ; // -outputlayer _EPTMPL269292
}

RULE CSR.EN.7:VIA6 {
    CAPTION "Metal enclosure of VIA6 around L-slot >= 0.52 um";
    EXTE CC_M6_LSLOT SR_VIA6 -lt "CSR_EN_7_X" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL269293
    AND CC_M6_LSLOT SR_VIA6 ; // -outputlayer _EPTMPL269294
}

RULE CSR.EN.7:VIA7 {
    CAPTION "Metal enclosure of VIA7 around L-slot >= 0.58 um";
    EXTE CC_M7_LSLOT SR_VIA7 -lt "CSR_EN_7_Z" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL269295
    AND CC_M7_LSLOT SR_VIA7 ; // -outputlayer _EPTMPL269296
}

RULE CSR.EN.7:VIA8 {
    CAPTION "Metal enclosure of VIA8 around L-slot >= 0.58 um";
    EXTE CC_M8_LSLOT SR_VIA8 -lt "CSR_EN_7_Z" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL269297
    AND CC_M8_LSLOT SR_VIA8 ; // -outputlayer _EPTMPL269298
}

RULE CSR.EN.8 {
    CAPTION "Metal enclosure by L-mark metal in CSR around L-slot >= 0.25 um";
    EXTE LMARK_SLOT_CSR M1i -lt "CSR_EN_8" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL269299
    AND LMARK_SLOT_CSR M1i ; // -outputlayer _EPTMPL269300
    EXTE LMARK_SLOT_CSR M2i -lt "CSR_EN_8" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL269301
    AND LMARK_SLOT_CSR M2i ; // -outputlayer _EPTMPL269302
    EXTE LMARK_SLOT_CSR M3i -lt "CSR_EN_8" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL269303
    AND LMARK_SLOT_CSR M3i ; // -outputlayer _EPTMPL269304
    EXTE LMARK_SLOT_CSR M4i -lt "CSR_EN_8" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL269305
    AND LMARK_SLOT_CSR M4i ; // -outputlayer _EPTMPL269306
    EXTE LMARK_SLOT_CSR M5i -lt "CSR_EN_8" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL269307
    AND LMARK_SLOT_CSR M5i ; // -outputlayer _EPTMPL269308
    EXTE LMARK_SLOT_CSR M6i -lt "CSR_EN_8" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL269309
    AND LMARK_SLOT_CSR M6i ; // -outputlayer _EPTMPL269310
    EXTE LMARK_SLOT_CSR M7i -lt "CSR_EN_8" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL269311
    AND LMARK_SLOT_CSR M7i ; // -outputlayer _EPTMPL269312
    EXTE LMARK_SLOT_CSR M8i -lt "CSR_EN_8" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL269313
    AND LMARK_SLOT_CSR M8i ; // -outputlayer _EPTMPL269314
}
AND M1i SR_RING -outputlayer _EPTMPL269315;
SELECT -interact _EPTMPL269315 SEALRING -outputlayer _EPTMPL269316;
HOLES _EPTMPL269316 -inner -outputlayer ASSH;
SIZE ASSH -by "SR_S_1" -underover -outputlayer ASS;
SIZE ASS -by -SR_S_1 -outputlayer CORR;
NOT ASS CORR -outputlayer ISOR;

RULE SR.S.1 {
    CAPTION " Width of Assembly isolation >= 10 um, Only M1~Mtop, AP, CB, CBD, RV and CDU allowed in assembly isolation region";
    CAPTION "1. Connect circuit to sealring through M1~Mtop if needed for WLCSP sealring";
    CAPTION "2. Connect circuit to sealring through AP, it is only allowed connecting to the most inner sealring (AP overlap with CB2 is not allowed)";
    AND ISOR DNWi ; // -outputlayer _EPTMPL269321
    AND ISOR NWi ; // -outputlayer _EPTMPL269322
    AND ISOR POi -outputlayer _EPTMPL269323;
    SELECT -inside -not _EPTMPL269323 CDUDMY ; // -outputlayer _EPTMPL269324
    AND ISOR DPO ; // -outputlayer _EPTMPL269325
    AND ISOR ODi -outputlayer _EPTMPL269326;
    SELECT -inside -not _EPTMPL269326 CDUDMY ; // -outputlayer _EPTMPL269327
    AND ISOR DOD ; // -outputlayer _EPTMPL269328
    AND ISOR CBMi ; // -outputlayer _EPTMPL269329
    AND ISOR CTMi ; // -outputlayer _EPTMPL269330
    AND ISOR COi -outputlayer _EPTMPL269331;
    SELECT -inside -not _EPTMPL269331 CDUDMY ; // -outputlayer _EPTMPL269332
    AND ISOR VIA1i ; // -outputlayer _EPTMPL269333
    AND ISOR VIA2i ; // -outputlayer _EPTMPL269334
    AND ISOR VIA3i ; // -outputlayer _EPTMPL269335
    AND ISOR VIA4i ; // -outputlayer _EPTMPL269336
    AND ISOR VIA5i ; // -outputlayer _EPTMPL269337
    AND ISOR VIA6i ; // -outputlayer _EPTMPL269338
    AND ISOR VIA7i ; // -outputlayer _EPTMPL269339
    AND ISOR VIA8i ; // -outputlayer _EPTMPL269340
    AND ISOR UBMi ; // -outputlayer _EPTMPL269341
}

RULE SR.S.1:CB {
    CAPTION "Width of Assembly isolation >= 10 um, Only M1~Mtop, AP, CB, CBD, RV and CDU allowed in assembly isolation region";
    CAPTION "1. Connect circuit to sealring through M1~Mtop if needed for WLCSP sealring";
    SELECT -interact -not CBi SEALRING -outputlayer _EPTMPL269342;
    SELECT -inside -not _EPTMPL269342 CDUDMY -outputlayer _EPTMPL269343;
    AND _EPTMPL269343 ISOR ; // -outputlayer _EPTMPL269344
}

RULE SR.S.1:CBD {
    CAPTION "Width of Assembly isolation >= 10 um, Only M1~Mtop, AP, CB, CBD, RV  and CDU allowed in assembly isolation region";
    CAPTION "1. Connect circuit to sealring through M1~Mtop if needed for WLCSP sealring";
    SELECT -interact -not CBDi SEALRING -outputlayer _EPTMPL269345;
    SELECT -inside -not _EPTMPL269345 CDUDMY -outputlayer _EPTMPL269346;
    AND _EPTMPL269346 ISOR ; // -outputlayer _EPTMPL269347
}

RULE SR.S.1:RV {
    CAPTION "Width of Assembly isolation >= 10 um, Only M1~Mtop, AP, CB, CBD, RV  and CDU allowed in assembly isolation region";
    CAPTION "1. Connect circuit to sealring through M1~Mtop if needed for WLCSP sealring";
    SELECT -interact -not RVi SEALRING -outputlayer _EPTMPL269348;
    SELECT -inside -not _EPTMPL269348 CDUDMY -outputlayer _EPTMPL269349;
    AND _EPTMPL269349 ISOR ; // -outputlayer _EPTMPL269350
}

RULE SR.S.1:M1 {
    CAPTION "Width of Assembly isolation >= 10 um, Only M1~Mtop, AP, CB, CBD, RV and CDU allowed in assembly isolation region";
    CAPTION "1. Connect circuit to sealring through M1~Mtop if needed for WLCSP sealring";
    SELECT -interact -not M1i SEALRING -outputlayer _EPTMPL269351;
    SELECT -inside -not _EPTMPL269351 CDUDMY -outputlayer _EPTMPL269352;
    AND _EPTMPL269352 ISOR ; // -outputlayer _EPTMPL269353
    AND DUM1 ISOR ; // -outputlayer _EPTMPL269354
}

RULE SR.S.1:M2 {
    CAPTION "Width of Assembly isolation >= 10 um, Only M1~Mtop, AP, CB, CBD, RV and CDU allowed in assembly isolation region";
    CAPTION "1. Connect circuit to sealring through M1~Mtop if needed for WLCSP sealring";
    SELECT -interact -not M2i SEALRING -outputlayer _EPTMPL269355;
    SELECT -inside -not _EPTMPL269355 CDUDMY -outputlayer _EPTMPL269356;
    AND _EPTMPL269356 ISOR ; // -outputlayer _EPTMPL269357
    AND DUM2 ISOR ; // -outputlayer _EPTMPL269358
}

RULE SR.S.1:M3 {
    CAPTION "Width of Assembly isolation >= 10 um, Only M1~Mtop, AP, CB, CBD, RV and CDU allowed in assembly isolation region";
    CAPTION "1. Connect circuit to sealring through M1~Mtop if needed for WLCSP sealring";
    SELECT -interact -not M3i SEALRING -outputlayer _EPTMPL269359;
    SELECT -inside -not _EPTMPL269359 CDUDMY -outputlayer _EPTMPL269360;
    AND _EPTMPL269360 ISOR ; // -outputlayer _EPTMPL269361
    AND DUM3 ISOR ; // -outputlayer _EPTMPL269362
}

RULE SR.S.1:M4 {
    CAPTION "Width of Assembly isolation >= 10 um, Only M1~Mtop, AP, CB, CBD, RV and CDU allowed in assembly isolation region";
    CAPTION "1. Connect circuit to sealring through M1~Mtop if needed for WLCSP sealring";
    SELECT -interact -not M4i SEALRING -outputlayer _EPTMPL269363;
    SELECT -inside -not _EPTMPL269363 CDUDMY -outputlayer _EPTMPL269364;
    AND _EPTMPL269364 ISOR ; // -outputlayer _EPTMPL269365
    AND DUM4 ISOR ; // -outputlayer _EPTMPL269366
}

RULE SR.S.1:M5 {
    CAPTION "Width of Assembly isolation >= 10 um, Only M1~Mtop, AP, CB, CBD, RV and CDU allowed in assembly isolation region";
    CAPTION "1. Connect circuit to sealring through M1~Mtop if needed for WLCSP sealring";
    SELECT -interact -not M5i SEALRING -outputlayer _EPTMPL269367;
    SELECT -inside -not _EPTMPL269367 CDUDMY -outputlayer _EPTMPL269368;
    AND _EPTMPL269368 ISOR ; // -outputlayer _EPTMPL269369
    AND DUM5 ISOR ; // -outputlayer _EPTMPL269370
}

RULE SR.S.1:M6 {
    CAPTION "Width of Assembly isolation >= 10 um, Only M1~Mtop, AP, CB, CBD, RV and CDU allowed in assembly isolation region";
    CAPTION "1. Connect circuit to sealring through M1~Mtop if needed for WLCSP sealring";
    SELECT -interact -not M6i SEALRING -outputlayer _EPTMPL269371;
    SELECT -inside -not _EPTMPL269371 CDUDMY -outputlayer _EPTMPL269372;
    AND _EPTMPL269372 ISOR ; // -outputlayer _EPTMPL269373
    AND DUM6 ISOR ; // -outputlayer _EPTMPL269374
}

RULE SR.S.1:M7 {
    CAPTION "Width of Assembly isolation >= 10 um, Only M1~Mtop, AP, CB, CBD, RV and CDU allowed in assembly isolation region";
    CAPTION "1. Connect circuit to sealring through M1~Mtop if needed for WLCSP sealring";
    SELECT -interact -not M7i SEALRING -outputlayer _EPTMPL269375;
    SELECT -inside -not _EPTMPL269375 CDUDMY -outputlayer _EPTMPL269376;
    AND _EPTMPL269376 ISOR ; // -outputlayer _EPTMPL269377
    AND DUM7 ISOR ; // -outputlayer _EPTMPL269378
}

RULE SR.S.1:M8 {
    CAPTION "Width of Assembly isolation >= 10 um, Only M1~Mtop, AP, CB, CBD, RV and CDU allowed in assembly isolation region";
    CAPTION "1. Connect circuit to sealring through M1~Mtop if needed for WLCSP sealring";
    SELECT -interact -not M8i SEALRING -outputlayer _EPTMPL269379;
    SELECT -inside -not _EPTMPL269379 CDUDMY -outputlayer _EPTMPL269380;
    AND _EPTMPL269380 ISOR ; // -outputlayer _EPTMPL269381
    AND DUM8 ISOR ; // -outputlayer _EPTMPL269382
}

RULE SR.S.1:M9 {
    CAPTION "Width of Assembly isolation >= 10 um, Only M1~Mtop, AP, CB, CBD, RV and CDU allowed in assembly isolation region";
    CAPTION "1. Connect circuit to sealring through M1~Mtop if needed for WLCSP sealring";
    SELECT -interact -not M9i SEALRING -outputlayer _EPTMPL269383;
    SELECT -inside -not _EPTMPL269383 CDUDMY -outputlayer _EPTMPL269384;
    AND _EPTMPL269384 ISOR ; // -outputlayer _EPTMPL269385
    AND DUM9 ISOR ; // -outputlayer _EPTMPL269386
}

RULE SR.S.1:AP {
    CAPTION "Width of Assembly isolation >= 10 um, Only M1~Mtop and CDU allowed in assembly isolation region";
    CAPTION "2. Connect circuit to sealring through AP, it is only allowed connecting to the most inner sealring (AP overlap with CB2 is not allowed)";
    SELECT -interact -not APi SEALRING -outputlayer _EPTMPL269387;
    AND _EPTMPL269387 ISOR ; // -outputlayer _EPTMPL269388
    AND APi SRCSR -outputlayer _EPTMPL269389;
    AND _EPTMPL269389 CB2i ; // -outputlayer _EPTMPL269390
}

RULE SR.AP:WARNING {
    CAPTION "AP is must in seal-ring if flip chip or AlCu RDL or AlCu fuse is used";
    CAPTION "AP enclosure of CB/CBD in seal-ring >= 1";
    SELECT -interact CHIP APi -outputlayer _EPTMPL269391;
    SELECT -interact SR_EDGE _EPTMPL269391 -outputlayer SRCSRx;
    SELECT -inside CBi SRCSRx -outputlayer SRx_CB;
    SELECT -inside CBDi SRCSRx -outputlayer SRx_CBD;
    SELECT -inside RVi SRCSRx -outputlayer SRx_RV;
    NOT SRx_CB APi ; // -outputlayer _EPTMPL269396
    NOT SRx_CBD APi ; // -outputlayer _EPTMPL269397
    NOT SRx_RV APi ; // -outputlayer _EPTMPL269398
    ANGLE SRx_CB -ne 45 -outputlayer A1;
    ANGLE SRx_CB -eq 45 -outputlayer A2;
    ANGLE SRx_CBD -ne 45 -outputlayer B1;
    ANGLE SRx_CBD -eq 45 -outputlayer B2;
    ANGLE SRx_RV -ne 45 -outputlayer C1;
    ANGLE SRx_RV -eq 45 -outputlayer C2;
    ENC A1 APi -lt 1 -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL269405
    ENC B1 APi -lt 1 -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL269406
    ENC C1 APi -lt 1 -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL269407
    ENC A2 APi -lt "1-GRID" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL269408
    ENC B2 APi -lt "1-GRID" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL269409
    ENC C2 APi -lt "1-GRID" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL269410
}

RULE SR.CB:WARNING {
    CAPTION "CB is must in seal-ring if wire bond is used";
    SELECT -interact CHIP CBi -outputlayer _EPTMPL269411;
    SELECT -interact -not _EPTMPL269411 UBMi -outputlayer CHIP_INT_CB;
    SELECT -interact SR_EDGE CHIP_INT_CB -outputlayer SR_EDGEx;
    SELECT -interact -not SR_EDGEx CBi ; // -outputlayer _EPTMPL269414
}

RULE SR.CBD_RV:WARNING {
    CAPTION " CBD is must in seal-ring if flip chip (without AlCu fuse or AlCu RDL) is used";
    CAPTION " Either CBD or RV is must in seal-ring if flip chip(with AlCu fuse or AlCu RDL) is used";
    SELECT -interact CHIP UBMi -outputlayer CHIP_UBM;
    OR RVi FWALi -outputlayer _EPTMPL269416;
    SELECT -interact CHIP_UBM _EPTMPL269416 -outputlayer CHIP_UBM_1;
    OR RVi FWALi -outputlayer _EPTMPL269418;
    SELECT -interact -not CHIP_UBM _EPTMPL269418 -outputlayer CHIP_UBM_2;
    SELECT -interact SR_EDGE CHIP_UBM_1 -outputlayer SR_EDGEx1;
    OR CBDi RVi -outputlayer _EPTMPL269421;
    SELECT -interact -not SR_EDGEx1 _EPTMPL269421 ; // -outputlayer _EPTMPL269422
    SELECT -interact SR_EDGE CHIP_UBM_2 -outputlayer SR_EDGEx2;
    SELECT -interact -not SR_EDGEx2 CBDi ; // -outputlayer _EPTMPL269424
}

RULE SR.UBM:WARNING {
    CAPTION "Do not draw UBM on Chip corner stress relief pattern/Seal ring/Assembly isolation";
    AND SRCSR UBMi ; // -outputlayer _EPTMPL269425
}

RULE SR.CO_VIA:WARNING {
    CAPTION "line-co and line-viax must be continuous";
    RECT_CHK -not SR_CO -eq "CO_W_1" -by -eq "CO_W_1" -outputlayer LINE_CO;
    CONVEX_EDGE LINE_CO -angle1 -le 90 -angle2 -lt 180 -with_length -lt "20*CO_W_2" ; // -outputlayer _EPTMPL269427
    RECT_CHK -not SR_VIA1 -eq "VIA1_W_1" -by -eq "VIA1_W_1" -outputlayer LINE_VIA1;
    CONVEX_EDGE LINE_VIA1 -angle1 -le 90 -angle2 -lt 180 -with_length -lt "20*VIA1_W_2" ; // -outputlayer _EPTMPL269429
    RECT_CHK -not SR_VIA2 -eq "VIA2_W_1" -by -eq "VIA2_W_1" -outputlayer LINE_VIA2;
    CONVEX_EDGE LINE_VIA2 -angle1 -le 90 -angle2 -lt 180 -with_length -lt "20*VIA2_W_2" ; // -outputlayer _EPTMPL269431
    RECT_CHK -not SR_VIA3 -eq "VIA3_W_1" -by -eq "VIA3_W_1" -outputlayer LINE_VIA3;
    CONVEX_EDGE LINE_VIA3 -angle1 -le 90 -angle2 -lt 180 -with_length -lt "20*VIA3_W_2" ; // -outputlayer _EPTMPL269433
    RECT_CHK -not SR_VIA4 -eq "VIA4_W_1" -by -eq "VIA4_W_1" -outputlayer LINE_VIA4;
    CONVEX_EDGE LINE_VIA4 -angle1 -le 90 -angle2 -lt 180 -with_length -lt "20*VIA4_W_2" ; // -outputlayer _EPTMPL269435
    RECT_CHK -not SR_VIA5 -eq "VIA5_W_1" -by -eq "VIA5_W_1" -outputlayer LINE_VIA5;
    CONVEX_EDGE LINE_VIA5 -angle1 -le 90 -angle2 -lt 180 -with_length -lt "20*VIA5_W_2" ; // -outputlayer _EPTMPL269437
    RECT_CHK -not SR_VIA6 -eq "VIA6_W_1" -by -eq "VIA6_W_1" -outputlayer LINE_VIA6;
    CONVEX_EDGE LINE_VIA6 -angle1 -le 90 -angle2 -lt 180 -with_length -lt "20*VIA6_W_2" ; // -outputlayer _EPTMPL269439
    RECT_CHK -not SR_VIA7 -eq "VIA7_W_1" -by -eq "VIA7_W_1" -outputlayer LINE_VIA7;
    CONVEX_EDGE LINE_VIA7 -angle1 -le 90 -angle2 -lt 180 -with_length -lt "20*VIA7_W_2" ; // -outputlayer _EPTMPL269441
    RECT_CHK -not SR_VIA8 -eq "VIA8_W_1" -by -eq "VIA8_W_1" -outputlayer LINE_VIA8;
    CONVEX_EDGE LINE_VIA8 -angle1 -le 90 -angle2 -lt 180 -with_length -lt "20*VIA8_W_2" ; // -outputlayer _EPTMPL269443
}

RULE SR.R.1 {
    CAPTION "SEALRING layers is a must if either you add sealring by themselves, or metal fuse is used";
    SELECT -interact -not CHIP_WISR SEALRINGi ; // -outputlayer _EPTMPL269444
    SELECT -interact CHIP_NOSR PMDMY -outputlayer _EPTMPL269445;
    SELECT -interact -not _EPTMPL269445 SEALRINGi ; // -outputlayer _EPTMPL269446
}

RULE SR.R.3:CO {
    CAPTION "CO bar, VIA (x,y,z,r,u) bar, CB/CBD/RV bar must be continuous as a ring.";
    RECT_CHK -not SR_CO -eq "CO_W_1" -by -eq "CO_W_1" -outputlayer LINE_SR_CO;
    CONVEX_EDGE LINE_SR_CO -angle1 -le 90 -angle2 -lt 180 -with_length -lt "20*CO_W_2" ; // -outputlayer _EPTMPL269448
}

RULE SR.R.3:VIA1 {
    CAPTION "CO bar, VIA (x,y,z,r,u) bar, CB/CBD/RV bar must be continuous as a ring.";
    RECT_CHK -not SR_VIA1 -eq "VIA1_W_1" -by -eq "VIA1_W_1" -outputlayer LINE_SR_VIA1;
    CONVEX_EDGE LINE_SR_VIA1 -angle1 -le 90 -angle2 -lt 180 -with_length -lt "20*VIA1_W_2" ; // -outputlayer _EPTMPL269450
}

RULE SR.R.3:VIA2 {
    CAPTION "CO bar, VIA (x,y,z,r,u) bar, CB/CBD/RV bar must be continuous as a ring.";
    RECT_CHK -not SR_VIA2 -eq "VIA2_W_1" -by -eq "VIA2_W_1" -outputlayer LINE_SR_VIA2;
    CONVEX_EDGE LINE_SR_VIA2 -angle1 -le 90 -angle2 -lt 180 -with_length -lt "20*VIA2_W_2" ; // -outputlayer _EPTMPL269452
}

RULE SR.R.3:VIA3 {
    CAPTION "CO bar, VIA (x,y,z,r,u) bar, CB/CBD/RV bar must be continuous as a ring.";
    RECT_CHK -not SR_VIA3 -eq "VIA3_W_1" -by -eq "VIA3_W_1" -outputlayer LINE_SR_VIA3;
    CONVEX_EDGE LINE_SR_VIA3 -angle1 -le 90 -angle2 -lt 180 -with_length -lt "20*VIA3_W_2" ; // -outputlayer _EPTMPL269454
}

RULE SR.R.3:VIA4 {
    CAPTION "CO bar, VIA (x,y,z,r,u) bar, CB/CBD/RV bar must be continuous as a ring.";
    RECT_CHK -not SR_VIA4 -eq "VIA4_W_1" -by -eq "VIA4_W_1" -outputlayer LINE_SR_VIA4;
    CONVEX_EDGE LINE_SR_VIA4 -angle1 -le 90 -angle2 -lt 180 -with_length -lt "20*VIA4_W_2" ; // -outputlayer _EPTMPL269456
}

RULE SR.R.3:VIA5 {
    CAPTION "CO bar, VIA (x,y,z,r,u) bar, CB/CBD/RV bar must be continuous as a ring.";
    RECT_CHK -not SR_VIA5 -eq "VIA5_W_1" -by -eq "VIA5_W_1" -outputlayer LINE_SR_VIA5;
    CONVEX_EDGE LINE_SR_VIA5 -angle1 -le 90 -angle2 -lt 180 -with_length -lt "20*VIA5_W_2" ; // -outputlayer _EPTMPL269458
}

RULE SR.R.3:VIA6 {
    CAPTION "CO bar, VIA (x,y,z,r,u) bar, CB/CBD/RV bar must be continuous as a ring.";
    RECT_CHK -not SR_VIA6 -eq "VIA6_W_1" -by -eq "VIA6_W_1" -outputlayer LINE_SR_VIA6;
    CONVEX_EDGE LINE_SR_VIA6 -angle1 -le 90 -angle2 -lt 180 -with_length -lt "20*VIA6_W_2" ; // -outputlayer _EPTMPL269460
}

RULE SR.R.3:VIA7 {
    CAPTION "CO bar, VIA (x,y,z,r,u) bar, CB/CBD/RV bar must be continuous as a ring.";
    RECT_CHK -not SR_VIA7 -eq "VIA7_W_1" -by -eq "VIA7_W_1" -outputlayer LINE_SR_VIA7;
    CONVEX_EDGE LINE_SR_VIA7 -angle1 -le 90 -angle2 -lt 180 -with_length -lt "20*VIA7_W_2" ; // -outputlayer _EPTMPL269462
}

RULE SR.R.3:VIA8 {
    CAPTION "CO bar, VIA (x,y,z,r,u) bar, CB/CBD/RV bar must be continuous as a ring.";
    RECT_CHK -not SR_VIA8 -eq "VIA8_W_1" -by -eq "VIA8_W_1" -outputlayer LINE_SR_VIA8;
    CONVEX_EDGE LINE_SR_VIA8 -angle1 -le 90 -angle2 -lt 180 -with_length -lt "20*VIA8_W_2" ; // -outputlayer _EPTMPL269464
}

RULE SR.R.3:CB {
    CAPTION "CO bar, VIA (x,y,z,r,u) bar, CB/CBD/RV bar must be continuous as a ring.";
    SELECT -interact CB SEALRING -outputlayer _EPTMPL269465;
    RECT_CHK -not _EPTMPL269465 -outputlayer _EPTMPL269466;
    SELECT -donut -not _EPTMPL269466 ; // -outputlayer _EPTMPL269467
    SELECT -interact CB SEALRING -outputlayer _EPTMPL269468;
    CONVEX_EDGE _EPTMPL269468 -angle1 -le 90 -angle2 -lt 180 -with_length -lt "20*CB_W_7" ; // -outputlayer _EPTMPL269469
}

RULE SR.R.3:CBD {
    CAPTION "CO bar, VIA (x,y,z,r,u) bar, CB/CBD/RV bar must be continuous as a ring.";
    SELECT -interact CBD SEALRING -outputlayer _EPTMPL269470;
    RECT_CHK -not _EPTMPL269470 -outputlayer _EPTMPL269471;
    SELECT -donut -not _EPTMPL269471 ; // -outputlayer _EPTMPL269472
    SELECT -interact CBD SEALRING -outputlayer _EPTMPL269473;
    CONVEX_EDGE _EPTMPL269473 -angle1 -le 90 -angle2 -lt 180 -with_length -lt "20*CB_W_7" ; // -outputlayer _EPTMPL269474
}

RULE SR.R.3:RV {
    CAPTION "CO bar, VIA (x,y,z,r,u) bar, CB/CBD/RV bar must be continuous as a ring.";
    SELECT -interact RV SEALRING -outputlayer _EPTMPL269475;
    RECT_CHK -not _EPTMPL269475 -outputlayer _EPTMPL269476;
    SELECT -donut -not _EPTMPL269476 ; // -outputlayer _EPTMPL269477
    SELECT -interact RV SEALRING -outputlayer _EPTMPL269478;
    CONVEX_EDGE _EPTMPL269478 -angle1 -le 90 -angle2 -lt 180 -with_length -lt "20*CB_W_7" ; // -outputlayer _EPTMPL269479
}
SIZE SEALRING -by "CSR_W_1/2" -overunder -outputlayer SR_CHECK;

RULE SR.R.4:OD {
    CAPTION "Sealring structure must include Mtop~M1/VIAtop~VIA1/CO/PP/OD";
    NOT SEALRING OD ; // -outputlayer _EPTMPL269481
}

RULE SR.R.4:PP {
    CAPTION "Sealring structure must include Mtop~M1/VIAtop~VIA1/CO/PP/OD";
    NOT SEALRING PP ; // -outputlayer _EPTMPL269482
}

RULE SR.R.4:M1 {
    CAPTION "Sealring structure must include Mtop~M1/VIAtop~VIA1/CO/PP/OD";
    SELECT -interact -not SR_CHECK M1x ; // -outputlayer _EPTMPL269483
}

RULE SR.R.4:M2 {
    CAPTION "Sealring structure must include Mtop~M1/VIAtop~VIA1/CO/PP/OD";
    SELECT -interact -not SR_CHECK M2x ; // -outputlayer _EPTMPL269484
}

RULE SR.R.4:M3 {
    CAPTION "Sealring structure must include Mtop~M1/VIAtop~VIA1/CO/PP/OD";
    SELECT -interact -not SR_CHECK M3x ; // -outputlayer _EPTMPL269485
}

RULE SR.R.4:M4 {
    CAPTION "Sealring structure must include Mtop~M1/VIAtop~VIA1/CO/PP/OD";
    SELECT -interact -not SR_CHECK M4x ; // -outputlayer _EPTMPL269486
}

RULE SR.R.4:M5 {
    CAPTION "Sealring structure must include Mtop~M1/VIAtop~VIA1/CO/PP/OD";
    SELECT -interact -not SR_CHECK M5x ; // -outputlayer _EPTMPL269487
}

RULE SR.R.4:M6 {
    CAPTION "Sealring structure must include Mtop~M1/VIAtop~VIA1/CO/PP/OD";
    SELECT -interact -not SR_CHECK M6x ; // -outputlayer _EPTMPL269488
}

RULE SR.R.4:M7 {
    CAPTION "Sealring structure must include Mtop~M1/VIAtop~VIA1/CO/PP/OD";
    SELECT -interact -not SR_CHECK M7x ; // -outputlayer _EPTMPL269489
}

RULE SR.R.4:M8 {
    CAPTION "Sealring structure must include Mtop~M1/VIAtop~VIA1/CO/PP/OD";
    SELECT -interact -not SR_CHECK M8x ; // -outputlayer _EPTMPL269490
}

RULE SR.R.4:M9 {
    CAPTION "Sealring structure must include Mtop~M1/VIAtop~VIA1/CO/PP/OD";
    SELECT -interact -not SR_CHECK M9x ; // -outputlayer _EPTMPL269491
}

RULE SR.R.4:CO {
    CAPTION "Sealring structure must include Mtop~M1/VIAtop~VIA1/CO/PP/OD";
    SELECT -enclose -not SR_M1 COi ; // -outputlayer _EPTMPL269492
}

RULE SR.R.4:VIA1 {
    CAPTION "Sealring structure must include Mtop~M1/VIAtop~VIA1/CO/PP/OD";
    SELECT -enclose -not SR_M1 VIA1i ; // -outputlayer _EPTMPL269493
}

RULE SR.R.4:VIA2 {
    CAPTION "Sealring structure must include Mtop~M1/VIAtop~VIA1/CO/PP/OD";
    SELECT -enclose -not SR_M2 VIA2i ; // -outputlayer _EPTMPL269494
}

RULE SR.R.4:VIA3 {
    CAPTION "Sealring structure must include Mtop~M1/VIAtop~VIA1/CO/PP/OD";
    SELECT -enclose -not SR_M3 VIA3i ; // -outputlayer _EPTMPL269495
}

RULE SR.R.4:VIA4 {
    CAPTION "Sealring structure must include Mtop~M1/VIAtop~VIA1/CO/PP/OD";
    SELECT -enclose -not SR_M4 VIA4i ; // -outputlayer _EPTMPL269496
}

RULE SR.R.4:VIA5 {
    CAPTION "Sealring structure must include Mtop~M1/VIAtop~VIA1/CO/PP/OD";
    SELECT -enclose -not SR_M5 VIA5i ; // -outputlayer _EPTMPL269497
}

RULE SR.R.4:VIA6 {
    CAPTION "Sealring structure must include Mtop~M1/VIAtop~VIA1/CO/PP/OD";
    SELECT -enclose -not SR_M6 VIA6i ; // -outputlayer _EPTMPL269498
}

RULE SR.R.4:VIA7 {
    CAPTION "Sealring structure must include Mtop~M1/VIAtop~VIA1/CO/PP/OD";
    SELECT -enclose -not SR_M7 VIA7i ; // -outputlayer _EPTMPL269499
}

RULE SR.R.4:VIA8 {
    CAPTION "Sealring structure must include Mtop~M1/VIAtop~VIA1/CO/PP/OD";
    SELECT -enclose -not SR_M8 VIA8i ; // -outputlayer _EPTMPL269500
}

RULE SR.EN.1 {
    CAPTION "{OD INTERACT SEALRING} enclosure of metal with the outer edge of sealring >= 2 um";
    SELECT -interact OD SEALRING -outputlayer SR_OD;
    HOLES SR_OD -outputlayer SR_OD_HOLES;
    OR SR_OD SR_OD_HOLES -outputlayer SR_OD_FULL;
    ENC SR_M1 SR_OD_FULL -lt "SR_EN_1" -output region ; // -outputlayer _EPTMPL269504
    ENC SR_M2 SR_OD_FULL -lt "SR_EN_1" -output region ; // -outputlayer _EPTMPL269505
    ENC SR_M3 SR_OD_FULL -lt "SR_EN_1" -output region ; // -outputlayer _EPTMPL269506
    ENC SR_M4 SR_OD_FULL -lt "SR_EN_1" -output region ; // -outputlayer _EPTMPL269507
    ENC SR_M5 SR_OD_FULL -lt "SR_EN_1" -output region ; // -outputlayer _EPTMPL269508
    ENC SR_M6 SR_OD_FULL -lt "SR_EN_1" -output region ; // -outputlayer _EPTMPL269509
    ENC SR_M7 SR_OD_FULL -lt "SR_EN_1" -output region ; // -outputlayer _EPTMPL269510
    ENC SR_M8 SR_OD_FULL -lt "SR_EN_1" -output region ; // -outputlayer _EPTMPL269511
    ENC SR_M9 SR_OD_FULL -lt "SR_EN_1" -output region ; // -outputlayer _EPTMPL269512
    EXTENT -layer SR_OD_FULL -outputlayer _EPTMPL269513;
    XOR SR_OD_FULL _EPTMPL269513 ; // -outputlayer _EPTMPL269514
}
SELECT -enclose_rect SRODH -width 50 -length 50 -outputlayer ASSH_WLCSP;
SIZE ASSH_WLCSP -by -10 -outputlayer CHIP_EDGE_REAL_WLCSP;
SELECT -interact CHIPx ASSH_WLCSP -outputlayer _EPTMPL269517;
NOT _EPTMPL269517 ASSH_WLCSP -outputlayer SR_WLCSP;
NOT ASSH_WLCSP CHIP_EDGE_REAL_WLCSP -outputlayer ASS_WLCSP;

RULE AP.W.4 {
    CAPTION "Width of (AP AND (seal-ring or Assembly isolation) NOT OUTSIDE Assembly isolation)(DRC tolerance at 45-degree turning: 0.02 um) >= 8 um";
    OR SR_WLCSP ASS_WLCSP -outputlayer _EPTMPL269520;
    AND APi _EPTMPL269520 -outputlayer _EPTMPL269521;
    SELECT -outside -not _EPTMPL269521 ASS_WLCSP -outputlayer A0;
    ANGLE A0 -ne 45 -outputlayer A_non45;
    INTE A_non45 -lt "AP_W_4" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL269524
    ANGLE A0 -eq 45 -outputlayer A_45;
    INTE A_45 -lt "AP_W_4-WLCSP_TOL" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL269526
    SELECT -interact -not ASS_WLCSP APi ; // -outputlayer _EPTMPL269527
}

RULE AP.W.5 {
    CAPTION "Width of (AP NOT PM1) NOT OUTSIDE Assembly isolation (DRC tolerance at 45-degree turning: 0.02 um) >= 1.5 um";
    NOT APi PM1i -outputlayer _EPTMPL269528;
    SELECT -outside -not _EPTMPL269528 ASS_WLCSP -outputlayer A0;
    ANGLE A0 -ne 45 -outputlayer A_non45;
    INTE A_non45 -lt "AP_W_5" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL269531
    ANGLE A0 -eq 45 -outputlayer A_45;
    INTE A_45 -lt "AP_W_5-WLCSP_TOL" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL269533
    SELECT -interact -not ASS_WLCSP A0 ; // -outputlayer _EPTMPL269534
}

RULE AP.S.5 {
    CAPTION "Space of {{AP NOT CSRDMY} AND seal-ring} (DRC tolerance at 45-degree turning 0.02 um) = 3.6";
    NOT APi CSRDMY -outputlayer _EPTMPL269535;
    AND _EPTMPL269535 SR_WLCSP -outputlayer AP_CHECK_pre;
    SELECT -interact -not AP_CHECK_pre CSRDMY -outputlayer _EPTMPL269537;
    HOLES AP_CHECK_pre -inner -outputlayer _EPTMPL269538;
    OR _EPTMPL269537 _EPTMPL269538 -outputlayer AP_CHECK1;
    HOLES AP_CHECK_pre -outputlayer AP_CHECK2;
    NOT AP_CHECK2 AP_CHECK1 -outputlayer AP_CHECK;
    SELECT -interact CHIPx SR_WLCSP -outputlayer _EPTMPL269542;
    SELECT -interact -not _EPTMPL269542 AP_CHECK ; // -outputlayer _EPTMPL269543
    ANGLE AP_CHECK -eq 45 -outputlayer DIA_EDGE;
    ANGLE AP_CHECK -ne 45 -outputlayer ORTHO_EDGE;
    INTE ORTHO_EDGE -eq "AP_S_5" -abut -lt 90 -metric opposite -para ONLY -output region -outputlayer AP_CHECK_waive;
    INTE ORTHO_EDGE -legt "AP_S_5" "AP_S_5+WLCSP_TOL" -abut -lt 90 -metric opposite -para ONLY -output region -outputlayer _EPTMPL269547;
    NOT _EPTMPL269547 AP_CHECK_waive ; // -outputlayer _EPTMPL269548
    WITH_WIDTH AP_CHECK -gt "AP_S_5+WLCSP_TOL" ; // -outputlayer _EPTMPL269549
    INTE ORTHO_EDGE -lt "AP_S_5" -abut -lt 90 -metric opposite -para ONLY -output region ; // -outputlayer _EPTMPL269550
    INTE DIA_EDGE -lt "AP_S_5-WLCSP_TOL" -abut -lt 90 -metric opposite -para ONLY -output region ; // -outputlayer _EPTMPL269551
}

RULE AP.W.6 {
    CAPTION "Width of (AP interact Assembly isolation AND PM2) (DRC tolerance at 45-degree turning: 0.02 um) == 1.5 um";
    SELECT -interact APi ASS_WLCSP -outputlayer _EPTMPL269552;
    AND _EPTMPL269552 PM2i -outputlayer A;
    ANGLE A -eq 45 -outputlayer DIA_EDGE;
    ANGLE A -ne 45 -outputlayer ORTHO_EDGE;
    INTE ORTHO_EDGE -eq "AP_W_6" -abut -lt 90 -metric opposite -para ONLY -output region -outputlayer A_waive;
    INTE ORTHO_EDGE -legt "AP_W_6" "AP_W_6 +WLCSP_TOL" -abut -lt 90 -metric opposite -para ONLY -output region -outputlayer _EPTMPL269557;
    NOT _EPTMPL269557 A_waive ; // -outputlayer _EPTMPL269558
    WITH_WIDTH A -gt "AP_W_6+WLCSP_TOL" ; // -outputlayer _EPTMPL269559
    INTE ORTHO_EDGE -lt "AP_W_6" -abut -lt 90 -metric opposite -para ONLY -output region ; // -outputlayer _EPTMPL269560
    INTE DIA_EDGE -lt "AP_W_6-WLCSP_TOL" -abut -lt 90 -metric opposite -para ONLY -output region ; // -outputlayer _EPTMPL269561
}

RULE PM.W.5 {
    CAPTION "Width of (((seal-ring OR Assembly isolation) INTERACT PM1) NOT PM1) (DRC tolerance at 45-degree turning: 0.02 um) == 5.9 um";
    OR ASS_WLCSP SR_WLCSP -outputlayer _EPTMPL269562;
    SELECT -interact _EPTMPL269562 PM1i -outputlayer _EPTMPL269563;
    NOT _EPTMPL269563 PM1i -outputlayer A;
    ANGLE A -eq 45 -outputlayer DIA_EDGE;
    ANGLE A -ne 45 -outputlayer ORTHO_EDGE;
    INTE ORTHO_EDGE -eq "PM_W_5" -abut -lt 90 -metric opposite -para ONLY -output region -outputlayer A_waive;
    INTE ORTHO_EDGE -legt "PM_W_5" "PM_W_5+WLCSP_TOL" -abut -lt 90 -metric opposite -para ONLY -output region -outputlayer _EPTMPL269568;
    NOT _EPTMPL269568 A_waive ; // -outputlayer _EPTMPL269569
    WITH_WIDTH A -gt "PM_W_5+WLCSP_TOL" ; // -outputlayer _EPTMPL269570
    INTE ORTHO_EDGE -lt "PM_W_5" -abut -lt 90 -metric opposite -para ONLY -output region ; // -outputlayer _EPTMPL269571
    INTE DIA_EDGE -lt "PM_W_5-WLCSP_TOL" -abut -lt 90 -metric opposite -para ONLY -output region ; // -outputlayer _EPTMPL269572
}

RULE PM.W.6 {
    CAPTION "Width of (((seal-ring OR Assembly isolation) INTERACT PM2) NOT PM2) (DRC tolerance at 45-degree turning: 0.02 um) == 10.9 um";
    OR SR_WLCSP ASS_WLCSP -outputlayer _EPTMPL269573;
    SELECT -interact _EPTMPL269573 PM2i -outputlayer _EPTMPL269574;
    NOT _EPTMPL269574 PM2i -outputlayer A;
    ANGLE A -eq 45 -outputlayer DIA_EDGE;
    ANGLE A -ne 45 -outputlayer ORTHO_EDGE;
    INTE ORTHO_EDGE -eq "PM_W_6" -abut -lt 90 -metric opposite -para ONLY -output region -outputlayer A_waive;
    INTE ORTHO_EDGE -legt "PM_W_6" "PM_W_6+WLCSP_TOL" -abut -lt 90 -metric opposite -para ONLY -output region -outputlayer _EPTMPL269579;
    NOT _EPTMPL269579 A_waive ; // -outputlayer _EPTMPL269580
    WITH_WIDTH A -gt "PM_W_6+WLCSP_TOL" ; // -outputlayer _EPTMPL269581
    INTE ORTHO_EDGE -lt "PM_W_6" -abut -lt 90 -metric opposite -para ONLY -output region ; // -outputlayer _EPTMPL269582
    INTE DIA_EDGE -lt "PM_W_6-WLCSP_TOL" -abut -lt 90 -metric opposite -para ONLY -output region ; // -outputlayer _EPTMPL269583
}

RULE CB.W.7:CB {
    CAPTION "Width of CB opening interact seal-ring (DRC tolerance at 45-degree turning: 0.02 um) == 2 um";
    SELECT -interact CBi SR_WLCSP -outputlayer A;
    ANGLE A -ne 45 -outputlayer X1;
    ANGLE A -eq 45 -outputlayer X2;
    INTE X1 -ltgt "CB_W_7" "CB_W_7*2" -abut -lt 90 -metric opposite -para ONLY -output region ; // -outputlayer _EPTMPL269587
    INTE X2 -ltgt "CB_W_7+0.02" "CB_W_7*2" -abut -lt 90 -metric opposite -para ONLY -output region ; // -outputlayer _EPTMPL269588
    WITH_WIDTH A -ge "CB_W_7*2" -outputlayer _EPTMPL269589;
    SELECT -enclose_rect _EPTMPL269589 -width 10 -length GRID ; // -outputlayer _EPTMPL269590
    INTE X1 -lt "CB_W_7" -abut -lt 90 -output region ; // -outputlayer _EPTMPL269591
    INTE X2 -lt "CB_W_7-0.02" -abut -lt 90 -output region ; // -outputlayer _EPTMPL269592
}

RULE CB.W.7:CBD {
    CAPTION "Width of CBD opening interact seal-ring (DRC tolerance at 45-degree turning: 0.02 um) == 2 um";
    SELECT -interact CBDi SR_WLCSP -outputlayer A;
    ANGLE A -ne 45 -outputlayer X1;
    ANGLE A -eq 45 -outputlayer X2;
    INTE X1 -ltgt "CB_W_7" "CB_W_7*2" -abut -lt 90 -metric opposite -para ONLY -output region ; // -outputlayer _EPTMPL269596
    INTE X2 -ltgt "CB_W_7+0.02" "CB_W_7*2" -abut -lt 90 -metric opposite -para ONLY -output region ; // -outputlayer _EPTMPL269597
    WITH_WIDTH A -ge "CB_W_7*2" -outputlayer _EPTMPL269598;
    SELECT -enclose_rect _EPTMPL269598 -width 10 -length GRID ; // -outputlayer _EPTMPL269599
    INTE X1 -lt "CB_W_7" -abut -lt 90 -output region ; // -outputlayer _EPTMPL269600
    INTE X2 -lt "CB_W_7-0.02" -abut -lt 90 -output region ; // -outputlayer _EPTMPL269601
}

RULE CB.W.7:RV {
    CAPTION "Width of RV opening interact seal-ring (DRC tolerance at 45-degree turning: 0.02 um) == 2 um";
    SELECT -interact RVi SR_WLCSP -outputlayer A;
    ANGLE A -ne 45 -outputlayer X1;
    ANGLE A -eq 45 -outputlayer X2;
    INTE X1 -ltgt "CB_W_7" "CB_W_7*2" -abut -lt 90 -metric opposite -para ONLY -output region ; // -outputlayer _EPTMPL269605
    INTE X2 -ltgt "CB_W_7+0.02" "CB_W_7*2" -abut -lt 90 -metric opposite -para ONLY -output region ; // -outputlayer _EPTMPL269606
    WITH_WIDTH A -ge "CB_W_7*2" -outputlayer _EPTMPL269607;
    SELECT -enclose_rect _EPTMPL269607 -width 10 -length GRID ; // -outputlayer _EPTMPL269608
    INTE X1 -lt "CB_W_7" -abut -lt 90 -output region ; // -outputlayer _EPTMPL269609
    INTE X2 -lt "CB_W_7-0.02" -abut -lt 90 -output region ; // -outputlayer _EPTMPL269610
}

RULE PM.R.1 {
    CAPTION "More than one PM1 INTERACT {seal-ring OR Assembly isolation} is not allowed V";
    OR SR_WLCSP ASS_WLCSP -outputlayer _EPTMPL269611;
    SELECT -interact PM1i _EPTMPL269611 -outputlayer A;
    SELECT -interact CHIPx A -gt 1 ; // -outputlayer _EPTMPL269613
}

RULE PM.R.2 {
    CAPTION "PM1/PM2 [INTERACT {seal-ring OR Assembly isolation}] must fully abut die edge for WLCSP process.";
    OR SR_WLCSP ASS_WLCSP -outputlayer _EPTMPL269614;
    SELECT -interact PM1i _EPTMPL269614 -outputlayer PM1_CHECK;
    HOLES PM1_CHECK -outputlayer A;
    OR PM1_CHECK A -outputlayer OUT_PM1_EDGE;
    SELECT -interact CHIPx PM1_CHECK -outputlayer C;
    XOR OUT_PM1_EDGE C ; // -outputlayer _EPTMPL269619
    OR SR_WLCSP ASS_WLCSP -outputlayer _EPTMPL269620;
    SELECT -interact PM2i _EPTMPL269620 -outputlayer PM2_CHECK;
    HOLES PM2_CHECK -outputlayer B;
    OR PM2_CHECK B -outputlayer OUT_PM2_EDGE;
    SELECT -interact CHIPx PM2_CHECK -outputlayer D;
    XOR OUT_PM2_EDGE D ; // -outputlayer _EPTMPL269625
}

RULE PM.R.3 {
    CAPTION "More than one PM2 INTERACT {seal-ring OR Assembly isolation} is not allowed V";
    OR SR_WLCSP ASS_WLCSP -outputlayer _EPTMPL269626;
    SELECT -interact PM2i _EPTMPL269626 -outputlayer A;
    SELECT -interact CHIPx A -gt 1 ; // -outputlayer _EPTMPL269628
}

RULE PM.R.8 {
    CAPTION "seal-ring NOT INTERACT PM1/PM2 is not allowed for WLCSP process.The rule is applied while PM1/PM2 exists in a chip.";
    SELECT -interact CHIPx PM1i -outputlayer A;
    SELECT -interact CHIPx PM2i -outputlayer B;
    SELECT -interact SR_WLCSP A -outputlayer _EPTMPL269631;
    SELECT -interact -not _EPTMPL269631 PM1i ; // -outputlayer _EPTMPL269632
    SELECT -interact SR_WLCSP B -outputlayer _EPTMPL269633;
    SELECT -interact -not _EPTMPL269633 PM2i ; // -outputlayer _EPTMPL269634
}

RULE AP.R.1 {
    CAPTION "Die edge must fully abut AP [INSIDE seal-ring] ((except {{LMARK SIZING 2 um} AND Full_Chip})) .";
    SELECT -inside APi SR_WLCSP -outputlayer A;
    HOLES A -outputlayer AH;
    OR A AH -outputlayer AA;
    XOR CHIPx AA -outputlayer _EPTMPL269638;
    SIZE LMARK -by 2 -outputlayer _EPTMPL269639;
    AND _EPTMPL269639 CHIPx -outputlayer _EPTMPL269640;
    NOT _EPTMPL269638 _EPTMPL269640 ; // -outputlayer _EPTMPL269641
}

RULE AP.EN.3:CB {
    CAPTION "AP enclosure of CB/CBD/RV  in seal-ring (DRC tolerance at 45-degree turning: 0.02 um) == 1 um";
    AND APi SR_WLCSP -outputlayer A0;
    AND CBi SR_WLCSP -outputlayer B0;
    EXTE B0 -lt "AP_EN_3_W" -abut -eq 45 -output region -outputlayer _EPTMPL269644;
    HOLES CBi -inner -outputlayer _EPTMPL269645;
    SELECT -interact _EPTMPL269645 CSRDMY -outputlayer _EPTMPL269646;
    SELECT -inside _EPTMPL269644 _EPTMPL269646 -outputlayer INTERNAL_CORNER_WAIVE_pre;
    SIZE INTERNAL_CORNER_WAIVE_pre -by "GRID" -outputlayer INTERNAL_CORNER_WAIVE;
    EXTE B0 -lt "0.5*AP_EN_3" -abut -ltgt 134.9 135.1 -notch only -output region -outputlayer AP_CORNER_WAIVE_pre;
    SIZE AP_CORNER_WAIVE_pre -by "GRID" -outputlayer AP_CORNER_WAIVE;
    OR INTERNAL_CORNER_WAIVE AP_CORNER_WAIVE -outputlayer WAIVE_MERGE;
    EDGE_SELECT -coincident_only -not B0 A0 -outputlayer PAD_IN_SR_CHK;
    ENC PAD_IN_SR_CHK APi -eq "AP_EN_3" -output negative1 -outputlayer _EPTMPL269653;
    ANGLE _EPTMPL269653 -ne 45 -outputlayer _EPTMPL269654;
    EDGE_BOOLEAN -inside -not _EPTMPL269654 WAIVE_MERGE ; // -outputlayer _EPTMPL269655
    ENC PAD_IN_SR_CHK APi -lt "AP_EN_3-WLCSP_TOL" -abut -lt 90 -metric opposite -para -output positive1 ; // -outputlayer _EPTMPL269656
    ENC PAD_IN_SR_CHK APi -ltgt "AP_EN_3+WLCSP_TOL" "AP_EN_3+42" -abut -lt 90 -metric opposite -para -output positive1 -outputlayer _EPTMPL269657;
    EDGE_BOOLEAN -inside -not _EPTMPL269657 WAIVE_MERGE ; // -outputlayer _EPTMPL269658
}

RULE AP.EN.3:CBD {
    CAPTION "AP enclosure of CB/CBD/RV  in seal-ring (DRC tolerance at 45-degree turning: 0.02 um) == 1 um";
    AND APi SR_WLCSP -outputlayer A0;
    AND CBDi SR_WLCSP -outputlayer B0;
    EXTE B0 -lt "AP_EN_3_W" -abut -eq 45 -output region -outputlayer _EPTMPL269661;
    HOLES CBDi -inner -outputlayer _EPTMPL269662;
    SELECT -interact _EPTMPL269662 CSRDMY -outputlayer _EPTMPL269663;
    SELECT -inside _EPTMPL269661 _EPTMPL269663 -outputlayer INTERNAL_CORNER_WAIVE_pre;
    SIZE INTERNAL_CORNER_WAIVE_pre -by "GRID" -outputlayer INTERNAL_CORNER_WAIVE;
    EXTE B0 -lt "0.5*AP_EN_3" -abut -ltgt 134.9 135.1 -notch only -output region -outputlayer AP_CORNER_WAIVE_pre;
    SIZE AP_CORNER_WAIVE_pre -by "GRID" -outputlayer AP_CORNER_WAIVE;
    OR INTERNAL_CORNER_WAIVE AP_CORNER_WAIVE -outputlayer WAIVE_MERGE;
    EDGE_SELECT -coincident_only -not B0 A0 -outputlayer PAD_IN_SR_CHK;
    ENC PAD_IN_SR_CHK APi -eq "AP_EN_3" -output negative1 -outputlayer _EPTMPL269670;
    ANGLE _EPTMPL269670 -ne 45 -outputlayer _EPTMPL269671;
    EDGE_BOOLEAN -inside -not _EPTMPL269671 WAIVE_MERGE ; // -outputlayer _EPTMPL269672
    ENC PAD_IN_SR_CHK APi -lt "AP_EN_3-WLCSP_TOL" -abut -lt 90 -metric opposite -para -output positive1 ; // -outputlayer _EPTMPL269673
    ENC PAD_IN_SR_CHK APi -ltgt "AP_EN_3+WLCSP_TOL" "AP_EN_3+42" -abut -lt 90 -metric opposite -para -output positive1 -outputlayer _EPTMPL269674;
    EDGE_BOOLEAN -inside -not _EPTMPL269674 WAIVE_MERGE ; // -outputlayer _EPTMPL269675
}

RULE AP.EN.3:RV {
    CAPTION "AP enclosure of CB/CBD/RV  in seal-ring (DRC tolerance at 45-degree turning: 0.02 um) == 1 um";
    AND APi SR_WLCSP -outputlayer A0;
    AND RVi SR_WLCSP -outputlayer B0;
    EXTE B0 -lt "AP_EN_3_W" -abut -eq 45 -output region -outputlayer _EPTMPL269678;
    HOLES RVi -inner -outputlayer _EPTMPL269679;
    SELECT -interact _EPTMPL269679 CSRDMY -outputlayer _EPTMPL269680;
    SELECT -inside _EPTMPL269678 _EPTMPL269680 -outputlayer INTERNAL_CORNER_WAIVE_pre;
    SIZE INTERNAL_CORNER_WAIVE_pre -by "GRID" -outputlayer INTERNAL_CORNER_WAIVE;
    EXTE B0 -lt "0.5*AP_EN_3" -abut -ltgt 134.9 135.1 -notch only -output region -outputlayer AP_CORNER_WAIVE_pre;
    SIZE AP_CORNER_WAIVE_pre -by "GRID" -outputlayer AP_CORNER_WAIVE;
    OR INTERNAL_CORNER_WAIVE AP_CORNER_WAIVE -outputlayer WAIVE_MERGE;
    EDGE_SELECT -coincident_only -not B0 A0 -outputlayer PAD_IN_SR_CHK;
    ENC PAD_IN_SR_CHK APi -eq "AP_EN_3" -output negative1 -outputlayer _EPTMPL269687;
    ANGLE _EPTMPL269687 -ne 45 -outputlayer _EPTMPL269688;
    EDGE_BOOLEAN -inside -not _EPTMPL269688 WAIVE_MERGE ; // -outputlayer _EPTMPL269689
    ENC PAD_IN_SR_CHK APi -lt "AP_EN_3-WLCSP_TOL" -abut -lt 90 -metric opposite -para -output positive1 ; // -outputlayer _EPTMPL269690
    ENC PAD_IN_SR_CHK APi -ltgt "AP_EN_3+WLCSP_TOL" "AP_EN_3+42" -abut -lt 90 -metric opposite -para -output positive1 -outputlayer _EPTMPL269691;
    EDGE_BOOLEAN -inside -not _EPTMPL269691 WAIVE_MERGE ; // -outputlayer _EPTMPL269692
}

RULE CDU.R.1 {
    CAPTION "CDUDMY must be inside the assembly isolation beside seal ring.";
    SELECT -inside -not CDUDMY ISOR ; // -outputlayer _EPTMPL269693
    SELECT -interact -not ISOR CDUDMY ; // -outputlayer _EPTMPL269694
}

RULE CDU.R.2 {
    CAPTION "OD/POLY/CO/M1/NP must be inside layer CDUDMY.";
    SELECT -enclose -not CDUDMY ODi ; // -outputlayer _EPTMPL269695
    SELECT -enclose -not CDUDMY POi ; // -outputlayer _EPTMPL269696
    SELECT -enclose -not CDUDMY COi ; // -outputlayer _EPTMPL269697
    SELECT -enclose -not CDUDMY M1i ; // -outputlayer _EPTMPL269698
    SELECT -enclose -not CDUDMY NPi ; // -outputlayer _EPTMPL269699
}

RULE CDU:WARNING1 {
    CAPTION "CDU width == 5.6 um";
    INTE CDUDMY -lt 5.6 -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269700
    SIZE CDUDMY -by 2.8 -underover ; // -outputlayer _EPTMPL269701
}

RULE CDU:WARNING2 {
    CAPTION "The space from the CDU long edge to the sealring inner edge is 2.2 um";
    ENC CDUDMY ISOR -lt 2.2 -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269702
}

RULE DMx.R.5 {
    CAPTION "{DM1 OR DM1_O} overlap of CO is not allowed.";
    OR DUM1 DM1_O -outputlayer _EPTMPL269703;
    AND COi _EPTMPL269703 ; // -outputlayer _EPTMPL269704
}

RULE DM1.W.1 {
    CAPTION "Width >= 0.3 um";
    INTE DUM1 -lt "DM1_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269705
}

RULE DM1.W.2 {
    CAPTION "Width (maximum) (checked by sizing down 1.5 um) <= 3 um";
    SIZE DUM1 -by "DM1_W_2/2" -underover ; // -outputlayer _EPTMPL269706
}

RULE DM1.S.1 {
    CAPTION "Space >= 0.3 um";
    EXTE DUM1 -lt "DM1_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269707
}

RULE DM1.S.2 {
    CAPTION "Space to M1 >= 0.3 um";
    EXTE M1i DUM1 -lt "DM1_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269708
    AND M1i DUM1 ; // -outputlayer _EPTMPL269709
}

RULE DM1.S.3 {
    CAPTION "Space to Mx (Overlap is not allowed) [Mx width > 4.5 um and the parallel metal run length > 4.5 um] >=  1.5";
    EXTE M1Wide_4.5 DUM1 -lt "DM1_S_3" -metric opposite -output region -measure all -outputlayer X;
    SELECT -enclose_rect X -width DM1_S_2 -length DM1_S_3_L+0.005 ; // -outputlayer _EPTMPL269711
}

RULE DM1.S.3.1 {
    CAPTION "Space to Mx (Overlap is not allowed) [Mx width > 1.5 um and the parallel metal run length > 1.5 um] >= 0.5";
    EXTE M1Wide_1.5 DUM1 -lt "DM1_S_3_1" -metric opposite -output region -measure all -outputlayer X;
    SELECT -enclose_rect X -width DM1_S_2 -length DM1_S_3_1_L+0.005 ; // -outputlayer _EPTMPL269713
}

RULE DM1.S.4 {
    CAPTION "Space to FW (Overlap is not allowed) >= 5 um";
    EXTE FWi DUM1 -lt "DM1_S_4" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269714
    AND FWi DUM1 ; // -outputlayer _EPTMPL269715
}

RULE DM1.S.5 {
    CAPTION "Space to LMARK (Overlap is not allowed) >= 5 um";
    EXTE LMARK_SOLID DUM1 -lt "DM1_S_5" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269716
    AND DUM1 LMARK_SOLID ; // -outputlayer _EPTMPL269717
}

RULE DM1.S.5.1 {
    CAPTION "Space to L-slot (Overlap is not allowed) >= 5 um";
    EXTE LSLOT DUM1 -lt "DM1_S_5_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269718
    AND DUM1 LSLOT ; // -outputlayer _EPTMPL269719
}

RULE DM1.S.7 {
    CAPTION "Space to LOGO (Overlap is not allowed) >= 0.0 um";
    AND LOGO DUM1 ; // -outputlayer _EPTMPL269720
}

RULE DM1.S.8 {
    CAPTION "Space to INDDMY (Overlap is not allowed) >= 2.5 um";
    EXTE INDDMY DUM1 -lt "DM1_S_8" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269721
    AND INDDMY DUM1 ; // -outputlayer _EPTMPL269722
}

RULE DM1.S.10 {
    CAPTION "Space to 45-degree bent Mx >= 0.4 um2";
    EDGE_EXPAND M1_EDGE_45 -outside_by "DM1_S_10" -outputlayer X;
    AND X DUM1 ; // -outputlayer _EPTMPL269724
}

RULE DM1.EN.1 {
    CAPTION "Enclosure by chip edge >= 2.5 um";
    SIZE CHIP_CHAMFERED -by -DM1_EN_1 -outputlayer _EPTMPL269725;
    NOT DUM1 _EPTMPL269725 ; // -outputlayer _EPTMPL269726
}

RULE DM1.A.1 {
    CAPTION "Min. area >= 0.24 um2";
    AREA DUM1 -lt "DM1_A_1" ; // -outputlayer _EPTMPL269727
}

RULE DM1.A.2 {
    CAPTION "Max. area <= 80 um2";
    AREA DUM1 -gt "DM1_A_2" ; // -outputlayer _EPTMPL269728
}

RULE DM1.R.1 {
    CAPTION "DM1 is a must. The DM1 CAD layer (TSMC default, 31,1 for DM1) must be different from the M1 CAD layer.";
    SELECT -interact -not CHIPx DUM1 ; // -outputlayer _EPTMPL269729
}

RULE DM1.R.3 {
    CAPTION "0 or 45 degree solid shapes are allowed (Only rectangle and solid dummy is allowed)";
    RECT_CHK -not DUM1 ; // -outputlayer _EPTMPL269730
    HOLES DUM1 ; // -outputlayer _EPTMPL269731
}

RULE DM1.R.4 {
    CAPTION "DMx overlap of VIAx/VIAx-1 is not allowed.";
    AND DUM1 VIA1i ; // -outputlayer _EPTMPL269732
}

RULE DM1_O.R.4 {
    CAPTION "DMx_O overlap of VIAx/VIAx-1 is not allowed V";
    AND DM1_O VIA1i ; // -outputlayer _EPTMPL269733
}

RULE DM1_O.R.1 {
    CAPTION "DM1_O interact M1 is not allowed";
    SELECT -interact DM1_O M1_real ; // -outputlayer _EPTMPL269734
}

RULE DM2.W.1 {
    CAPTION "Width >= 0.3 um";
    INTE DUM2 -lt "DM2_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269735
}

RULE DM2.W.2 {
    CAPTION "Width (maximum) (checked by sizing down 1.5 um) <= 3 um";
    SIZE DUM2 -by "DM2_W_2/2" -underover ; // -outputlayer _EPTMPL269736
}

RULE DM2.S.1 {
    CAPTION "Space >= 0.3 um";
    EXTE DUM2 -lt "DM2_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269737
}

RULE DM2.S.2 {
    CAPTION "Space to M2 >= 0.3 um";
    EXTE M2i DUM2 -lt "DM2_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269738
    AND M2i DUM2 ; // -outputlayer _EPTMPL269739
}

RULE DM2.S.3 {
    CAPTION "Space to Mx (Overlap is not allowed) [Mx width > 4.5 um and the parallel metal run length > 4.5 um] >=  1.5";
    EXTE M2Wide_4.5 DUM2 -lt "DM2_S_3" -metric opposite -output region -measure all -outputlayer X;
    SELECT -enclose_rect X -width DM2_S_2 -length DM2_S_3_L+0.005 ; // -outputlayer _EPTMPL269741
}

RULE DM2.S.3.1 {
    CAPTION "Space to Mx (Overlap is not allowed) [Mx width > 1.5 um and the parallel metal run length > 1.5 um] >= 0.5";
    EXTE M2Wide_1.5 DUM2 -lt "DM2_S_3_1" -metric opposite -output region -measure all -outputlayer X;
    SELECT -enclose_rect X -width DM2_S_2 -length DM2_S_3_1_L+0.005 ; // -outputlayer _EPTMPL269743
}

RULE DM2.S.4 {
    CAPTION "Space to FW (Overlap is not allowed) >= 5 um";
    EXTE FWi DUM2 -lt "DM2_S_4" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269744
    AND FWi DUM2 ; // -outputlayer _EPTMPL269745
}

RULE DM2.S.5 {
    CAPTION "Space to LMARK (Overlap is not allowed) >= 5 um";
    EXTE LMARK_SOLID DUM2 -lt "DM2_S_5" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269746
    AND DUM2 LMARK_SOLID ; // -outputlayer _EPTMPL269747
}

RULE DM2.S.5.1 {
    CAPTION "Space to L-slot (Overlap is not allowed) >= 5 um";
    EXTE LSLOT DUM2 -lt "DM2_S_5_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269748
    AND DUM2 LSLOT ; // -outputlayer _EPTMPL269749
}

RULE DM2.S.7 {
    CAPTION "Space to LOGO (Overlap is not allowed) >= 0.0 um";
    AND LOGO DUM2 ; // -outputlayer _EPTMPL269750
}

RULE DM2.S.8 {
    CAPTION "Space to INDDMY (Overlap is not allowed) >= 2.5 um";
    EXTE INDDMY DUM2 -lt "DM2_S_8" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269751
    AND INDDMY DUM2 ; // -outputlayer _EPTMPL269752
}

RULE DM2.S.10 {
    CAPTION "Space to 45-degree bent Mx >= 0.4 um2";
    EDGE_EXPAND M2_EDGE_45 -outside_by "DM2_S_10" -outputlayer X;
    AND X DUM2 ; // -outputlayer _EPTMPL269754
}

RULE DM2.EN.1 {
    CAPTION "Enclosure by chip edge >= 2.5 um";
    SIZE CHIP_CHAMFERED -by -DM2_EN_1 -outputlayer _EPTMPL269755;
    NOT DUM2 _EPTMPL269755 ; // -outputlayer _EPTMPL269756
}

RULE DM2.A.1 {
    CAPTION "Min. area >= 0.24 um2";
    AREA DUM2 -lt "DM2_A_1" ; // -outputlayer _EPTMPL269757
}

RULE DM2.A.2 {
    CAPTION "Max. area <= 80 um2";
    AREA DUM2 -gt "DM2_A_2" ; // -outputlayer _EPTMPL269758
}

RULE DM2.R.1 {
    CAPTION "DM2 is a must. The DM2 CAD layer (TSMC default, 32,1 for DM2) must be different from the M2 CAD layer.";
    SELECT -interact -not CHIPx DUM2 ; // -outputlayer _EPTMPL269759
}

RULE DM2.R.3 {
    CAPTION "0 or 45 degree solid shapes are allowed (Only rectangle and solid dummy is allowed)";
    RECT_CHK -not DUM2 ; // -outputlayer _EPTMPL269760
    HOLES DUM2 ; // -outputlayer _EPTMPL269761
}

RULE DM2.R.4 {
    CAPTION "DMx overlap of VIAx/VIAx-1 is not allowed.";
    AND DUM2 VIA2i ; // -outputlayer _EPTMPL269762
    AND DUM2 VIA1i ; // -outputlayer _EPTMPL269763
}

RULE DM2_O.R.4 {
    CAPTION "DMx_O overlap of VIAx/VIAx-1 is not allowed V";
    AND DM2_O VIA2i ; // -outputlayer _EPTMPL269764
    AND DM2_O VIA1i ; // -outputlayer _EPTMPL269765
}

RULE DM2_O.R.1 {
    CAPTION "DM2_O interact M2 is not allowed";
    SELECT -interact DM2_O M2_real ; // -outputlayer _EPTMPL269766
}

RULE DM3.W.1 {
    CAPTION "Width >= 0.3 um";
    INTE DUM3 -lt "DM3_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269767
}

RULE DM3.W.2 {
    CAPTION "Width (maximum) (checked by sizing down 1.5 um) <= 3 um";
    SIZE DUM3 -by "DM3_W_2/2" -underover ; // -outputlayer _EPTMPL269768
}

RULE DM3.S.1 {
    CAPTION "Space >= 0.3 um";
    EXTE DUM3 -lt "DM3_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269769
}

RULE DM3.S.2 {
    CAPTION "Space to M3 >= 0.3 um";
    EXTE M3i DUM3 -lt "DM3_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269770
    AND M3i DUM3 ; // -outputlayer _EPTMPL269771
}

RULE DM3.S.3 {
    CAPTION "Space to Mx (Overlap is not allowed) [Mx width > 4.5 um and the parallel metal run length > 4.5 um] >=  1.5";
    EXTE M3Wide_4.5 DUM3 -lt "DM3_S_3" -metric opposite -output region -measure all -outputlayer X;
    SELECT -enclose_rect X -width DM3_S_2 -length DM3_S_3_L+0.005 ; // -outputlayer _EPTMPL269773
}

RULE DM3.S.3.1 {
    CAPTION "Space to Mx (Overlap is not allowed) [Mx width > 1.5 um and the parallel metal run length > 1.5 um] >= 0.5";
    EXTE M3Wide_1.5 DUM3 -lt "DM3_S_3_1" -metric opposite -output region -measure all -outputlayer X;
    SELECT -enclose_rect X -width DM3_S_2 -length DM3_S_3_1_L+0.005 ; // -outputlayer _EPTMPL269775
}

RULE DM3.S.4 {
    CAPTION "Space to FW (Overlap is not allowed) >= 5 um";
    EXTE FWi DUM3 -lt "DM3_S_4" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269776
    AND FWi DUM3 ; // -outputlayer _EPTMPL269777
}

RULE DM3.S.5 {
    CAPTION "Space to LMARK (Overlap is not allowed) >= 5 um";
    EXTE LMARK_SOLID DUM3 -lt "DM3_S_5" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269778
    AND DUM3 LMARK_SOLID ; // -outputlayer _EPTMPL269779
}

RULE DM3.S.5.1 {
    CAPTION "Space to L-slot (Overlap is not allowed) >= 5 um";
    EXTE LSLOT DUM3 -lt "DM3_S_5_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269780
    AND DUM3 LSLOT ; // -outputlayer _EPTMPL269781
}

RULE DM3.S.7 {
    CAPTION "Space to LOGO (Overlap is not allowed) >= 0.0 um";
    AND LOGO DUM3 ; // -outputlayer _EPTMPL269782
}

RULE DM3.S.8 {
    CAPTION "Space to INDDMY (Overlap is not allowed) >= 2.5 um";
    EXTE INDDMY DUM3 -lt "DM3_S_8" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269783
    AND INDDMY DUM3 ; // -outputlayer _EPTMPL269784
}

RULE DM3.S.10 {
    CAPTION "Space to 45-degree bent Mx >= 0.4 um2";
    EDGE_EXPAND M3_EDGE_45 -outside_by "DM3_S_10" -outputlayer X;
    AND X DUM3 ; // -outputlayer _EPTMPL269786
}

RULE DM3.EN.1 {
    CAPTION "Enclosure by chip edge >= 2.5 um";
    SIZE CHIP_CHAMFERED -by -DM3_EN_1 -outputlayer _EPTMPL269787;
    NOT DUM3 _EPTMPL269787 ; // -outputlayer _EPTMPL269788
}

RULE DM3.A.1 {
    CAPTION "Min. area >= 0.24 um2";
    AREA DUM3 -lt "DM3_A_1" ; // -outputlayer _EPTMPL269789
}

RULE DM3.A.2 {
    CAPTION "Max. area <= 80 um2";
    AREA DUM3 -gt "DM3_A_2" ; // -outputlayer _EPTMPL269790
}

RULE DM3.R.1 {
    CAPTION "DM3 is a must. The DM3 CAD layer (TSMC default, 33,1 for DM3) must be different from the M3 CAD layer.";
    SELECT -interact -not CHIPx DUM3 ; // -outputlayer _EPTMPL269791
}

RULE DM3.R.3 {
    CAPTION "0 or 45 degree solid shapes are allowed (Only rectangle and solid dummy is allowed)";
    RECT_CHK -not DUM3 ; // -outputlayer _EPTMPL269792
    HOLES DUM3 ; // -outputlayer _EPTMPL269793
}

RULE DM3.R.4 {
    CAPTION "DMx overlap of VIAx/VIAx-1 is not allowed.";
    AND DUM3 VIA3i ; // -outputlayer _EPTMPL269794
    AND DUM3 VIA2i ; // -outputlayer _EPTMPL269795
}

RULE DM3_O.R.4 {
    CAPTION "DMx_O overlap of VIAx/VIAx-1 is not allowed V";
    AND DM3_O VIA3i ; // -outputlayer _EPTMPL269796
    AND DM3_O VIA2i ; // -outputlayer _EPTMPL269797
}

RULE DM3_O.R.1 {
    CAPTION "DM3_O interact M3 is not allowed";
    SELECT -interact DM3_O M3_real ; // -outputlayer _EPTMPL269798
}

RULE DM4.W.1 {
    CAPTION "Width >= 0.3 um";
    INTE DUM4 -lt "DM4_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269799
}

RULE DM4.W.2 {
    CAPTION "Width (maximum) (checked by sizing down 1.5 um) <= 3 um";
    SIZE DUM4 -by "DM4_W_2/2" -underover ; // -outputlayer _EPTMPL269800
}

RULE DM4.S.1 {
    CAPTION "Space >= 0.3 um";
    EXTE DUM4 -lt "DM4_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269801
}

RULE DM4.S.2 {
    CAPTION "Space to M4 >= 0.3 um";
    EXTE M4i DUM4 -lt "DM4_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269802
    AND M4i DUM4 ; // -outputlayer _EPTMPL269803
}

RULE DM4.S.3 {
    CAPTION "Space to Mx (Overlap is not allowed) [Mx width > 4.5 um and the parallel metal run length > 4.5 um] >=  1.5";
    EXTE M4Wide_4.5 DUM4 -lt "DM4_S_3" -metric opposite -output region -measure all -outputlayer X;
    SELECT -enclose_rect X -width DM4_S_2 -length DM4_S_3_L+0.005 ; // -outputlayer _EPTMPL269805
}

RULE DM4.S.3.1 {
    CAPTION "Space to Mx (Overlap is not allowed) [Mx width > 1.5 um and the parallel metal run length > 1.5 um] >= 0.5";
    EXTE M4Wide_1.5 DUM4 -lt "DM4_S_3_1" -metric opposite -output region -measure all -outputlayer X;
    SELECT -enclose_rect X -width DM4_S_2 -length DM4_S_3_1_L+0.005 ; // -outputlayer _EPTMPL269807
}

RULE DM4.S.4 {
    CAPTION "Space to FW (Overlap is not allowed) >= 5 um";
    EXTE FWi DUM4 -lt "DM4_S_4" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269808
    AND FWi DUM4 ; // -outputlayer _EPTMPL269809
}

RULE DM4.S.5 {
    CAPTION "Space to LMARK (Overlap is not allowed) >= 5 um";
    EXTE LMARK_SOLID DUM4 -lt "DM4_S_5" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269810
    AND DUM4 LMARK_SOLID ; // -outputlayer _EPTMPL269811
}

RULE DM4.S.5.1 {
    CAPTION "Space to L-slot (Overlap is not allowed) >= 5 um";
    EXTE LSLOT DUM4 -lt "DM4_S_5_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269812
    AND DUM4 LSLOT ; // -outputlayer _EPTMPL269813
}

RULE DM4.S.7 {
    CAPTION "Space to LOGO (Overlap is not allowed) >= 0.0 um";
    AND LOGO DUM4 ; // -outputlayer _EPTMPL269814
}

RULE DM4.S.8 {
    CAPTION "Space to INDDMY (Overlap is not allowed) >= 2.5 um";
    EXTE INDDMY DUM4 -lt "DM4_S_8" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269815
    AND INDDMY DUM4 ; // -outputlayer _EPTMPL269816
}

RULE DM4.S.10 {
    CAPTION "Space to 45-degree bent Mx >= 0.4 um2";
    EDGE_EXPAND M4_EDGE_45 -outside_by "DM4_S_10" -outputlayer X;
    AND X DUM4 ; // -outputlayer _EPTMPL269818
}

RULE DM4.EN.1 {
    CAPTION "Enclosure by chip edge >= 2.5 um";
    SIZE CHIP_CHAMFERED -by -DM4_EN_1 -outputlayer _EPTMPL269819;
    NOT DUM4 _EPTMPL269819 ; // -outputlayer _EPTMPL269820
}

RULE DM4.A.1 {
    CAPTION "Min. area >= 0.24 um2";
    AREA DUM4 -lt "DM4_A_1" ; // -outputlayer _EPTMPL269821
}

RULE DM4.A.2 {
    CAPTION "Max. area <= 80 um2";
    AREA DUM4 -gt "DM4_A_2" ; // -outputlayer _EPTMPL269822
}

RULE DM4.R.1 {
    CAPTION "DM4 is a must. The DM4 CAD layer (TSMC default, 34,1 for DM4) must be different from the M4 CAD layer.";
    SELECT -interact -not CHIPx DUM4 ; // -outputlayer _EPTMPL269823
}

RULE DM4.R.3 {
    CAPTION "0 or 45 degree solid shapes are allowed (Only rectangle and solid dummy is allowed)";
    RECT_CHK -not DUM4 ; // -outputlayer _EPTMPL269824
    HOLES DUM4 ; // -outputlayer _EPTMPL269825
}

RULE DM4.R.4 {
    CAPTION "DMx overlap of VIAx/VIAx-1 is not allowed.";
    AND DUM4 VIA4i ; // -outputlayer _EPTMPL269826
    AND DUM4 VIA3i ; // -outputlayer _EPTMPL269827
}

RULE DM4_O.R.4 {
    CAPTION "DMx_O overlap of VIAx/VIAx-1 is not allowed V";
    AND DM4_O VIA4i ; // -outputlayer _EPTMPL269828
    AND DM4_O VIA3i ; // -outputlayer _EPTMPL269829
}

RULE DM4_O.R.1 {
    CAPTION "DM4_O interact M4 is not allowed";
    SELECT -interact DM4_O M4_real ; // -outputlayer _EPTMPL269830
}

RULE DM5.W.1 {
    CAPTION "Width >= 0.3 um";
    INTE DUM5 -lt "DM5_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269831
}

RULE DM5.W.2 {
    CAPTION "Width (maximum) (checked by sizing down 1.5 um) <= 3 um";
    SIZE DUM5 -by "DM5_W_2/2" -underover ; // -outputlayer _EPTMPL269832
}

RULE DM5.S.1 {
    CAPTION "Space >= 0.3 um";
    EXTE DUM5 -lt "DM5_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269833
}

RULE DM5.S.2 {
    CAPTION "Space to M5 >= 0.3 um";
    EXTE M5i DUM5 -lt "DM5_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269834
    AND M5i DUM5 ; // -outputlayer _EPTMPL269835
}

RULE DM5.S.3 {
    CAPTION "Space to Mx (Overlap is not allowed) [Mx width > 4.5 um and the parallel metal run length > 4.5 um] >=  1.5";
    EXTE M5Wide_4.5 DUM5 -lt "DM5_S_3" -metric opposite -output region -measure all -outputlayer X;
    SELECT -enclose_rect X -width DM5_S_2 -length DM5_S_3_L+0.005 ; // -outputlayer _EPTMPL269837
}

RULE DM5.S.3.1 {
    CAPTION "Space to Mx (Overlap is not allowed) [Mx width > 1.5 um and the parallel metal run length > 1.5 um] >= 0.5";
    EXTE M5Wide_1.5 DUM5 -lt "DM5_S_3_1" -metric opposite -output region -measure all -outputlayer X;
    SELECT -enclose_rect X -width DM5_S_2 -length DM5_S_3_1_L+0.005 ; // -outputlayer _EPTMPL269839
}

RULE DM5.S.4 {
    CAPTION "Space to FW (Overlap is not allowed) >= 5 um";
    EXTE FWi DUM5 -lt "DM5_S_4" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269840
    AND FWi DUM5 ; // -outputlayer _EPTMPL269841
}

RULE DM5.S.5 {
    CAPTION "Space to LMARK (Overlap is not allowed) >= 5 um";
    EXTE LMARK_SOLID DUM5 -lt "DM5_S_5" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269842
    AND DUM5 LMARK_SOLID ; // -outputlayer _EPTMPL269843
}

RULE DM5.S.5.1 {
    CAPTION "Space to L-slot (Overlap is not allowed) >= 5 um";
    EXTE LSLOT DUM5 -lt "DM5_S_5_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269844
    AND DUM5 LSLOT ; // -outputlayer _EPTMPL269845
}

RULE DM5.S.7 {
    CAPTION "Space to LOGO (Overlap is not allowed) >= 0.0 um";
    AND LOGO DUM5 ; // -outputlayer _EPTMPL269846
}

RULE DM5.S.8 {
    CAPTION "Space to INDDMY (Overlap is not allowed) >= 2.5 um";
    EXTE INDDMY DUM5 -lt "DM5_S_8" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269847
    AND INDDMY DUM5 ; // -outputlayer _EPTMPL269848
}

RULE DM5.S.10 {
    CAPTION "Space to 45-degree bent Mx >= 0.4 um2";
    EDGE_EXPAND M5_EDGE_45 -outside_by "DM5_S_10" -outputlayer X;
    AND X DUM5 ; // -outputlayer _EPTMPL269850
}

RULE DM5.EN.1 {
    CAPTION "Enclosure by chip edge >= 2.5 um";
    SIZE CHIP_CHAMFERED -by -DM5_EN_1 -outputlayer _EPTMPL269851;
    NOT DUM5 _EPTMPL269851 ; // -outputlayer _EPTMPL269852
}

RULE DM5.A.1 {
    CAPTION "Min. area >= 0.24 um2";
    AREA DUM5 -lt "DM5_A_1" ; // -outputlayer _EPTMPL269853
}

RULE DM5.A.2 {
    CAPTION "Max. area <= 80 um2";
    AREA DUM5 -gt "DM5_A_2" ; // -outputlayer _EPTMPL269854
}

RULE DM5.R.1 {
    CAPTION "DM5 is a must. The DM5 CAD layer (TSMC default, 35,1 for DM5) must be different from the M5 CAD layer.";
    SELECT -interact -not CHIPx DUM5 ; // -outputlayer _EPTMPL269855
}

RULE DM5.R.3 {
    CAPTION "0 or 45 degree solid shapes are allowed (Only rectangle and solid dummy is allowed)";
    RECT_CHK -not DUM5 ; // -outputlayer _EPTMPL269856
    HOLES DUM5 ; // -outputlayer _EPTMPL269857
}

RULE DM5.R.4 {
    CAPTION "DMx overlap of VIAx/VIAx-1 is not allowed.";
    AND DUM5 VIA5i ; // -outputlayer _EPTMPL269858
    AND DUM5 VIA4i ; // -outputlayer _EPTMPL269859
}

RULE DM5_O.R.4 {
    CAPTION "DMx_O overlap of VIAx/VIAx-1 is not allowed V";
    AND DM5_O VIA5i ; // -outputlayer _EPTMPL269860
    AND DM5_O VIA4i ; // -outputlayer _EPTMPL269861
}

RULE DM5_O.R.1 {
    CAPTION "DM5_O interact M5 is not allowed";
    SELECT -interact DM5_O M5_real ; // -outputlayer _EPTMPL269862
}

RULE DM6.W.1 {
    CAPTION "Width >= 0.3 um";
    INTE DUM6 -lt "DM6_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269863
}

RULE DM6.W.2 {
    CAPTION "Width (maximum) (checked by sizing down 1.5 um) <= 3 um";
    SIZE DUM6 -by "DM6_W_2/2" -underover ; // -outputlayer _EPTMPL269864
}

RULE DM6.S.1 {
    CAPTION "Space >= 0.3 um";
    EXTE DUM6 -lt "DM6_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269865
}

RULE DM6.S.2 {
    CAPTION "Space to M6 >= 0.3 um";
    EXTE M6i DUM6 -lt "DM6_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269866
    AND M6i DUM6 ; // -outputlayer _EPTMPL269867
}

RULE DM6.S.3 {
    CAPTION "Space to Mx (Overlap is not allowed) [Mx width > 4.5 um and the parallel metal run length > 4.5 um] >=  1.5";
    EXTE M6Wide_4.5 DUM6 -lt "DM6_S_3" -metric opposite -output region -measure all -outputlayer X;
    SELECT -enclose_rect X -width DM6_S_2 -length DM6_S_3_L+0.005 ; // -outputlayer _EPTMPL269869
}

RULE DM6.S.3.1 {
    CAPTION "Space to Mx (Overlap is not allowed) [Mx width > 1.5 um and the parallel metal run length > 1.5 um] >= 0.5";
    EXTE M6Wide_1.5 DUM6 -lt "DM6_S_3_1" -metric opposite -output region -measure all -outputlayer X;
    SELECT -enclose_rect X -width DM6_S_2 -length DM6_S_3_1_L+0.005 ; // -outputlayer _EPTMPL269871
}

RULE DM6.S.4 {
    CAPTION "Space to FW (Overlap is not allowed) >= 5 um";
    EXTE FWi DUM6 -lt "DM6_S_4" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269872
    AND FWi DUM6 ; // -outputlayer _EPTMPL269873
}

RULE DM6.S.5 {
    CAPTION "Space to LMARK (Overlap is not allowed) >= 5 um";
    EXTE LMARK_SOLID DUM6 -lt "DM6_S_5" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269874
    AND DUM6 LMARK_SOLID ; // -outputlayer _EPTMPL269875
}

RULE DM6.S.5.1 {
    CAPTION "Space to L-slot (Overlap is not allowed) >= 5 um";
    EXTE LSLOT DUM6 -lt "DM6_S_5_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269876
    AND DUM6 LSLOT ; // -outputlayer _EPTMPL269877
}

RULE DM6.S.7 {
    CAPTION "Space to LOGO (Overlap is not allowed) >= 0.0 um";
    AND LOGO DUM6 ; // -outputlayer _EPTMPL269878
}

RULE DM6.S.8 {
    CAPTION "Space to INDDMY (Overlap is not allowed) >= 2.5 um";
    EXTE INDDMY DUM6 -lt "DM6_S_8" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269879
    AND INDDMY DUM6 ; // -outputlayer _EPTMPL269880
}

RULE DM6.S.10 {
    CAPTION "Space to 45-degree bent Mx >= 0.4 um2";
    EDGE_EXPAND M6_EDGE_45 -outside_by "DM6_S_10" -outputlayer X;
    AND X DUM6 ; // -outputlayer _EPTMPL269882
}

RULE DM6.EN.1 {
    CAPTION "Enclosure by chip edge >= 2.5 um";
    SIZE CHIP_CHAMFERED -by -DM6_EN_1 -outputlayer _EPTMPL269883;
    NOT DUM6 _EPTMPL269883 ; // -outputlayer _EPTMPL269884
}

RULE DM6.A.1 {
    CAPTION "Min. area >= 0.24 um2";
    AREA DUM6 -lt "DM6_A_1" ; // -outputlayer _EPTMPL269885
}

RULE DM6.A.2 {
    CAPTION "Max. area <= 80 um2";
    AREA DUM6 -gt "DM6_A_2" ; // -outputlayer _EPTMPL269886
}

RULE DM6.R.1 {
    CAPTION "DM6 is a must. The DM6 CAD layer (TSMC default, 36,1 for DM6) must be different from the M6 CAD layer.";
    SELECT -interact -not CHIPx DUM6 ; // -outputlayer _EPTMPL269887
}

RULE DM6.R.3 {
    CAPTION "0 or 45 degree solid shapes are allowed (Only rectangle and solid dummy is allowed)";
    RECT_CHK -not DUM6 ; // -outputlayer _EPTMPL269888
    HOLES DUM6 ; // -outputlayer _EPTMPL269889
}

RULE DM6.R.4 {
    CAPTION "DMx overlap of VIAx/VIAx-1 is not allowed.";
    AND DUM6 VIA6i ; // -outputlayer _EPTMPL269890
    AND DUM6 VIA5i ; // -outputlayer _EPTMPL269891
}

RULE DM6_O.R.4 {
    CAPTION "DMx_O overlap of VIAx/VIAx-1 is not allowed V";
    AND DM6_O VIA6i ; // -outputlayer _EPTMPL269892
    AND DM6_O VIA5i ; // -outputlayer _EPTMPL269893
}

RULE DM6_O.R.1 {
    CAPTION "DM6_O interact M6 is not allowed";
    SELECT -interact DM6_O M6_real ; // -outputlayer _EPTMPL269894
}

RULE DM7.W.1 {
    CAPTION "Width >= 0.3 um";
    INTE DUM7 -lt "DM7_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269895
}

RULE DM7.W.2 {
    CAPTION "Width (maximum) (checked by sizing down 1.5 um) <= 3 um";
    SIZE DUM7 -by "DM7_W_2/2" -underover ; // -outputlayer _EPTMPL269896
}

RULE DM7.S.1 {
    CAPTION "Space >= 0.3 um";
    EXTE DUM7 -lt "DM7_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269897
}

RULE DM7.S.2 {
    CAPTION "Space to M7 >= 0.3 um";
    EXTE M7i DUM7 -lt "DM7_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269898
    AND M7i DUM7 ; // -outputlayer _EPTMPL269899
}

RULE DM7.S.3 {
    CAPTION "Space to Mx (Overlap is not allowed) [Mx width > 4.5 um and the parallel metal run length > 4.5 um] >=  1.5";
    EXTE M7Wide_4.5 DUM7 -lt "DM7_S_3" -metric opposite -output region -measure all -outputlayer X;
    SELECT -enclose_rect X -width DM7_S_2 -length DM7_S_3_L+0.005 ; // -outputlayer _EPTMPL269901
}

RULE DM7.S.3.1 {
    CAPTION "Space to Mx (Overlap is not allowed) [Mx width > 1.5 um and the parallel metal run length > 1.5 um] >= 0.5";
    EXTE M7Wide_1.5 DUM7 -lt "DM7_S_3_1" -metric opposite -output region -measure all -outputlayer X;
    SELECT -enclose_rect X -width DM7_S_2 -length DM7_S_3_1_L+0.005 ; // -outputlayer _EPTMPL269903
}

RULE DM7.S.4 {
    CAPTION "Space to FW (Overlap is not allowed) >= 5 um";
    EXTE FWi DUM7 -lt "DM7_S_4" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269904
    AND FWi DUM7 ; // -outputlayer _EPTMPL269905
}

RULE DM7.S.5 {
    CAPTION "Space to LMARK (Overlap is not allowed) >= 5 um";
    EXTE LMARK_SOLID DUM7 -lt "DM7_S_5" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269906
    AND DUM7 LMARK_SOLID ; // -outputlayer _EPTMPL269907
}

RULE DM7.S.5.1 {
    CAPTION "Space to L-slot (Overlap is not allowed) >= 5 um";
    EXTE LSLOT DUM7 -lt "DM7_S_5_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269908
    AND DUM7 LSLOT ; // -outputlayer _EPTMPL269909
}

RULE DM7.S.7 {
    CAPTION "Space to LOGO (Overlap is not allowed) >= 0.0 um";
    AND LOGO DUM7 ; // -outputlayer _EPTMPL269910
}

RULE DM7.S.8 {
    CAPTION "Space to INDDMY (Overlap is not allowed) >= 2.5 um";
    EXTE INDDMY DUM7 -lt "DM7_S_8" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269911
    AND INDDMY DUM7 ; // -outputlayer _EPTMPL269912
}

RULE DM7.S.9 {
    CAPTION "Space to CBM [CBM between Mx and Mx+1] (Overlap is not allowed) >= 1.5 um";
    EXTE CBM DUM7 -lt "DM7_S_9" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269913
    AND CBM DUM7 ; // -outputlayer _EPTMPL269914
}

RULE DM7.S.10 {
    CAPTION "Space to 45-degree bent Mx >= 0.4 um2";
    EDGE_EXPAND M7_EDGE_45 -outside_by "DM7_S_10" -outputlayer X;
    AND X DUM7 ; // -outputlayer _EPTMPL269916
}

RULE DM7.EN.1 {
    CAPTION "Enclosure by chip edge >= 2.5 um";
    SIZE CHIP_CHAMFERED -by -DM7_EN_1 -outputlayer _EPTMPL269917;
    NOT DUM7 _EPTMPL269917 ; // -outputlayer _EPTMPL269918
}

RULE DM7.A.1 {
    CAPTION "Min. area >= 0.24 um2";
    AREA DUM7 -lt "DM7_A_1" ; // -outputlayer _EPTMPL269919
}

RULE DM7.A.2 {
    CAPTION "Max. area <= 80 um2";
    AREA DUM7 -gt "DM7_A_2" ; // -outputlayer _EPTMPL269920
}

RULE DM7.R.1 {
    CAPTION "DM7 is a must. The DM7 CAD layer (TSMC default, 37,1 for DM7) must be different from the M7 CAD layer.";
    SELECT -interact -not CHIPx DUM7 ; // -outputlayer _EPTMPL269921
}

RULE DM7.R.3 {
    CAPTION "0 or 45 degree solid shapes are allowed (Only rectangle and solid dummy is allowed)";
    RECT_CHK -not DUM7 ; // -outputlayer _EPTMPL269922
    HOLES DUM7 ; // -outputlayer _EPTMPL269923
}

RULE DM7.R.4 {
    CAPTION "DMx overlap of VIAx/VIAx-1 is not allowed.";
    AND DUM7 VIA7i ; // -outputlayer _EPTMPL269924
    AND DUM7 VIA6i ; // -outputlayer _EPTMPL269925
}

RULE DM7_O.R.4 {
    CAPTION "DMx_O overlap of VIAx/VIAx-1 is not allowed V";
    AND DM7_O VIA7i ; // -outputlayer _EPTMPL269926
    AND DM7_O VIA6i ; // -outputlayer _EPTMPL269927
}

RULE DM7_O.R.1 {
    CAPTION "DM7_O interact M7 is not allowed";
    SELECT -interact DM7_O M7_real ; // -outputlayer _EPTMPL269928
}

RULE DM8.W.1 {
    CAPTION "Width >= 0.4 um";
    INTE DUM8 -lt "DM8_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269929
}

RULE DM8.W.2 {
    CAPTION "Width (maximum) (checked by sizing down 1.5 um) <= 3 um";
    SIZE DUM8 -by "DM8_W_2/2" -underover ; // -outputlayer _EPTMPL269930
}

RULE DM8.S.1 {
    CAPTION "Space >= 0.4 um";
    EXTE DUM8 -lt "DM8_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269931
}

RULE DM8.S.2 {
    CAPTION "Space to M8 >= 0.6 um";
    EXTE M8i DUM8 -lt "DM8_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269932
    AND M8i DUM8 ; // -outputlayer _EPTMPL269933
}

RULE DM8.S.3 {
    CAPTION "Space to Mx (Overlap is not allowed) [Mx width > 4.5 um and the parallel metal run length > 4.5 um] >=  1.5";
    EXTE M8Wide_4.5 DUM8 -lt "DM8_S_3" -metric opposite -output region -measure all -outputlayer X;
    SELECT -enclose_rect X -width DM8_S_2 -length DM8_S_3_L+0.005 ; // -outputlayer _EPTMPL269935
}

RULE DM8.S.4 {
    CAPTION "Space to FW (Overlap is not allowed) >= 5 um";
    EXTE FWi DUM8 -lt "DM8_S_4" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269936
    AND FWi DUM8 ; // -outputlayer _EPTMPL269937
}

RULE DM8.S.5 {
    CAPTION "Space to LMARK (Overlap is not allowed) >= 5 um";
    EXTE LMARK_SOLID DUM8 -lt "DM8_S_5" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269938
    AND DUM8 LMARK_SOLID ; // -outputlayer _EPTMPL269939
}

RULE DM8.S.5.1 {
    CAPTION "Space to L-slot (Overlap is not allowed) >= 5 um";
    EXTE LSLOT DUM8 -lt "DM8_S_5_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269940
    AND DUM8 LSLOT ; // -outputlayer _EPTMPL269941
}

RULE DM8.S.7 {
    CAPTION "Space to LOGO (Overlap is not allowed) >= 0.0 um";
    AND LOGO DUM8 ; // -outputlayer _EPTMPL269942
}

RULE DM8.S.8 {
    CAPTION "Space to INDDMY (Overlap is not allowed) >= 2.5 um";
    EXTE INDDMY DUM8 -lt "DM8_S_8" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269943
    AND INDDMY DUM8 ; // -outputlayer _EPTMPL269944
}

RULE DM8.EN.1 {
    CAPTION "Enclosure by chip edge >= 2.5 um";
    SIZE CHIP_CHAMFERED -by -DM8_EN_1 -outputlayer _EPTMPL269945;
    NOT DUM8 _EPTMPL269945 ; // -outputlayer _EPTMPL269946
}

RULE DM8.A.1 {
    CAPTION "Min. area >= 0.565 um2";
    AREA DUM8 -lt "DM8_A_1" ; // -outputlayer _EPTMPL269947
}

RULE DM8.A.2 {
    CAPTION "Max. area <= 160 um2";
    AREA DUM8 -gt "DM8_A_2" ; // -outputlayer _EPTMPL269948
}

RULE DM8.R.1 {
    CAPTION "DM8 is a must. The DM8 CAD layer (TSMC default, 38,41 for DM8) must be different from the M8 CAD layer.";
    SELECT -interact -not CHIPx DUM8 ; // -outputlayer _EPTMPL269949
}

RULE DM8.R.3 {
    CAPTION "0 or 45 degree solid shapes are allowed (Only rectangle and solid dummy is allowed)";
    RECT_CHK -not DUM8 ; // -outputlayer _EPTMPL269950
    HOLES DUM8 ; // -outputlayer _EPTMPL269951
}

RULE DM8.R.4 {
    CAPTION "DMx overlap of VIAx/VIAx-1 is not allowed.";
    AND DUM8 VIA8i ; // -outputlayer _EPTMPL269952
    AND DUM8 VIA7i ; // -outputlayer _EPTMPL269953
}

RULE DM9.W.1 {
    CAPTION "Width >= 3 um";
    INTE DUM9 -lt "DM9_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269954
}

RULE DM9.W.2 {
    CAPTION "Width (maximum) (checked by sizing down 1.5 um) <= 3 um";
    SIZE DUM9 -by "DM9_W_2/2" -underover ; // -outputlayer _EPTMPL269955
}

RULE DM9.S.1 {
    CAPTION "Space >= 3 um";
    EXTE DUM9 -lt "DM9_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269956
}

RULE DM9.S.2 {
    CAPTION "Space to M9 >= 3 um";
    EXTE M9i DUM9 -lt "DM9_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269957
    AND M9i DUM9 ; // -outputlayer _EPTMPL269958
}
SIZE M9i -by "DM9_S_3_1_W/2" -underover -truncate "DM9_S_3_1_W/2" -outputlayer _EPTMPL269959;
AND _EPTMPL269959 M9i -outputlayer M9Wide_1.5;
SIZE M9Wide_1.5 -by "DM9_S_3_W/2" -underover -truncate "DM9_S_3_W/2" -outputlayer _EPTMPL269961;
AND _EPTMPL269961 M9Wide_1.5 -outputlayer M9Wide_4.5;

RULE DM9.S.3 {
    CAPTION "Space to Mx (Overlap is not allowed) [Mx width > 4.5 um and the parallel metal run length > 4.5 um] >=  1.5";
    EXTE M9Wide_4.5 DUM9 -lt "DM9_S_3" -metric opposite -output region -measure all -outputlayer X;
    SELECT -enclose_rect X -width DM9_S_2 -length DM9_S_3_L+0.005 ; // -outputlayer _EPTMPL269964
}

RULE DM9.S.4 {
    CAPTION "Space to FW (Overlap is not allowed) >= 5 um";
    EXTE FWi DUM9 -lt "DM9_S_4" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269965
    AND FWi DUM9 ; // -outputlayer _EPTMPL269966
}

RULE DM9.S.5 {
    CAPTION "Space to LMARK (Overlap is not allowed) >= 5 um";
    EXTE LMARK_SOLID DUM9 -lt "DM9_S_5" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269967
    AND DUM9 LMARK_SOLID ; // -outputlayer _EPTMPL269968
}

RULE DM9.S.5.1 {
    CAPTION "Space to L-slot (Overlap is not allowed) >= 5 um";
    EXTE LSLOT DUM9 -lt "DM9_S_5_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269969
    AND DUM9 LSLOT ; // -outputlayer _EPTMPL269970
}

RULE DM9.S.7 {
    CAPTION "Space to LOGO (Overlap is not allowed) >= 0.0 um";
    AND LOGO DUM9 ; // -outputlayer _EPTMPL269971
}

RULE DM9.S.8 {
    CAPTION "Space to INDDMY (Overlap is not allowed) >= 2.5 um";
    EXTE INDDMY DUM9 -lt "DM9_S_8" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269972
    AND INDDMY DUM9 ; // -outputlayer _EPTMPL269973
}

RULE DM9.EN.1 {
    CAPTION "Enclosure by chip edge >= 2.5 um";
    SIZE CHIP_CHAMFERED -by -DM9_EN_1 -outputlayer _EPTMPL269974;
    NOT DUM9 _EPTMPL269974 ; // -outputlayer _EPTMPL269975
}

RULE DM9.A.1 {
    CAPTION "Min. area >= 9 um2";
    AREA DUM9 -lt "DM9_A_1" ; // -outputlayer _EPTMPL269976
}

RULE DM9.A.2 {
    CAPTION "Max. area <= 600 um2";
    AREA DUM9 -gt "DM9_A_2" ; // -outputlayer _EPTMPL269977
}

RULE DM9.R.1 {
    CAPTION "DM9 is a must. The DM9 CAD layer (TSMC default, 39,61 for DM9) must be different from the M9 CAD layer.";
    SELECT -interact -not CHIPx DUM9 ; // -outputlayer _EPTMPL269978
}

RULE DM9.R.3 {
    CAPTION "0 or 45 degree solid shapes are allowed (Only rectangle and solid dummy is allowed)";
    RECT_CHK -not DUM9 ; // -outputlayer _EPTMPL269979
    HOLES DUM9 ; // -outputlayer _EPTMPL269980
}

RULE DM9.R.4 {
    CAPTION "DMx overlap of VIAx/VIAx-1 is not allowed.";
    AND DUM9 VIA8i ; // -outputlayer _EPTMPL269981
}
SELECT -inside -not RV SR_EDGE -outputlayer RV_CHECK;
OR IND_EXD IND_MD_EXD -outputlayer _EPTMPL269983;
SELECT -outside -not RV_CHECK _EPTMPL269983 -outputlayer RV_CHECK_INSIDE;
NOT RV_CHECK RV_CHECK_INSIDE -outputlayer RV_CHECK_OUTSIDE;

RULE RV.W.1.WB {
    CAPTION "Width (maximum = minimum) (Not inside seal ring) = 3 um";
    RECT_CHK -not RV_CHECK -eq "RV_W_1" -by -eq "RV_W_1" -orthogonal_only ; // -outputlayer _EPTMPL269986
}

RULE RV.S.1.WB {
    CAPTION "Space >= 3 um";
    EXTE RV_CHECK_OUTSIDE -lt "RV_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269987
    EXTE RV_CHECK_INSIDE -lt "RV_S_1-0.01" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269988
}

RULE RV.S.3.WB {
    CAPTION "Space to CB/CB2/FW {Overlap is not allowed} >= 6 um";
    EXTE RV_CHECK CB -lt "RV_S_3" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269989
    AND RV_CHECK CB ; // -outputlayer _EPTMPL269990
    EXTE RV_CHECK CB2 -lt "RV_S_3" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269991
    AND RV_CHECK CB2 ; // -outputlayer _EPTMPL269992
    EXTE RV_CHECK FW -lt "RV_S_3" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269993
    AND RV_CHECK FW ; // -outputlayer _EPTMPL269994
}

RULE RV.EN.1.WB {
    CAPTION "Enclosure by Mtop (Not inside seal ring) >= 1.5 um";
    ENC RV_CHECK_OUTSIDE M9 -lt "RV_EN_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269995
    ENC RV_CHECK_INSIDE M9 -lt "RV_EN_1-0.01" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL269996
    NOT RV_CHECK M9 ; // -outputlayer _EPTMPL269997
}

RULE RV.R.1.WB {
    CAPTION "A 45-degree rotated RV is prohibited.";
    ANGLE RV_CHECK -ltgt 0 90 ; // -outputlayer _EPTMPL269998
}
SELECT -inside -not AP SR_EDGE -outputlayer AP_CHECK;
OR FW_AP RV -outputlayer _EPTMPL270000;
SELECT -interact CHIP_EDGE _EPTMPL270000 -outputlayer CHIP_INT_AP;
SELECT -inside -not CB SR_EDGE -outputlayer CB_CHECK;
SELECT -inside -not CB2 SR_EDGE -outputlayer CB2_CHECK;
SELECT -inside -not CBD SR_EDGE -outputlayer CBD_CHECK;
SELECT -interact CB_CHECK CHIP_INT_AP -outputlayer CB_CHECK2;
SELECT -interact CB2_CHECK CHIP_INT_AP -outputlayer CB2_CHECK2;
OR IND_EXD IND_MD_EXD -outputlayer _EPTMPL270007;
SELECT -outside -not AP_CHECK _EPTMPL270007 -outputlayer AP_CHECK_INSIDE;
NOT AP_CHECK AP_CHECK_INSIDE -outputlayer AP_CHECK_OUTSIDE;

RULE AP.W.1.WB {
    CAPTION "Width [interconnect only] [ not inside FW_AP or sealring] >= 3 um";
    NOT AP_CHECK_OUTSIDE FW_AP -outputlayer A;
    NOT AP_CHECK_INSIDE FW_AP -outputlayer B;
    INTE A -lt "AP_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL270012
    INTE B -lt "AP_W_1-0.01" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL270013
}

RULE AP.W.2.WB {
    CAPTION "Maximum width [interconnect only] [ not inside UBM, CB or CB2] <= 35 um";
    OR IND_EXD IND_MD_EXD -outputlayer _EPTMPL270014;
    SELECT -outside AP _EPTMPL270014 -outputlayer _EPTMPL270015;
    NOT _EPTMPL270015 UBM -outputlayer _EPTMPL270016;
    NOT _EPTMPL270016 CB -outputlayer _EPTMPL270017;
    NOT _EPTMPL270017 CB2 -outputlayer A;
    OR IND_EXD IND_MD_EXD -outputlayer _EPTMPL270019;
    AND AP _EPTMPL270019 -outputlayer _EPTMPL270020;
    NOT _EPTMPL270020 UBM -outputlayer _EPTMPL270021;
    NOT _EPTMPL270021 CB -outputlayer _EPTMPL270022;
    NOT _EPTMPL270022 CB2 -outputlayer B;
    WITH_WIDTH A -gt "AP_W_2" ; // -outputlayer _EPTMPL270024
    WITH_WIDTH B -gt "AP_W_2+0.01" ; // -outputlayer _EPTMPL270025
}

RULE AP.S.1.FC {
    CAPTION "Space (Except space in the same polygon within {UBM SIZING 5um} region) >= 2 um";
    SIZE UBM -by 5 -outputlayer A;
    EXTE AP -lt "AP_S_1" -notch not -single_point -output region ; // -outputlayer _EPTMPL270027
    EXTE AP -lt "AP_S_1" -notch only -abut -lt 90 -single_point -output region -outputlayer _EPTMPL270028;
    NOT _EPTMPL270028 A ; // -outputlayer _EPTMPL270029
}

RULE AP.S.1.WB {
    CAPTION "Space (Except space in the same polygon within {CB2 SIZING 5um} region) >= 2 um";
    SIZE CB2 -by 5 -outputlayer A;
    EXTE AP -lt "AP_S_1" -notch not -single_point -output region ; // -outputlayer _EPTMPL270031
    EXTE AP -lt "AP_S_1" -notch only -abut -lt 90 -single_point -output region -outputlayer _EPTMPL270032;
    NOT _EPTMPL270032 A ; // -outputlayer _EPTMPL270033
}

RULE AP.S.2.WB {
    CAPTION "Space to FW_CU/FW_AP [(overlap FW_CU)/(Cut FW_AP) is prohibited] >= 5 um";
    EXTE AP FW -lt "AP_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL270034
    AND AP FW_Cu ; // -outputlayer _EPTMPL270035
    SELECT -cut AP FW_AP ; // -outputlayer _EPTMPL270036
}

RULE AP.S.3.WB {
    CAPTION "Space to LMARK [overlap is prohibited, except seal-ring] >= 5 um";
    EXTE AP_CHECK LMARK -lt "AP_S_3" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL270037
    AND AP_CHECK LMARK ; // -outputlayer _EPTMPL270038
}

RULE AP.EN.1.WB {
    CAPTION "Enclosured of RV (Not inside seal ring) >= 1.5 um";
    ENC RV_CHECK_OUTSIDE AP_CHECK_OUTSIDE -lt "AP_EN_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL270039
    ENC RV_CHECK_INSIDE AP_CHECK_INSIDE -lt "AP_EN_1-0.01" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL270040
    NOT RV_CHECK AP_CHECK ; // -outputlayer _EPTMPL270041
}

RULE AP.EN.2.WB {
    CAPTION "Enclosure of CB/CB2 (DRC tolerance: 0.01 um) >= 1 um";
    ENC CB_CHECK AP -lt "AP_EN_2 - TOL" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL270042
    NOT CB_CHECK2 AP ; // -outputlayer _EPTMPL270043
    ENC CB2_CHECK AP -lt "AP_EN_2 - TOL" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL270044
    NOT CB2_CHECK2 AP ; // -outputlayer _EPTMPL270045
}

RULE AP.DN.1:L {
    CAPTION "AP density across full chip >= 0.1";
    DENSITY AP CHIP_INT_AP -lt AP_DN_1_L -print "AP.DN.1L.density" -expr "  AREA(AP)/AREA(CHIP_INT_AP)  " ; // -outputlayer _EPTMPL270046
}

RULE AP.DN.1:H {
    CAPTION "AP density across full chip <= 0.7";
    DENSITY AP CHIP_INT_AP -gt AP_DN_1_H -print "AP.DN.1H.density" -expr "  AREA(AP)/AREA(CHIP_INT_AP)  " ; // -outputlayer _EPTMPL270047
}
AND FW_AP POLY -outputlayer F_M0;
AND FW_AP CO -outputlayer F_V0;
AND FW_AP M1 -outputlayer F_M1;
AND FW_AP VIA1 -outputlayer F_V1;
AND FW_AP M2 -outputlayer F_M2;
AND FW_AP VIA2 -outputlayer F_V2;
AND FW_AP M3 -outputlayer F_M3;
AND FW_AP VIA3 -outputlayer F_V3;
AND FW_AP M4 -outputlayer F_M4;
AND FW_AP VIA4 -outputlayer F_V4;
AND FW_AP M5 -outputlayer F_M5;
AND FW_AP VIA5 -outputlayer F_V5;
AND FW_AP M6 -outputlayer F_M6;
AND FW_AP VIA6 -outputlayer F_V6;
AND FW_AP M7 -outputlayer F_M7;
AND FW_AP VIA7 -outputlayer F_V7;
AND FW_AP M8 -outputlayer F_M8;
AND FW_AP VIA8 -outputlayer F_V8;
AND FW_AP M9 -outputlayer F_M9;
AND FW_AP AP -outputlayer MTFS;
AND RNGX POLY -outputlayer R_M0;
AND RNGX CO -outputlayer R_V0;
AND RNGX M1 -outputlayer R_M1;
AND RNGX VIA1 -outputlayer R_V1;
AND RNGX M2 -outputlayer R_M2;
AND RNGX VIA2 -outputlayer R_V2;
AND RNGX M3 -outputlayer R_M3;
AND RNGX VIA3 -outputlayer R_V3;
AND RNGX M4 -outputlayer R_M4;
AND RNGX VIA4 -outputlayer R_V4;
AND RNGX M5 -outputlayer R_M5;
AND RNGX VIA5 -outputlayer R_V5;
AND RNGX M6 -outputlayer R_M6;
AND RNGX VIA6 -outputlayer R_V6;
AND RNGX M7 -outputlayer R_M7;
AND RNGX VIA7 -outputlayer R_V7;
AND RNGX M8 -outputlayer R_M8;
AND RNGX VIA8 -outputlayer R_V8;
AND RNGX M9 -outputlayer R_M9;
HOLES R_M1 -outputlayer H_RM1;
HOLES R_V1 -outputlayer H_RV1;
HOLES R_M2 -outputlayer H_RM2;
HOLES R_V2 -outputlayer H_RV2;
HOLES R_M3 -outputlayer H_RM3;
HOLES R_V3 -outputlayer H_RV3;
HOLES R_M4 -outputlayer H_RM4;
HOLES R_V4 -outputlayer H_RV4;
HOLES R_M5 -outputlayer H_RM5;
HOLES R_V5 -outputlayer H_RV5;
HOLES R_M6 -outputlayer H_RM6;
HOLES R_V6 -outputlayer H_RV6;
HOLES R_M7 -outputlayer H_RM7;
HOLES R_V7 -outputlayer H_RV7;
HOLES R_M8 -outputlayer H_RM8;
HOLES R_V8 -outputlayer H_RV8;
HOLES R_M9 -outputlayer H_RM9;
CONVEX_EDGE MTFS -angle1 -eq 270 -angle2 -eq 270 -outputlayer MTFS_W;
CONVEX_EDGE MTFS -angle1 -eq 270 -angle2 -eq 90 -outputlayer MTFS_B;
CONVEX_EDGE MTFS -angle1 -eq 90 -angle2 -eq 90 -outputlayer MTFS_D;
INTE MTFS_D MTFS_B -lt 15 -abut -lt 90 -metric opposite -output region -outputlayer MTFS_E;
AND MTFS_E MTFS -outputlayer MTFS_EA;
NOT MTFS MTFS_EA -outputlayer MTFS_R;
INTE MTFS_W -lt 3 -abut -lt 90 -metric opposite -output region -outputlayer MTFS_CR;
CONNECT F_V0 MTFS;
CONNECT F_V1 MTFS;
CONNECT F_V2 MTFS;
CONNECT F_V3 MTFS;
CONNECT F_V4 MTFS;
CONNECT F_V5 MTFS;
CONNECT F_V6 MTFS;
CONNECT F_V7 MTFS;
CONNECT F_V8 MTFS;
CONNECT F_M0 MTFS;
CONNECT F_M1 MTFS;
CONNECT F_M2 MTFS;
CONNECT F_M3 MTFS;
CONNECT F_M4 MTFS;
CONNECT F_M5 MTFS;
CONNECT F_M6 MTFS;
CONNECT F_M7 MTFS;
CONNECT F_M8 MTFS;
CONNECT F_M9 MTFS;

RULE FUSE_WARN.1 {
    CAPTION "AP fuse must be covered by PMDMY.";
    SELECT -outside FW_AP PMDMY ; // -outputlayer _EPTMPL270130
}

RULE FUSE_WARN.2 {
    CAPTION "PWELL/PMDMY/FW should be used in fuse structure.";
    AND MTFS NWi ; // -outputlayer _EPTMPL270131
    SELECT -outside MTFS PMDMY ; // -outputlayer _EPTMPL270132
    SELECT -outside PMDMY MTFS ; // -outputlayer _EPTMPL270133
    SELECT -outside PMDMY FW_AP ; // -outputlayer _EPTMPL270134
}

RULE FUSE_WARN.3 {
    CAPTION "Metal fuse should be a dog bone shape.";
    VERTEX MTFS -ne 12 ; // -outputlayer _EPTMPL270135
}

RULE FU.L.1.1 {
    CAPTION "Length of AP fuse between dog bone >= 8 um";
    SELECT -enclose_rect -not MTFS_CR -width GRID -length FU_L_1_1 -orthogonal_only ; // -outputlayer _EPTMPL270136
}

RULE FU.S.1 {
    CAPTION "Spece of AP fuse >= 5.6 um";
    EXTE MTFS_CR -lt "FU_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL270137
}
SELECT -outside LMARK CSRDMY -outputlayer LMARK_NOT_CSR;
AND M9i LMARK_NOT_CSR -outputlayer MTLM;
HOLES MTLM -empty -outputlayer MTLMH;
CONVEX_EDGE MTLMH -angle1 -eq 90 -angle2 -eq 90 -with_length -le "LW_W_1_MAX" -outputlayer MTLMH_L;
CONVEX_EDGE MTLMH -angle1 -eq 90 -angle2 -eq 90 -with_length -ge "LW_L_1_MIN" -outputlayer MTLMH_P;

RULE LW.W.1 {
    CAPTION "Minimum width of L-slot  >= 10 um";
    CAPTION "Maximum width of L-slot   <= 20 um";
    INTE MTLMH -lt "LW_W_1_MIN" -abut -lt 90 -metric opposite -output region ; // -outputlayer _EPTMPL270143
    SIZE MTLMH -by "LW_W_1_MAX/2" -underover ; // -outputlayer _EPTMPL270144
}

RULE LW.L.1 {
    CAPTION "Minimum length of L-slot  >= 30 um";
    CAPTION "Maximum length of L-slot  <= 50 um";
    SELECT -enclose_rect -not MTLMH -width LW_W_1_MIN -length LW_L_1_MIN ; // -outputlayer _EPTMPL270145
    SELECT -enclose_rect MTLMH -width LW_W_1_MIN -length LW_L_1_MAX + GRID ; // -outputlayer _EPTMPL270146
    SELECT -with_edge -not MTLMH MTLMH_P -eq 2 ; // -outputlayer _EPTMPL270147
}

RULE LW.EN.1 {
    CAPTION "LMARK enclosure of L-slot [in the direction of the L-slot length] >= 12 um";
    ENC MTLMH_L LMARK -lt "LW_EN_1" -abut -lt 90 -output region ; // -outputlayer _EPTMPL270148
}

RULE LW.EN.2 {
    CAPTION "LMARK enclosure of L-slot [perpendicular to the direction of the L-slot length] >= 30 um";
    ENC MTLMH_P LMARK -lt "LW_EN_2" -abut -lt 90 -output region ; // -outputlayer _EPTMPL270149
}

RULE LOGO.S.1 {
    CAPTION "Min. chearance from LOGO to real OD/PO/Metal 10 um";
    SIZE LOGO -by "LOGO_S_1" -outputlayer _EPTMPL270150;
    NOT _EPTMPL270150 LOGO -outputlayer LOGO_EXT;
    NOT ODi TCDDMY -outputlayer _EPTMPL270152;
    AND LOGO_EXT _EPTMPL270152 ; // -outputlayer _EPTMPL270153
    NOT POi TCDDMY -outputlayer _EPTMPL270154;
    AND LOGO_EXT _EPTMPL270154 ; // -outputlayer _EPTMPL270155
    NOT M1i DM1_O -outputlayer M1i_R;
    AND LOGO_EXT M1i_R ; // -outputlayer _EPTMPL270157
    NOT M2i DM2_O -outputlayer M2i_R;
    AND LOGO_EXT M2i_R ; // -outputlayer _EPTMPL270159
    NOT M3i DM3_O -outputlayer M3i_R;
    AND LOGO_EXT M3i_R ; // -outputlayer _EPTMPL270161
    NOT M4i DM4_O -outputlayer M4i_R;
    AND LOGO_EXT M4i_R ; // -outputlayer _EPTMPL270163
    NOT M5i DM5_O -outputlayer M5i_R;
    AND LOGO_EXT M5i_R ; // -outputlayer _EPTMPL270165
    NOT M6i DM6_O -outputlayer M6i_R;
    AND LOGO_EXT M6i_R ; // -outputlayer _EPTMPL270167
    NOT M7i DM7_O -outputlayer M7i_R;
    AND LOGO_EXT M7i_R ; // -outputlayer _EPTMPL270169
    AND LOGO_EXT M8i ; // -outputlayer _EPTMPL270170
    AND LOGO_EXT M9i ; // -outputlayer _EPTMPL270171
}

RULE LOGO.O.1 {
    CAPTION "Overlap of CTP, CB, DOD, DPO, or DMx is not allowed.";
    AND LOGO CBi ; // -outputlayer _EPTMPL270172
    AND LOGO CBDi ; // -outputlayer _EPTMPL270173
    AND LOGO DOD ; // -outputlayer _EPTMPL270174
    AND LOGO DPO ; // -outputlayer _EPTMPL270175
    AND LOGO FWi ; // -outputlayer _EPTMPL270176
    AND LOGO PMi ; // -outputlayer _EPTMPL270177
    AND LOGO UBMi ; // -outputlayer _EPTMPL270178
    AND LOGO DM1_O ; // -outputlayer _EPTMPL270179
    AND LOGO DM2_O ; // -outputlayer _EPTMPL270180
    AND LOGO DM3_O ; // -outputlayer _EPTMPL270181
    AND LOGO DM4_O ; // -outputlayer _EPTMPL270182
    AND LOGO DM5_O ; // -outputlayer _EPTMPL270183
    AND LOGO DM6_O ; // -outputlayer _EPTMPL270184
    AND LOGO DM7_O ; // -outputlayer _EPTMPL270185
}

RULE LOGO.R.4 {
    CAPTION "NW, OD, PO and Metals cut LOGO is not allowed";
    SELECT -cut NWi LOGO ; // -outputlayer _EPTMPL270186
    SELECT -cut ODi LOGO ; // -outputlayer _EPTMPL270187
    SELECT -cut POi LOGO ; // -outputlayer _EPTMPL270188
    SELECT -cut M1x LOGO ; // -outputlayer _EPTMPL270189
    SELECT -cut M2x LOGO ; // -outputlayer _EPTMPL270190
    SELECT -cut M3x LOGO ; // -outputlayer _EPTMPL270191
    SELECT -cut M4x LOGO ; // -outputlayer _EPTMPL270192
    SELECT -cut M5x LOGO ; // -outputlayer _EPTMPL270193
    SELECT -cut M6x LOGO ; // -outputlayer _EPTMPL270194
    SELECT -cut M7x LOGO ; // -outputlayer _EPTMPL270195
    SELECT -cut M8x LOGO ; // -outputlayer _EPTMPL270196
    SELECT -cut M9x LOGO ; // -outputlayer _EPTMPL270197
}
NOT NWRjT EMPTYi -outputlayer NWRiu;
NOT NSTPj EMPTYi -outputlayer NSTPiu;
NOT PSTPj EMPTYi -outputlayer _EPTMPL270200;
NOT _EPTMPL270200 VAR -outputlayer PSTPiu;
NOT NSDj EMPTYi -outputlayer NSDiu;
NOT PSDj EMPTYi -outputlayer PSDiu;
NOT CBj EMPTYi -outputlayer CBiu;
NOT CB2j EMPTYi -outputlayer CB2iu;
NOT UBMnj EMPTYi -outputlayer UBMniu;
NOT UBMdj EMPTYi -outputlayer UBMdiu;
SELECT -label "M1j" -textname "VDD?" -textlayer 131 -primary_only -outputlayer PWR_M1iu_BY_TEXT;
SELECT -label "M1j" -textname "VSS?" -textlayer 131 -primary_only -outputlayer GND_M1iu_BY_TEXT;
SELECT -label "M1j" -textname "?" -textlayer 131 -primary_only -outputlayer PAD_M1iu_BY_TEXT;
SELECT -label "M2j" -textname "VDD?" -textlayer 132 -primary_only -outputlayer PWR_M2iu_BY_TEXT;
SELECT -label "M2j" -textname "VSS?" -textlayer 132 -primary_only -outputlayer GND_M2iu_BY_TEXT;
SELECT -label "M2j" -textname "?" -textlayer 132 -primary_only -outputlayer PAD_M2iu_BY_TEXT;
SELECT -label "M3j" -textname "VDD?" -textlayer 133 -primary_only -outputlayer PWR_M3iu_BY_TEXT;
SELECT -label "M3j" -textname "VSS?" -textlayer 133 -primary_only -outputlayer GND_M3iu_BY_TEXT;
SELECT -label "M3j" -textname "?" -textlayer 133 -primary_only -outputlayer PAD_M3iu_BY_TEXT;
SELECT -label "M4j" -textname "VDD?" -textlayer 134 -primary_only -outputlayer PWR_M4iu_BY_TEXT;
SELECT -label "M4j" -textname "VSS?" -textlayer 134 -primary_only -outputlayer GND_M4iu_BY_TEXT;
SELECT -label "M4j" -textname "?" -textlayer 134 -primary_only -outputlayer PAD_M4iu_BY_TEXT;
SELECT -label "M5j" -textname "VDD?" -textlayer 135 -primary_only -outputlayer PWR_M5iu_BY_TEXT;
SELECT -label "M5j" -textname "VSS?" -textlayer 135 -primary_only -outputlayer GND_M5iu_BY_TEXT;
SELECT -label "M5j" -textname "?" -textlayer 135 -primary_only -outputlayer PAD_M5iu_BY_TEXT;
SELECT -label "M6j" -textname "VDD?" -textlayer 136 -primary_only -outputlayer PWR_M6iu_BY_TEXT;
SELECT -label "M6j" -textname "VSS?" -textlayer 136 -primary_only -outputlayer GND_M6iu_BY_TEXT;
SELECT -label "M6j" -textname "?" -textlayer 136 -primary_only -outputlayer PAD_M6iu_BY_TEXT;
SELECT -label "M7j" -textname "VDD?" -textlayer 137 -primary_only -outputlayer PWR_M7iu_BY_TEXT;
SELECT -label "M7j" -textname "VSS?" -textlayer 137 -primary_only -outputlayer GND_M7iu_BY_TEXT;
SELECT -label "M7j" -textname "?" -textlayer 137 -primary_only -outputlayer PAD_M7iu_BY_TEXT;
SELECT -label "M8j" -textname "VDD?" -textlayer 138 -primary_only -outputlayer PWR_M8iu_BY_TEXT;
SELECT -label "M8j" -textname "VSS?" -textlayer 138 -primary_only -outputlayer GND_M8iu_BY_TEXT;
SELECT -label "M8j" -textname "?" -textlayer 138 -primary_only -outputlayer PAD_M8iu_BY_TEXT;
SELECT -label "M9j" -textname "VDD?" -textlayer 139 -primary_only -outputlayer PWR_M9iu_BY_TEXT;
SELECT -label "M9j" -textname "VSS?" -textlayer 139 -primary_only -outputlayer GND_M9iu_BY_TEXT;
SELECT -label "M9j" -textname "?" -textlayer 139 -primary_only -outputlayer PAD_M9iu_BY_TEXT;
SELECT -label "APj" -textname "VDD?" -textlayer 126 -primary_only -outputlayer PWR_APiu_BY_TEXT;
SELECT -label "APj" -textname "VSS?" -textlayer 126 -primary_only -outputlayer GND_APiu_BY_TEXT;
SELECT -label "APj" -textname "?" -textlayer 126 -primary_only -outputlayer PAD_APiu_BY_TEXT;
SELECT -interact -not NSTPiu RNWEL -outputlayer _EPTMPL270238;
NOT _EPTMPL270238 VAR -outputlayer NSTPux;
ANTENNA CBiu NSTPux -gt 0 -outputlayer VDD_CB;
ANTENNA CBiu PSTPiu -gt 0 -outputlayer VSS_CB;
ANTENNA CB2iu NSTPux -gt 0 -outputlayer VDD_CB2;
ANTENNA CB2iu PSTPiu -gt 0 -outputlayer VSS_CB2;
ANTENNA UBMniu NSTPux -gt 0 -outputlayer VDD_UBMn;
ANTENNA UBMdiu NSTPux -gt 0 -outputlayer VDD_UBMd;
OR VDD_UBMn VDD_UBMd -outputlayer VDD_UBM;
ANTENNA UBMniu PSTPiu -gt 0 -outputlayer VSS_UBMn;
ANTENNA UBMdiu PSTPiu -gt 0 -outputlayer VSS_UBMd;
OR VSS_UBMn VSS_UBMd -outputlayer VSS_UBM;
SELECT -interact CBiu VDDDMY -outputlayer VDD_CB_BY_DUMMY;
SELECT -interact CBiu VSSDMY -outputlayer VSS_CB_BY_DUMMY;
SELECT -interact CB2iu VDDDMY -outputlayer VDD_CB2_BY_DUMMY;
SELECT -interact CB2iu VSSDMY -outputlayer VSS_CB2_BY_DUMMY;
SELECT -interact UBMniu VDDDMY -outputlayer VDD_UBMn_BY_DUMMY;
SELECT -interact UBMdiu VDDDMY -outputlayer VDD_UBMd_BY_DUMMY;
SELECT -interact UBMniu VSSDMY -outputlayer VSS_UBMn_BY_DUMMY;
SELECT -interact UBMdiu VSSDMY -outputlayer VSS_UBMd_BY_DUMMY;
NOT CBiu VDD_CB -outputlayer _EPTMPL270258;
NOT _EPTMPL270258 VSS_CB -outputlayer _EPTMPL270259;
NOT _EPTMPL270259 VDD_CB_BY_DUMMY -outputlayer _EPTMPL270260;
NOT _EPTMPL270260 VSS_CB_BY_DUMMY -outputlayer IO_CB;
NOT CB2iu VDD_CB2 -outputlayer _EPTMPL270262;
NOT _EPTMPL270262 VSS_CB2 -outputlayer _EPTMPL270263;
NOT _EPTMPL270263 VDD_CB2_BY_DUMMY -outputlayer _EPTMPL270264;
NOT _EPTMPL270264 VSS_CB2_BY_DUMMY -outputlayer IO_CB2;
NOT UBMniu VDD_UBM -outputlayer _EPTMPL270266;
NOT _EPTMPL270266 VSS_UBM -outputlayer _EPTMPL270267;
NOT _EPTMPL270267 VDD_UBMn_BY_DUMMY -outputlayer _EPTMPL270268;
NOT _EPTMPL270268 VSS_UBMn_BY_DUMMY -outputlayer IO_UBMn;
NOT UBMdiu VDD_UBM -outputlayer _EPTMPL270270;
NOT _EPTMPL270270 VSS_UBM -outputlayer _EPTMPL270271;
NOT _EPTMPL270271 VDD_UBMd_BY_DUMMY -outputlayer _EPTMPL270272;
NOT _EPTMPL270272 VSS_UBMd_BY_DUMMY -outputlayer IO_UBMd;
ANTENNA PSDiu CBiu CB2iu UBMniu UBMdiu -gt 0 -expr "  !!AREA(CBiu)+!!AREA(CB2iu)+!!AREA(UBMniu)+!!AREA(UBMdiu)  " -outputlayer PSD_PAD;
ANTENNA NSDiu CBiu CB2iu UBMniu UBMdiu -gt 0 -expr "  !!AREA(CBiu)+!!AREA(CB2iu)+!!AREA(UBMniu)+!!AREA(UBMdiu)  " -outputlayer NSD_PAD;
ANTENNA PSDiu IO_CB IO_CB2 IO_UBMn IO_UBMd -gt 0 -expr "  !!AREA(IO_CB)+!!AREA(IO_CB2)+!!AREA(IO_UBMn)+!!AREA(IO_UBMd)  " -outputlayer PSD_IOPAD_stp;
ANTENNA NSDiu IO_CB IO_CB2 IO_UBMn IO_UBMd -gt 0 -expr "  !!AREA(IO_CB)+!!AREA(IO_CB2)+!!AREA(IO_UBMn)+!!AREA(IO_UBMd)  " -outputlayer NSD_IOPAD_stp;
ANTENNA NWRiu IO_CB IO_CB2 IO_UBMn IO_UBMd -gt 0 -expr "  !!AREA(IO_CB)+!!AREA(IO_CB2)+!!AREA(IO_UBMn)+!!AREA(IO_UBMd)  " -outputlayer NWR_IOPAD_stp;
SELECT -interact DACT GATE -outputlayer MOS;
SELECT -interact PSDiu PSD_IOPAD_stp -outputlayer PSD_IOPAD;
SELECT -interact NSDiu NSD_IOPAD_stp -outputlayer NSD_IOPAD;
SELECT -interact NWRiu NWR_IOPAD_stp -outputlayer NWR_IOPAD;
OR VDDDMY VSSDMY -outputlayer _EPTMPL270283;
SELECT -interact CHIP _EPTMPL270283 -outputlayer MOS_filter_DMY;
SELECT -interact MOS PSD_PAD -eq 1 -by_net -outputlayer _EPTMPL270285;
NOT _EPTMPL270285 MOS_filter_DMY -outputlayer PMOS_filter;
SELECT -interact MOS NSD_PAD -eq 1 -by_net -outputlayer _EPTMPL270287;
NOT _EPTMPL270287 MOS_filter_DMY -outputlayer NMOS_filter;
OR PSD_IOPAD NSD_IOPAD -outputlayer SD_IOPAD;
SELECT -interact -not MOS CO -outputlayer _EPTMPL270290;
SELECT -interact POLY CO -outputlayer _EPTMPL270291;
SELECT -interact -not _EPTMPL270290 _EPTMPL270291 -outputlayer DUMMY_MOS;
SELECT -interact -not DACT POLY -outputlayer _EPTMPL270293;
SELECT -interact -not _EPTMPL270293 CO -outputlayer DUMMY_DIODE;
SELECT -interact GATE PP -outputlayer _EPTMPL270295;
SELECT -interact _EPTMPL270295 NP -outputlayer _EPTMPL270296;
SELECT -interact MOS _EPTMPL270296 -outputlayer G_DIODE;
NOT DACT DUMMY_MOS -outputlayer _EPTMPL270298;
NOT _EPTMPL270298 DUMMY_DIODE -outputlayer DACT_real;
AND PACT DACT_real -outputlayer PACT_real;
AND NACT DACT_real -outputlayer NACT_real;
NOT DACT_real PMOS_filter -outputlayer _EPTMPL270302;
NOT _EPTMPL270302 NMOS_filter -outputlayer _EPTMPL270303;
SELECT -interact _EPTMPL270303 SD_IOPAD -outputlayer _EPTMPL270304;
SELECT -interact OD NWR_IOPAD -outputlayer _EPTMPL270305;
OR _EPTMPL270304 _EPTMPL270305 -outputlayer _EPTMPL270306;
SELECT -inside -not _EPTMPL270306 LUPWDMY -outputlayer POST_DRIVER_ACT;
SELECT -interact POST_DRIVER_ACT PSDiu -outputlayer _EPTMPL270308;
SELECT -inside -not _EPTMPL270308 LUPWDMY -outputlayer POST_DRIVER_PACT;
SELECT -interact POST_DRIVER_ACT NSDiu -outputlayer _EPTMPL270310;
SELECT -interact OD NWR_IOPAD -outputlayer _EPTMPL270311;
OR _EPTMPL270310 _EPTMPL270311 -outputlayer _EPTMPL270312;
SELECT -inside -not _EPTMPL270312 LUPWDMY -outputlayer POST_DRIVER_NACT;
SELECT -interact POST_DRIVER_PACT GATE -outputlayer _EPTMPL270314;
NOT _EPTMPL270314 G_DIODE -outputlayer POST_DRIVER_PMOS;
STAMP POST_DRIVER_PMOS NWEL -outputlayer POST_DRIVER_PMOS_NW;
SELECT -interact POST_DRIVER_PMOS_NW HV_GATE -outputlayer POST_DRIVER_PMOS_NW_HV;
SELECT -interact POST_DRIVER_PMOS_NW_HV OD_25 -outputlayer _EPTMPL270318;
SELECT -interact _EPTMPL270318 HVD_P -outputlayer POST_DRIVER_PMOS_NW_5V;
SELECT -interact POST_DRIVER_PMOS_NW_HV OD_33 -outputlayer POST_DRIVER_PMOS_NW_33V;
SELECT -interact POST_DRIVER_PMOS_NW_HV OD_25 -outputlayer _EPTMPL270321;
SELECT -interact -not _EPTMPL270321 HVD_P -outputlayer POST_DRIVER_PMOS_NW_25V;
SELECT -interact POST_DRIVER_PMOS_NW_HV OD_18 -outputlayer POST_DRIVER_PMOS_NW_18V;
NOT POST_DRIVER_PMOS_NW POST_DRIVER_PMOS_NW_HV -outputlayer POST_DRIVER_PMOS_NW_LV;
STAMP POST_DRIVER_PMOS NWi -outputlayer POST_DRIVER_PMOS_NWi;
SELECT -interact POST_DRIVER_PMOS_NWi HV_GATE -outputlayer POST_DRIVER_PMOS_NWi_HV;
SELECT -interact POST_DRIVER_PMOS_NWi_HV OD_25 -outputlayer _EPTMPL270327;
SELECT -interact _EPTMPL270327 HVD_P -outputlayer POST_DRIVER_PMOS_NWi_5V;
SELECT -interact POST_DRIVER_PMOS_NWi_HV OD_33 -outputlayer POST_DRIVER_PMOS_NWi_33V;
SELECT -interact POST_DRIVER_PMOS_NWi_HV OD_25 -outputlayer _EPTMPL270330;
SELECT -interact -not _EPTMPL270330 HVD_P -outputlayer POST_DRIVER_PMOS_NWi_25V;
SELECT -interact POST_DRIVER_PMOS_NWi_HV OD_18 -outputlayer POST_DRIVER_PMOS_NWi_18V;
NOT POST_DRIVER_PMOS_NWi POST_DRIVER_PMOS_NWi_HV -outputlayer POST_DRIVER_PMOS_NWi_LV;
SELECT -interact POST_DRIVER_NACT GATE -outputlayer _EPTMPL270334;
NOT _EPTMPL270334 G_DIODE -outputlayer POST_DRIVER_NMOS;
SELECT -inside POST_DRIVER_NMOS DNW -outputlayer _EPTMPL270336;
STAMP _EPTMPL270336 DNW -outputlayer POST_DRIVER_NMOS_RW;
NOT POST_DRIVER_NMOS POST_DRIVER_NMOS_RW -outputlayer POST_DRIVER_NMOS_PW;
SELECT -interact POST_DRIVER_NMOS_RW HV_GATE -outputlayer POST_DRIVER_NMOS_RW_HV;
SELECT -interact POST_DRIVER_NMOS_RW_HV OD_25 -outputlayer _EPTMPL270340;
SELECT -interact _EPTMPL270340 HVD_N_nw -outputlayer POST_DRIVER_NMOS_RW_5V;
SELECT -interact POST_DRIVER_NMOS_RW_HV OD_33 -outputlayer POST_DRIVER_NMOS_RW_33V;
SELECT -interact POST_DRIVER_NMOS_RW_HV OD_25 -outputlayer _EPTMPL270343;
SELECT -interact -not _EPTMPL270343 HVD_N_nw -outputlayer POST_DRIVER_NMOS_RW_25V;
SELECT -interact POST_DRIVER_NMOS_RW_HV OD_18 -outputlayer POST_DRIVER_NMOS_RW_18V;
NOT POST_DRIVER_NMOS_RW POST_DRIVER_NMOS_RW_HV -outputlayer POST_DRIVER_NMOS_RW_LV;
SELECT -interact POST_DRIVER_NMOS_PW HV_GATE -outputlayer POST_DRIVER_NMOS_PW_HV;
SELECT -interact POST_DRIVER_NMOS_PW_HV OD_25 -outputlayer _EPTMPL270348;
SELECT -interact _EPTMPL270348 HVD_N_nw -outputlayer POST_DRIVER_NMOS_PW_5V;
SELECT -interact POST_DRIVER_NMOS_PW_HV OD_33 -outputlayer POST_DRIVER_NMOS_PW_33V;
SELECT -interact POST_DRIVER_NMOS_PW_HV OD_25 -outputlayer _EPTMPL270351;
SELECT -interact -not _EPTMPL270351 HVD_N_nw -outputlayer POST_DRIVER_NMOS_PW_25V;
SELECT -interact POST_DRIVER_NMOS_PW_HV OD_18 -outputlayer POST_DRIVER_NMOS_PW_18V;
NOT POST_DRIVER_NMOS_PW POST_DRIVER_NMOS_PW_HV -outputlayer POST_DRIVER_NMOS_PW_LV;
COPY POST_DRIVER_PACT -outputlayer POST_DRIVER_PINJ;
STAMP POST_DRIVER_PINJ NWEL -outputlayer POST_DRIVER_PINJ_NW;
SELECT -interact POST_DRIVER_PINJ_NW OD2 -outputlayer POST_DRIVER_PINJ_NW_HV;
SELECT -interact POST_DRIVER_PINJ_NW_HV HVD_P -outputlayer POST_DRIVER_PINJ_NW_5V;
SELECT -interact POST_DRIVER_PINJ_NW_HV OD_33 -outputlayer POST_DRIVER_PINJ_NW_33V;
SELECT -interact POST_DRIVER_PINJ_NW_HV OD_25 -outputlayer POST_DRIVER_PINJ_NW_25V;
SELECT -interact POST_DRIVER_PINJ_NW_HV OD_18 -outputlayer POST_DRIVER_PINJ_NW_18V;
NOT POST_DRIVER_PINJ_NW POST_DRIVER_PINJ_NW_HV -outputlayer POST_DRIVER_PINJ_NW_LV;
COPY POST_DRIVER_NACT -outputlayer POST_DRIVER_NINJ;
SELECT -inside POST_DRIVER_NINJ DNW -outputlayer _EPTMPL270364;
STAMP _EPTMPL270364 DNW -outputlayer POST_DRIVER_NINJ_RW;
SELECT -interact POST_DRIVER_NINJ_RW OD2 -outputlayer POST_DRIVER_NINJ_RW_HV;
SELECT -interact POST_DRIVER_NINJ_RW_HV HVD_N_nw -outputlayer POST_DRIVER_NINJ_RW_5V;
SELECT -interact POST_DRIVER_NINJ_RW_HV OD_33 -outputlayer POST_DRIVER_NINJ_RW_33V;
SELECT -interact POST_DRIVER_NINJ_RW_HV OD_25 -outputlayer POST_DRIVER_NINJ_RW_25V;
SELECT -interact POST_DRIVER_NINJ_RW_HV OD_18 -outputlayer POST_DRIVER_NINJ_RW_18V;
NOT POST_DRIVER_NINJ_RW POST_DRIVER_NINJ_RW_HV -outputlayer POST_DRIVER_NINJ_RW_LV;
NOT POST_DRIVER_NINJ POST_DRIVER_NINJ_RW -outputlayer POST_DRIVER_NINJ_PW;
SELECT -interact POST_DRIVER_NINJ_PW OD2 -outputlayer POST_DRIVER_NINJ_PW_HV;
SELECT -interact POST_DRIVER_NINJ_PW_HV HVD_N_nw -outputlayer POST_DRIVER_NINJ_PW_5V;
SELECT -interact POST_DRIVER_NINJ_PW_HV OD_33 -outputlayer POST_DRIVER_NINJ_PW_33V;
SELECT -interact POST_DRIVER_NINJ_PW_HV OD_25 -outputlayer POST_DRIVER_NINJ_PW_25V;
SELECT -interact POST_DRIVER_NINJ_PW_HV OD_18 -outputlayer POST_DRIVER_NINJ_PW_18V;
NOT POST_DRIVER_NINJ_PW POST_DRIVER_NINJ_PW_HV -outputlayer POST_DRIVER_NINJ_PW_LV;
STAMP DNW NWi -outputlayer DNWc;
SELECT -inside POST_DRIVER_NMOS DNWc -outputlayer _EPTMPL270380;
STAMP _EPTMPL270380 DNWc -outputlayer POST_DRIVER_NMOS_RWi;
SELECT -interact POST_DRIVER_NMOS_RWi HV_GATE -outputlayer POST_DRIVER_NMOS_RWi_HV;
SELECT -interact POST_DRIVER_NMOS_RWi_HV OD_25 -outputlayer _EPTMPL270383;
SELECT -interact _EPTMPL270383 HVD_N_nw -outputlayer POST_DRIVER_NMOS_RWi_5V;
SELECT -interact POST_DRIVER_NMOS_RWi_HV OD_33 -outputlayer POST_DRIVER_NMOS_RWi_33V;
SELECT -interact POST_DRIVER_NMOS_RWi_HV OD_25 -outputlayer _EPTMPL270386;
SELECT -interact -not _EPTMPL270386 HVD_N_nw -outputlayer POST_DRIVER_NMOS_RWi_25V;
SELECT -interact POST_DRIVER_NMOS_RWi_HV OD_18 -outputlayer POST_DRIVER_NMOS_RWi_18V;
NOT POST_DRIVER_NMOS_RWi POST_DRIVER_NMOS_RWi_HV -outputlayer POST_DRIVER_NMOS_RWi_LV;
OR POST_DRIVER_NMOS POST_DRIVER_PMOS -outputlayer POST_DRIVER_MOS;
SIZE POST_DRIVER_ACT -by "LUP_2" -bevel 4 -outputlayer BESIDE_POST_DRIVER;
SELECT -interact NACT_real GATE -outputlayer _EPTMPL270392;
SELECT -interact _EPTMPL270392 BESIDE_POST_DRIVER -outputlayer _EPTMPL270393;
NOT _EPTMPL270393 POST_DRIVER_NACT -outputlayer _EPTMPL270394;
NOT _EPTMPL270394 DUMMY_MOS -outputlayer _EPTMPL270395;
NOT _EPTMPL270395 G_DIODE -outputlayer BESIDE_POST_DRIVER_NMOS;
SELECT -interact PACT_real GATE -outputlayer _EPTMPL270397;
SELECT -interact _EPTMPL270397 BESIDE_POST_DRIVER -outputlayer _EPTMPL270398;
NOT _EPTMPL270398 POST_DRIVER_PACT -outputlayer _EPTMPL270399;
NOT _EPTMPL270399 DUMMY_MOS -outputlayer _EPTMPL270400;
NOT _EPTMPL270400 G_DIODE -outputlayer BESIDE_POST_DRIVER_PMOS;
STAMP BESIDE_POST_DRIVER_PMOS NWEL -outputlayer BESIDE_POST_DRIVER_PMOS_NW;
SELECT -interact BESIDE_POST_DRIVER_PMOS_NW HV_GATE -outputlayer BESIDE_POST_DRIVER_PMOS_NW_HV;
SELECT -interact BESIDE_POST_DRIVER_PMOS_NW_HV OD_25 -outputlayer _EPTMPL270404;
SELECT -interact _EPTMPL270404 HVD_P -outputlayer _EPTMPL270405;
SELECT -interact -not _EPTMPL270405 DNW -outputlayer BESIDE_POST_DRIVER_PMOS_NW_5V;
SELECT -interact BESIDE_POST_DRIVER_PMOS_NW_HV OD_33 -outputlayer BESIDE_POST_DRIVER_PMOS_NW_33V;
SELECT -interact BESIDE_POST_DRIVER_PMOS_NW_HV OD_25 -outputlayer _EPTMPL270408;
SELECT -interact -not _EPTMPL270408 HVD_P -outputlayer BESIDE_POST_DRIVER_PMOS_NW_25V;
SELECT -interact BESIDE_POST_DRIVER_PMOS_NW_HV OD_18 -outputlayer BESIDE_POST_DRIVER_PMOS_NW_18V;
NOT BESIDE_POST_DRIVER_PMOS_NW BESIDE_POST_DRIVER_PMOS_NW_HV -outputlayer BESIDE_POST_DRIVER_PMOS_NW_LV;
STAMP BESIDE_POST_DRIVER_PMOS NWi -outputlayer BESIDE_POST_DRIVER_PMOS_NWi;
SELECT -interact BESIDE_POST_DRIVER_PMOS_NWi HV_GATE -outputlayer BESIDE_POST_DRIVER_PMOS_NWi_HV;
SELECT -interact BESIDE_POST_DRIVER_PMOS_NWi_HV OD_25 -outputlayer _EPTMPL270414;
SELECT -interact _EPTMPL270414 HVD_P -outputlayer _EPTMPL270415;
SELECT -interact -not _EPTMPL270415 DNW -outputlayer BESIDE_POST_DRIVER_PMOS_NWi_5V;
SELECT -interact BESIDE_POST_DRIVER_PMOS_NWi_HV OD_33 -outputlayer BESIDE_POST_DRIVER_PMOS_NWi_33V;
SELECT -interact BESIDE_POST_DRIVER_PMOS_NWi_HV OD_25 -outputlayer _EPTMPL270418;
SELECT -interact -not _EPTMPL270418 HVD_P -outputlayer BESIDE_POST_DRIVER_PMOS_NWi_25V;
SELECT -interact BESIDE_POST_DRIVER_PMOS_NWi_HV OD_18 -outputlayer BESIDE_POST_DRIVER_PMOS_NWi_18V;
NOT BESIDE_POST_DRIVER_PMOS_NWi BESIDE_POST_DRIVER_PMOS_NWi_HV -outputlayer BESIDE_POST_DRIVER_PMOS_NWi_LV;
SELECT -inside BESIDE_POST_DRIVER_NMOS DNW -outputlayer _EPTMPL270422;
STAMP _EPTMPL270422 DNW -outputlayer BESIDE_POST_DRIVER_NMOS_RW;
NOT BESIDE_POST_DRIVER_NMOS BESIDE_POST_DRIVER_NMOS_RW -outputlayer BESIDE_POST_DRIVER_NMOS_PW;
SELECT -interact BESIDE_POST_DRIVER_NMOS_RW HV_GATE -outputlayer BESIDE_POST_DRIVER_NMOS_RW_HV;
SELECT -interact BESIDE_POST_DRIVER_NMOS_RW_HV OD_25 -outputlayer _EPTMPL270426;
SELECT -interact _EPTMPL270426 HVD_N_nw -outputlayer BESIDE_POST_DRIVER_NMOS_RW_5V;
SELECT -interact BESIDE_POST_DRIVER_NMOS_RW_HV OD_33 -outputlayer BESIDE_POST_DRIVER_NMOS_RW_33V;
SELECT -interact BESIDE_POST_DRIVER_NMOS_RW_HV OD_25 -outputlayer _EPTMPL270429;
SELECT -interact -not _EPTMPL270429 HVD_N_nw -outputlayer BESIDE_POST_DRIVER_NMOS_RW_25V;
SELECT -interact BESIDE_POST_DRIVER_NMOS_RW_HV OD_18 -outputlayer BESIDE_POST_DRIVER_NMOS_RW_18V;
NOT BESIDE_POST_DRIVER_NMOS_RW BESIDE_POST_DRIVER_NMOS_RW_HV -outputlayer BESIDE_POST_DRIVER_NMOS_RW_LV;
SELECT -interact BESIDE_POST_DRIVER_NMOS_PW HV_GATE -outputlayer BESIDE_POST_DRIVER_NMOS_PW_HV;
SELECT -interact BESIDE_POST_DRIVER_NMOS_PW_HV OD_25 -outputlayer _EPTMPL270434;
SELECT -interact _EPTMPL270434 HVD_N_nw -outputlayer _EPTMPL270435;
SELECT -interact -not _EPTMPL270435 DNW -outputlayer BESIDE_POST_DRIVER_NMOS_PW_5V;
SELECT -interact BESIDE_POST_DRIVER_NMOS_PW_HV OD_33 -outputlayer BESIDE_POST_DRIVER_NMOS_PW_33V;
SELECT -interact BESIDE_POST_DRIVER_NMOS_PW_HV OD_25 -outputlayer _EPTMPL270438;
SELECT -interact -not _EPTMPL270438 HVD_N_nw -outputlayer BESIDE_POST_DRIVER_NMOS_PW_25V;
SELECT -interact BESIDE_POST_DRIVER_NMOS_PW_HV OD_18 -outputlayer BESIDE_POST_DRIVER_NMOS_PW_18V;
NOT BESIDE_POST_DRIVER_NMOS_PW BESIDE_POST_DRIVER_NMOS_PW_HV -outputlayer BESIDE_POST_DRIVER_NMOS_PW_LV;
SELECT -inside BESIDE_POST_DRIVER_NMOS DNWc -outputlayer _EPTMPL270442;
STAMP _EPTMPL270442 DNWc -outputlayer BESIDE_POST_DRIVER_NMOS_RWi;
SELECT -interact BESIDE_POST_DRIVER_NMOS_RWi HV_GATE -outputlayer BESIDE_POST_DRIVER_NMOS_RWi_HV;
SELECT -interact BESIDE_POST_DRIVER_NMOS_RWi_HV OD_25 -outputlayer _EPTMPL270445;
SELECT -interact _EPTMPL270445 HVD_N_nw -outputlayer BESIDE_POST_DRIVER_NMOS_RWi_5V;
SELECT -interact BESIDE_POST_DRIVER_NMOS_RWi_HV OD_33 -outputlayer BESIDE_POST_DRIVER_NMOS_RWi_33V;
SELECT -interact BESIDE_POST_DRIVER_NMOS_RWi_HV OD_25 -outputlayer _EPTMPL270448;
SELECT -interact -not _EPTMPL270448 HVD_N_nw -outputlayer BESIDE_POST_DRIVER_NMOS_RWi_25V;
SELECT -interact BESIDE_POST_DRIVER_NMOS_RWi_HV OD_18 -outputlayer BESIDE_POST_DRIVER_NMOS_RWi_18V;
NOT BESIDE_POST_DRIVER_NMOS_RWi BESIDE_POST_DRIVER_NMOS_RWi_HV -outputlayer BESIDE_POST_DRIVER_NMOS_RWi_LV;
OR POST_DRIVER_NACT BESIDE_POST_DRIVER_NMOS -outputlayer _EPTMPL270452;
SELECT -enclose PTAP_guard_ring_hole _EPTMPL270452 -outputlayer PTAP_guard_ring_holex;
OR POST_DRIVER_PACT BESIDE_POST_DRIVER_PMOS -outputlayer _EPTMPL270454;
SELECT -enclose NTAP_guard_ring_hole _EPTMPL270454 -outputlayer NTAP_guard_ring_holex;
SELECT -touch PSTPi PTAP_guard_ring_holex -outputlayer _EPTMPL270456;
WITH_WIDTH _EPTMPL270456 -ge "LUP_3_W" -outputlayer PTAP_guard_ring_wide;
SELECT -touch NSTPi NTAP_guard_ring_holex -outputlayer _EPTMPL270458;
WITH_WIDTH _EPTMPL270458 -ge "LUP_3_W" -outputlayer NTAP_guard_ring_wide;
EDGE_BOOLEAN -coincident_only -outside -not PW_inside_guard_ring PTAP_guard_ring_wide -outputlayer PW_inside_guard_ring_wide_pre1;
SELECT -with_edge -not PW_inside_guard_ring PW_inside_guard_ring_wide_pre1 -outputlayer PW_inside_guard_ring_wide;
EDGE_BOOLEAN -coincident_only -outside -not NW_inside_guard_ring NTAP_guard_ring_wide -outputlayer NW_inside_guard_ring_wide_pre1;
SELECT -with_edge -not NW_inside_guard_ring NW_inside_guard_ring_wide_pre1 -outputlayer NW_inside_guard_ring_wide;
HOLES PTAP_guard_ring_wide -inner -outputlayer _EPTMPL270464;
OR _EPTMPL270464 PW_inside_guard_ring_wide -outputlayer PTAP_guard_ring_wide_hole;
HOLES NTAP_guard_ring_wide -inner -outputlayer _EPTMPL270466;
OR _EPTMPL270466 NW_inside_guard_ring_wide -outputlayer NTAP_guard_ring_wide_hole;
SELECT -inside -not POST_DRIVER_PMOS_NW NTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_PMOS_NW_NG;
SELECT -inside -not POST_DRIVER_PMOS_NW_HV NTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_PMOS_NW_HV_NG;
SELECT -inside -not POST_DRIVER_PMOS_NW_5V NTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_PMOS_NW_5V_NG;
SELECT -inside -not POST_DRIVER_PMOS_NW_33V NTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_PMOS_NW_33V_NG;
SELECT -inside -not POST_DRIVER_PMOS_NW_25V NTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_PMOS_NW_25V_NG;
SELECT -inside -not POST_DRIVER_PMOS_NW_18V NTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_PMOS_NW_18V_NG;
SELECT -inside -not POST_DRIVER_PMOS_NW_LV NTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_PMOS_NW_LV_NG;
SELECT -inside -not POST_DRIVER_PMOS_NWi NTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_PMOS_NWi_NG;
SELECT -inside -not POST_DRIVER_PMOS_NWi_HV NTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_PMOS_NWi_HV_NG;
SELECT -inside -not POST_DRIVER_PMOS_NWi_5V NTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_PMOS_NWi_5V_NG;
SELECT -inside -not POST_DRIVER_PMOS_NWi_33V NTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_PMOS_NWi_33V_NG;
SELECT -inside -not POST_DRIVER_PMOS_NWi_25V NTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_PMOS_NWi_25V_NG;
SELECT -inside -not POST_DRIVER_PMOS_NWi_18V NTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_PMOS_NWi_18V_NG;
SELECT -inside -not POST_DRIVER_PMOS_NWi_LV NTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_PMOS_NWi_LV_NG;
SELECT -inside -not POST_DRIVER_NMOS_RW PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NMOS_RW_NG;
SELECT -inside -not POST_DRIVER_NMOS_RW_HV PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NMOS_RW_HV_NG;
SELECT -inside -not POST_DRIVER_NMOS_RW_5V PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NMOS_RW_5V_NG;
SELECT -inside -not POST_DRIVER_NMOS_RW_33V PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NMOS_RW_33V_NG;
SELECT -inside -not POST_DRIVER_NMOS_RW_25V PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NMOS_RW_25V_NG;
SELECT -inside -not POST_DRIVER_NMOS_RW_18V PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NMOS_RW_18V_NG;
SELECT -inside -not POST_DRIVER_NMOS_RW_LV PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NMOS_RW_LV_NG;
SELECT -inside -not POST_DRIVER_NMOS_PW PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NMOS_PW_NG;
SELECT -inside -not POST_DRIVER_NMOS_PW_HV PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NMOS_PW_HV_NG;
SELECT -inside -not POST_DRIVER_NMOS_PW_5V PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NMOS_PW_5V_NG;
SELECT -inside -not POST_DRIVER_NMOS_PW_33V PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NMOS_PW_33V_NG;
SELECT -inside -not POST_DRIVER_NMOS_PW_25V PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NMOS_PW_25V_NG;
SELECT -inside -not POST_DRIVER_NMOS_PW_18V PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NMOS_PW_18V_NG;
SELECT -inside -not POST_DRIVER_NMOS_PW_LV PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NMOS_PW_LV_NG;
SELECT -inside -not POST_DRIVER_NMOS_RWi PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NMOS_RWi_NG;
SELECT -inside -not POST_DRIVER_NMOS_RWi_HV PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NMOS_RWi_HV_NG;
SELECT -inside -not POST_DRIVER_NMOS_RWi_5V PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NMOS_RWi_5V_NG;
SELECT -inside -not POST_DRIVER_NMOS_RWi_33V PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NMOS_RWi_33V_NG;
SELECT -inside -not POST_DRIVER_NMOS_RWi_25V PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NMOS_RWi_25V_NG;
SELECT -inside -not POST_DRIVER_NMOS_RWi_18V PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NMOS_RWi_18V_NG;
SELECT -inside -not POST_DRIVER_NMOS_RWi_LV PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NMOS_RWi_LV_NG;
SELECT -inside -not BESIDE_POST_DRIVER_PMOS_NW NTAP_guard_ring_wide_hole -outputlayer BESIDE_POST_DRIVER_PMOS_NW_NG;
SELECT -inside -not BESIDE_POST_DRIVER_PMOS_NW_5V NTAP_guard_ring_wide_hole -outputlayer BESIDE_POST_DRIVER_PMOS_NW_5V_NG;
SELECT -inside -not BESIDE_POST_DRIVER_PMOS_NW_33V NTAP_guard_ring_wide_hole -outputlayer BESIDE_POST_DRIVER_PMOS_NW_33V_NG;
SELECT -inside -not BESIDE_POST_DRIVER_PMOS_NW_25V NTAP_guard_ring_wide_hole -outputlayer BESIDE_POST_DRIVER_PMOS_NW_25V_NG;
SELECT -inside -not BESIDE_POST_DRIVER_PMOS_NW_18V NTAP_guard_ring_wide_hole -outputlayer BESIDE_POST_DRIVER_PMOS_NW_18V_NG;
SELECT -inside -not BESIDE_POST_DRIVER_PMOS_NW_LV NTAP_guard_ring_wide_hole -outputlayer BESIDE_POST_DRIVER_PMOS_NW_LV_NG;
SELECT -inside -not BESIDE_POST_DRIVER_PMOS_NWi NTAP_guard_ring_wide_hole -outputlayer BESIDE_POST_DRIVER_PMOS_NWi_NG;
SELECT -inside -not BESIDE_POST_DRIVER_PMOS_NWi_5V NTAP_guard_ring_wide_hole -outputlayer BESIDE_POST_DRIVER_PMOS_NWi_5V_NG;
SELECT -inside -not BESIDE_POST_DRIVER_PMOS_NWi_33V NTAP_guard_ring_wide_hole -outputlayer BESIDE_POST_DRIVER_PMOS_NWi_33V_NG;
SELECT -inside -not BESIDE_POST_DRIVER_PMOS_NWi_25V NTAP_guard_ring_wide_hole -outputlayer BESIDE_POST_DRIVER_PMOS_NWi_25V_NG;
SELECT -inside -not BESIDE_POST_DRIVER_PMOS_NWi_18V NTAP_guard_ring_wide_hole -outputlayer BESIDE_POST_DRIVER_PMOS_NWi_18V_NG;
SELECT -inside -not BESIDE_POST_DRIVER_PMOS_NWi_LV NTAP_guard_ring_wide_hole -outputlayer BESIDE_POST_DRIVER_PMOS_NWi_LV_NG;
SELECT -inside -not BESIDE_POST_DRIVER_NMOS_RW PTAP_guard_ring_wide_hole -outputlayer BESIDE_POST_DRIVER_NMOS_RW_NG;
SELECT -inside -not BESIDE_POST_DRIVER_NMOS_PW PTAP_guard_ring_wide_hole -outputlayer BESIDE_POST_DRIVER_NMOS_PW_NG;
SELECT -inside -not BESIDE_POST_DRIVER_NMOS_RW_5V PTAP_guard_ring_wide_hole -outputlayer BESIDE_POST_DRIVER_NMOS_RW_5V_NG;
SELECT -inside -not BESIDE_POST_DRIVER_NMOS_RW_33V PTAP_guard_ring_wide_hole -outputlayer BESIDE_POST_DRIVER_NMOS_RW_33V_NG;
SELECT -inside -not BESIDE_POST_DRIVER_NMOS_RW_25V PTAP_guard_ring_wide_hole -outputlayer BESIDE_POST_DRIVER_NMOS_RW_25V_NG;
SELECT -inside -not BESIDE_POST_DRIVER_NMOS_RW_18V PTAP_guard_ring_wide_hole -outputlayer BESIDE_POST_DRIVER_NMOS_RW_18V_NG;
SELECT -inside -not BESIDE_POST_DRIVER_NMOS_RW_LV PTAP_guard_ring_wide_hole -outputlayer BESIDE_POST_DRIVER_NMOS_RW_LV_NG;
SELECT -inside -not BESIDE_POST_DRIVER_NMOS_PW_5V PTAP_guard_ring_wide_hole -outputlayer BESIDE_POST_DRIVER_NMOS_PW_5V_NG;
SELECT -inside -not BESIDE_POST_DRIVER_NMOS_PW_33V PTAP_guard_ring_wide_hole -outputlayer BESIDE_POST_DRIVER_NMOS_PW_33V_NG;
SELECT -inside -not BESIDE_POST_DRIVER_NMOS_PW_25V PTAP_guard_ring_wide_hole -outputlayer BESIDE_POST_DRIVER_NMOS_PW_25V_NG;
SELECT -inside -not BESIDE_POST_DRIVER_NMOS_PW_18V PTAP_guard_ring_wide_hole -outputlayer BESIDE_POST_DRIVER_NMOS_PW_18V_NG;
SELECT -inside -not BESIDE_POST_DRIVER_NMOS_PW_LV PTAP_guard_ring_wide_hole -outputlayer BESIDE_POST_DRIVER_NMOS_PW_LV_NG;
SELECT -inside -not BESIDE_POST_DRIVER_NMOS_RWi PTAP_guard_ring_wide_hole -outputlayer BESIDE_POST_DRIVER_NMOS_RWi_NG;
SELECT -inside -not BESIDE_POST_DRIVER_NMOS_RWi_5V PTAP_guard_ring_wide_hole -outputlayer BESIDE_POST_DRIVER_NMOS_RWi_5V_NG;
SELECT -inside -not BESIDE_POST_DRIVER_NMOS_RWi_33V PTAP_guard_ring_wide_hole -outputlayer BESIDE_POST_DRIVER_NMOS_RWi_33V_NG;
SELECT -inside -not BESIDE_POST_DRIVER_NMOS_RWi_25V PTAP_guard_ring_wide_hole -outputlayer BESIDE_POST_DRIVER_NMOS_RWi_25V_NG;
SELECT -inside -not BESIDE_POST_DRIVER_NMOS_RWi_18V PTAP_guard_ring_wide_hole -outputlayer BESIDE_POST_DRIVER_NMOS_RWi_18V_NG;
SELECT -inside -not BESIDE_POST_DRIVER_NMOS_RWi_LV PTAP_guard_ring_wide_hole -outputlayer BESIDE_POST_DRIVER_NMOS_RWi_LV_NG;
SELECT -inside -not POST_DRIVER_PINJ_NW_5V NTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_PINJ_NW_5V_NG;
SELECT -inside -not POST_DRIVER_PINJ_NW_33V NTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_PINJ_NW_33V_NG;
SELECT -inside -not POST_DRIVER_PINJ_NW_25V NTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_PINJ_NW_25V_NG;
SELECT -inside -not POST_DRIVER_PINJ_NW_18V NTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_PINJ_NW_18V_NG;
SELECT -inside -not POST_DRIVER_PINJ_NW_LV NTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_PINJ_NW_LV_NG;
SELECT -inside -not POST_DRIVER_NINJ_RW_5V PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NINJ_RW_5V_NG;
SELECT -inside -not POST_DRIVER_NINJ_RW_33V PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NINJ_RW_33V_NG;
SELECT -inside -not POST_DRIVER_NINJ_RW_25V PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NINJ_RW_25V_NG;
SELECT -inside -not POST_DRIVER_NINJ_RW_18V PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NINJ_RW_18V_NG;
SELECT -inside -not POST_DRIVER_NINJ_RW_LV PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NINJ_RW_LV_NG;
SELECT -inside -not POST_DRIVER_NINJ_PW_5V PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NINJ_PW_5V_NG;
SELECT -inside -not POST_DRIVER_NINJ_PW_33V PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NINJ_PW_33V_NG;
SELECT -inside -not POST_DRIVER_NINJ_PW_25V PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NINJ_PW_25V_NG;
SELECT -inside -not POST_DRIVER_NINJ_PW_18V PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NINJ_PW_18V_NG;
SELECT -inside -not POST_DRIVER_NINJ_PW_LV PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NINJ_PW_LV_NG;
STAMP POST_DRIVER_PINJ NWi -outputlayer POST_DRIVER_PINJ_NWi;
SELECT -interact POST_DRIVER_PINJ_NWi OD2 -outputlayer POST_DRIVER_PINJ_NWi_HV;
SELECT -interact POST_DRIVER_PINJ_NWi_HV HVD_P -outputlayer POST_DRIVER_PINJ_NWi_5V;
SELECT -interact POST_DRIVER_PINJ_NWi_HV OD_33 -outputlayer POST_DRIVER_PINJ_NWi_33V;
SELECT -interact POST_DRIVER_PINJ_NWi_HV OD_25 -outputlayer POST_DRIVER_PINJ_NWi_25V;
SELECT -interact POST_DRIVER_PINJ_NWi_HV OD_18 -outputlayer POST_DRIVER_PINJ_NWi_18V;
NOT POST_DRIVER_PINJ_NWi POST_DRIVER_PINJ_NWi_HV -outputlayer POST_DRIVER_PINJ_NWi_LV;
SELECT -inside POST_DRIVER_NINJ DNW -outputlayer _EPTMPL270555;
STAMP _EPTMPL270555 DNWc -outputlayer POST_DRIVER_NINJ_RWi;
SELECT -interact POST_DRIVER_NINJ_RWi OD2 -outputlayer POST_DRIVER_NINJ_RWi_HV;
SELECT -interact POST_DRIVER_NINJ_RWi_HV HVD_N_nw -outputlayer POST_DRIVER_NINJ_RWi_5V;
SELECT -interact POST_DRIVER_NINJ_RWi_HV OD_33 -outputlayer POST_DRIVER_NINJ_RWi_33V;
SELECT -interact POST_DRIVER_NINJ_RWi_HV OD_25 -outputlayer POST_DRIVER_NINJ_RWi_25V;
SELECT -interact POST_DRIVER_NINJ_RWi_HV OD_18 -outputlayer POST_DRIVER_NINJ_RWi_18V;
NOT POST_DRIVER_NINJ_RWi POST_DRIVER_NINJ_RWi_HV -outputlayer POST_DRIVER_NINJ_RWi_LV;
SELECT -inside -not POST_DRIVER_PINJ_NWi_5V NTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_PINJ_NWi_5V_NG;
SELECT -inside -not POST_DRIVER_PINJ_NWi_33V NTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_PINJ_NWi_33V_NG;
SELECT -inside -not POST_DRIVER_PINJ_NWi_25V NTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_PINJ_NWi_25V_NG;
SELECT -inside -not POST_DRIVER_PINJ_NWi_18V NTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_PINJ_NWi_18V_NG;
SELECT -inside -not POST_DRIVER_PINJ_NWi_LV NTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_PINJ_NWi_LV_NG;
SELECT -inside -not POST_DRIVER_NINJ_RWi_5V PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NINJ_RWi_5V_NG;
SELECT -inside -not POST_DRIVER_NINJ_RWi_33V PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NINJ_RWi_33V_NG;
SELECT -inside -not POST_DRIVER_NINJ_RWi_25V PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NINJ_RWi_25V_NG;
SELECT -inside -not POST_DRIVER_NINJ_RWi_18V PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NINJ_RWi_18V_NG;
SELECT -inside -not POST_DRIVER_NINJ_RWi_LV PTAP_guard_ring_wide_hole -outputlayer POST_DRIVER_NINJ_RWi_LV_NG;

RULE LUP.1g {
    CAPTION "Any N+ OD injector or an N+ OD injector cluster connected to an I/O pad must be surrounded by a P+ guard-ring.";
    CAPTION "Any P+ OD injector or a P+ OD injector cluster connected to an I/O pad must be surrounded by a N+ guard-ring.";
    SELECT -inside -not POST_DRIVER_NACT PTAP_guard_ring_hole ; // -outputlayer _EPTMPL270573
    SELECT -inside -not POST_DRIVER_PACT NTAP_guard_ring_hole ; // -outputlayer _EPTMPL270574
}

RULE LUP.2g {
    CAPTION "Within 15 um space from the OD injector, a P+ guard-ring is required to surround an NMOS or an NMOS cluster. And an N+ guard-ring is required to surround a PMOS or a PMOS cluster.";
    SELECT -interact DNW BESIDE_POST_DRIVER_NMOS_RW -outputlayer _EPTMPL270575;
    SELECT -interact NWEL _EPTMPL270575 -outputlayer _EPTMPL270576;
    SELECT -interact _EPTMPL270576 POST_DRIVER_PMOS_NW -outputlayer _EPTMPL270577;
    SELECT -interact DNW _EPTMPL270577 -outputlayer _EPTMPL270578;
    SELECT -interact BESIDE_POST_DRIVER_NMOS_RW _EPTMPL270578 -outputlayer X;
    EXTE POST_DRIVER_PMOS_NWi BESIDE_POST_DRIVER_NMOS_RWi -lt "LUP_2" -abut -lt 90 -single_point -not_connected -output positive2 -outputlayer Y;
    SELECT -interact -not BESIDE_POST_DRIVER_NMOS_RWi X -outputlayer _EPTMPL270581;
    SELECT -with_edge -not _EPTMPL270581 Y -outputlayer BESIDE_POST_DRIVER_NMOS_waive;
    NOT BESIDE_POST_DRIVER_NMOS BESIDE_POST_DRIVER_NMOS_waive -outputlayer _EPTMPL270583;
    SELECT -inside -not _EPTMPL270583 PTAP_guard_ring_hole ; // -outputlayer _EPTMPL270584
    SELECT -inside -not BESIDE_POST_DRIVER_PMOS NTAP_guard_ring_hole ; // -outputlayer _EPTMPL270585
}

RULE LUP.3.1.1g {
    CAPTION "For the 1.2V or 1.0V N/PMOS which connects to an I/O pad, space between the NMOS and the PMOS >= 2 um";
    EXTE POST_DRIVER_NMOS_PW_LV POST_DRIVER_PMOS_NW_LV -lt "LUP_3_1_1" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270586
    EXTE POST_DRIVER_NMOS_RW_LV POST_DRIVER_PMOS_NW_LV -lt "LUP_3_1_1" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270587
    EXTE POST_DRIVER_NMOS_RWi_LV POST_DRIVER_PMOS_NWi_LV -lt "LUP_3_1_1" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270588
}

RULE LUP.3.1.2g {
    CAPTION "For the 1.2V or 1.0V N/PMOS which connects to an I/O pad, space between the NMOS and the PMOS >= 3 um";
    CAPTION "if one of guard-ring < 0.2 um";
    EXTE POST_DRIVER_NMOS_PW_LV_NG POST_DRIVER_PMOS_NW_LV -lt "LUP_3_1_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270589
    EXTE POST_DRIVER_NMOS_RW_LV_NG POST_DRIVER_PMOS_NW_LV -lt "LUP_3_1_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270590
    EXTE POST_DRIVER_NMOS_RWi_LV_NG POST_DRIVER_PMOS_NWi_LV -lt "LUP_3_1_2" -abut -lt 90 -single_point -output region -not_connected ; // -outputlayer _EPTMPL270591
    EXTE POST_DRIVER_NMOS_PW_LV POST_DRIVER_PMOS_NW_LV_NG -lt "LUP_3_1_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270592
    EXTE POST_DRIVER_NMOS_RW_LV POST_DRIVER_PMOS_NW_LV_NG -lt "LUP_3_1_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270593
    EXTE POST_DRIVER_NMOS_RWi_LV POST_DRIVER_PMOS_NWi_LV_NG -lt "LUP_3_1_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270594
}

RULE LUP.3.2.1g {
    CAPTION "For the 1.8V N/PMOS which connects to an I/O pad directly, space between the 1.8V NMOS and the 1.8V/1.2V/1.0V PMOS, space between the 1.8V PMOS and the 1.8V/1.2V/1.0V NMOS >= 2.3 um";
    EXTE POST_DRIVER_NMOS_PW_18V POST_DRIVER_PMOS_NW_18V -lt "LUP_3_2_1" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270595
    EXTE POST_DRIVER_NMOS_PW_18V POST_DRIVER_PMOS_NW_LV -lt "LUP_3_2_1" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270596
    EXTE POST_DRIVER_NMOS_PW_LV POST_DRIVER_PMOS_NW_18V -lt "LUP_3_2_1" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270597
    EXTE POST_DRIVER_NMOS_RW_18V POST_DRIVER_PMOS_NW_18V -lt "LUP_3_2_1" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270598
    EXTE POST_DRIVER_NMOS_RW_18V POST_DRIVER_PMOS_NW_LV -lt "LUP_3_2_1" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270599
    EXTE POST_DRIVER_NMOS_RW_LV POST_DRIVER_PMOS_NW_18V -lt "LUP_3_2_1" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270600
    EXTE POST_DRIVER_NMOS_RWi_18V POST_DRIVER_PMOS_NWi_18V -lt "LUP_3_2_1" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270601
    EXTE POST_DRIVER_NMOS_RWi_18V POST_DRIVER_PMOS_NWi_LV -lt "LUP_3_2_1" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270602
    EXTE POST_DRIVER_NMOS_RWi_LV POST_DRIVER_PMOS_NWi_18V -lt "LUP_3_2_1" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270603
}

RULE LUP.3.2.2g {
    CAPTION "For the 1.8V N/PMOS which connects to an I/O pad directly, space between the 1.8V NMOS and the 1.8V/1.2V/1.0V PMOS, space between the 1.8V PMOS and the 1.8V/1.2V/1.0V NMOS >= 4 um  if one of guard-ring < 0.2 um";
    EXTE POST_DRIVER_NMOS_PW_18V_NG POST_DRIVER_PMOS_NW_18V -lt "LUP_3_2_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270604
    EXTE POST_DRIVER_NMOS_PW_18V_NG POST_DRIVER_PMOS_NW_LV -lt "LUP_3_2_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270605
    EXTE POST_DRIVER_NMOS_PW_LV_NG POST_DRIVER_PMOS_NW_18V -lt "LUP_3_2_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270606
    EXTE POST_DRIVER_NMOS_RW_18V_NG POST_DRIVER_PMOS_NW_18V -lt "LUP_3_2_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270607
    EXTE POST_DRIVER_NMOS_RW_18V_NG POST_DRIVER_PMOS_NW_LV -lt "LUP_3_2_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270608
    EXTE POST_DRIVER_NMOS_RW_LV_NG POST_DRIVER_PMOS_NW_18V -lt "LUP_3_2_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270609
    EXTE POST_DRIVER_NMOS_RWi_18V_NG POST_DRIVER_PMOS_NWi_18V -lt "LUP_3_2_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270610
    EXTE POST_DRIVER_NMOS_RWi_18V_NG POST_DRIVER_PMOS_NWi_LV -lt "LUP_3_2_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270611
    EXTE POST_DRIVER_NMOS_RWi_LV_NG POST_DRIVER_PMOS_NWi_18V -lt "LUP_3_2_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270612
    EXTE POST_DRIVER_NMOS_PW_18V POST_DRIVER_PMOS_NW_18V_NG -lt "LUP_3_2_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270613
    EXTE POST_DRIVER_NMOS_PW_18V POST_DRIVER_PMOS_NW_LV_NG -lt "LUP_3_2_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270614
    EXTE POST_DRIVER_NMOS_PW_LV POST_DRIVER_PMOS_NW_18V_NG -lt "LUP_3_2_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270615
    EXTE POST_DRIVER_NMOS_RW_18V POST_DRIVER_PMOS_NW_18V_NG -lt "LUP_3_2_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270616
    EXTE POST_DRIVER_NMOS_RW_18V POST_DRIVER_PMOS_NW_LV_NG -lt "LUP_3_2_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270617
    EXTE POST_DRIVER_NMOS_RW_LV POST_DRIVER_PMOS_NW_18V_NG -lt "LUP_3_2_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270618
    EXTE POST_DRIVER_NMOS_RWi_18V POST_DRIVER_PMOS_NWi_18V_NG -lt "LUP_3_2_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270619
    EXTE POST_DRIVER_NMOS_RWi_18V POST_DRIVER_PMOS_NWi_LV_NG -lt "LUP_3_2_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270620
    EXTE POST_DRIVER_NMOS_RWi_LV POST_DRIVER_PMOS_NWi_18V_NG -lt "LUP_3_2_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270621
}

RULE LUP.3.3.1g {
    CAPTION "For the 2.5V N/PMOS which connects to an I/O pad directly, space between the 2.5V NMOS and the 2.5V/1.2V/1.0V PMOS, space between the 2.5V PMOS and the 2.5V/1.2V/1.0V NMOS >= 2.6 um";
    EXTE POST_DRIVER_NMOS_PW_25V POST_DRIVER_PMOS_NW_25V -lt "LUP_3_3_1" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270622
    EXTE POST_DRIVER_NMOS_PW_25V POST_DRIVER_PMOS_NW_LV -lt "LUP_3_3_1" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270623
    EXTE POST_DRIVER_NMOS_PW_LV POST_DRIVER_PMOS_NW_25V -lt "LUP_3_3_1" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270624
    EXTE POST_DRIVER_NMOS_RW_25V POST_DRIVER_PMOS_NW_25V -lt "LUP_3_3_1" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270625
    EXTE POST_DRIVER_NMOS_RW_25V POST_DRIVER_PMOS_NW_LV -lt "LUP_3_3_1" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270626
    EXTE POST_DRIVER_NMOS_RW_LV POST_DRIVER_PMOS_NW_25V -lt "LUP_3_3_1" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270627
    EXTE POST_DRIVER_NMOS_RWi_25V POST_DRIVER_PMOS_NWi_25V -lt "LUP_3_3_1" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270628
    EXTE POST_DRIVER_NMOS_RWi_25V POST_DRIVER_PMOS_NWi_LV -lt "LUP_3_3_1" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270629
    EXTE POST_DRIVER_NMOS_RWi_LV POST_DRIVER_PMOS_NWi_25V -lt "LUP_3_3_1" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270630
}

RULE LUP.3.3.2g {
    CAPTION "For the 2.5V N/PMOS which connects to an I/O pad directly, space between the 2.5V NMOS and the 2.5V/1.2V/1.0V PMOS, space between the 2.5V PMOS and the 2.5V/1.2V/1.0V NMOS >= 5 um if one of guard-ring < 0.2 um";
    EXTE POST_DRIVER_NMOS_PW_25V_NG POST_DRIVER_PMOS_NW_25V -lt "LUP_3_3_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270631
    EXTE POST_DRIVER_NMOS_PW_25V_NG POST_DRIVER_PMOS_NW_LV -lt "LUP_3_3_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270632
    EXTE POST_DRIVER_NMOS_PW_LV_NG POST_DRIVER_PMOS_NW_25V -lt "LUP_3_3_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270633
    EXTE POST_DRIVER_NMOS_RW_25V_NG POST_DRIVER_PMOS_NW_25V -lt "LUP_3_3_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270634
    EXTE POST_DRIVER_NMOS_RW_25V_NG POST_DRIVER_PMOS_NW_LV -lt "LUP_3_3_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270635
    EXTE POST_DRIVER_NMOS_RW_LV_NG POST_DRIVER_PMOS_NW_25V -lt "LUP_3_3_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270636
    EXTE POST_DRIVER_NMOS_RWi_25V_NG POST_DRIVER_PMOS_NWi_25V -lt "LUP_3_3_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270637
    EXTE POST_DRIVER_NMOS_RWi_25V_NG POST_DRIVER_PMOS_NWi_LV -lt "LUP_3_3_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270638
    EXTE POST_DRIVER_NMOS_RWi_LV_NG POST_DRIVER_PMOS_NWi_25V -lt "LUP_3_3_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270639
    EXTE POST_DRIVER_NMOS_PW_25V POST_DRIVER_PMOS_NW_25V_NG -lt "LUP_3_3_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270640
    EXTE POST_DRIVER_NMOS_PW_25V POST_DRIVER_PMOS_NW_LV_NG -lt "LUP_3_3_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270641
    EXTE POST_DRIVER_NMOS_PW_LV POST_DRIVER_PMOS_NW_25V_NG -lt "LUP_3_3_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270642
    EXTE POST_DRIVER_NMOS_RW_25V POST_DRIVER_PMOS_NW_25V_NG -lt "LUP_3_3_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270643
    EXTE POST_DRIVER_NMOS_RW_25V POST_DRIVER_PMOS_NW_LV_NG -lt "LUP_3_3_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270644
    EXTE POST_DRIVER_NMOS_RW_LV POST_DRIVER_PMOS_NW_25V_NG -lt "LUP_3_3_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270645
    EXTE POST_DRIVER_NMOS_RWi_25V POST_DRIVER_PMOS_NWi_25V_NG -lt "LUP_3_3_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270646
    EXTE POST_DRIVER_NMOS_RWi_25V POST_DRIVER_PMOS_NWi_LV_NG -lt "LUP_3_3_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270647
    EXTE POST_DRIVER_NMOS_RWi_LV POST_DRIVER_PMOS_NWi_25V_NG -lt "LUP_3_3_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270648
}

RULE LUP.3.4.1g {
    CAPTION "For the 3.3V N/PMOS which connects to an I/O pad directly, space between the 3.3V NMOS and the 3.3V/1.2V/1.0V PMOS, space between the 3.3V PMOS and the 3.3V/1.2V/1.0V NMOS >= 4 um";
    EXTE POST_DRIVER_NMOS_PW_33V POST_DRIVER_PMOS_NW_33V -lt "LUP_3_4_1" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270649
    EXTE POST_DRIVER_NMOS_PW_33V POST_DRIVER_PMOS_NW_LV -lt "LUP_3_4_1" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270650
    EXTE POST_DRIVER_NMOS_PW_LV POST_DRIVER_PMOS_NW_33V -lt "LUP_3_4_1" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270651
    EXTE POST_DRIVER_NMOS_RW_33V POST_DRIVER_PMOS_NW_33V -lt "LUP_3_4_1" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270652
    EXTE POST_DRIVER_NMOS_RW_33V POST_DRIVER_PMOS_NW_LV -lt "LUP_3_4_1" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270653
    EXTE POST_DRIVER_NMOS_RW_LV POST_DRIVER_PMOS_NW_33V -lt "LUP_3_4_1" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270654
    EXTE POST_DRIVER_NMOS_RWi_33V POST_DRIVER_PMOS_NWi_33V -lt "LUP_3_4_1" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270655
    EXTE POST_DRIVER_NMOS_RWi_33V POST_DRIVER_PMOS_NWi_LV -lt "LUP_3_4_1" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270656
    EXTE POST_DRIVER_NMOS_RWi_LV POST_DRIVER_PMOS_NWi_33V -lt "LUP_3_4_1" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270657
}

RULE LUP.3.4.2g {
    CAPTION "For the 3.3V N/PMOS which connects to an I/O pad directly, space between the 3.3V NMOS and the 3.3V/1.2V/1.0V PMOS, space between the 3.3V PMOS and the 3.3V/1.2V/1.0V NMOS >= 8 um if one of guard-ring < 0.2 um";
    EXTE POST_DRIVER_NMOS_PW_33V_NG POST_DRIVER_PMOS_NW_33V -lt "LUP_3_4_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270658
    EXTE POST_DRIVER_NMOS_PW_33V_NG POST_DRIVER_PMOS_NW_LV -lt "LUP_3_4_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270659
    EXTE POST_DRIVER_NMOS_PW_LV_NG POST_DRIVER_PMOS_NW_33V -lt "LUP_3_4_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270660
    EXTE POST_DRIVER_NMOS_RW_33V_NG POST_DRIVER_PMOS_NW_33V -lt "LUP_3_4_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270661
    EXTE POST_DRIVER_NMOS_RW_33V_NG POST_DRIVER_PMOS_NW_LV -lt "LUP_3_4_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270662
    EXTE POST_DRIVER_NMOS_RW_LV_NG POST_DRIVER_PMOS_NW_33V -lt "LUP_3_4_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270663
    EXTE POST_DRIVER_NMOS_RWi_33V_NG POST_DRIVER_PMOS_NWi_33V -lt "LUP_3_4_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270664
    EXTE POST_DRIVER_NMOS_RWi_33V_NG POST_DRIVER_PMOS_NWi_LV -lt "LUP_3_4_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270665
    EXTE POST_DRIVER_NMOS_RWi_LV_NG POST_DRIVER_PMOS_NWi_33V -lt "LUP_3_4_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270666
    EXTE POST_DRIVER_NMOS_PW_33V POST_DRIVER_PMOS_NW_33V_NG -lt "LUP_3_4_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270667
    EXTE POST_DRIVER_NMOS_PW_33V POST_DRIVER_PMOS_NW_LV_NG -lt "LUP_3_4_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270668
    EXTE POST_DRIVER_NMOS_PW_LV POST_DRIVER_PMOS_NW_33V_NG -lt "LUP_3_4_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270669
    EXTE POST_DRIVER_NMOS_RW_33V POST_DRIVER_PMOS_NW_33V_NG -lt "LUP_3_4_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270670
    EXTE POST_DRIVER_NMOS_RW_33V POST_DRIVER_PMOS_NW_LV_NG -lt "LUP_3_4_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270671
    EXTE POST_DRIVER_NMOS_RW_LV POST_DRIVER_PMOS_NW_33V_NG -lt "LUP_3_4_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270672
    EXTE POST_DRIVER_NMOS_RWi_33V POST_DRIVER_PMOS_NWi_33V_NG -lt "LUP_3_4_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270673
    EXTE POST_DRIVER_NMOS_RWi_33V POST_DRIVER_PMOS_NWi_LV_NG -lt "LUP_3_4_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270674
    EXTE POST_DRIVER_NMOS_RWi_LV POST_DRIVER_PMOS_NWi_33V_NG -lt "LUP_3_4_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270675
}

RULE LUP.4g {
    CAPTION "Width of the N+ guard-ring, P+ guard-ring, N+ STRAP and P+ STRAP for the OD injector, and also MOS within 15 um space from OD injector. >= 0.12 um";
    SELECT -touch PSTPi PTAP_guard_ring_holex -outputlayer _EPTMPL270676;
    WITH_WIDTH _EPTMPL270676 -ge "LUP_4" -outputlayer PTAP_guard_ring_wide2;
    SELECT -touch NSTPi NTAP_guard_ring_holex -outputlayer _EPTMPL270678;
    WITH_WIDTH _EPTMPL270678 -ge "LUP_4" -outputlayer NTAP_guard_ring_wide2;
    EDGE_BOOLEAN -coincident_only -outside -not PW_inside_guard_ring PTAP_guard_ring_wide2 -outputlayer PW_inside_guard_ring_wide2_pre1;
    SELECT -with_edge -not PW_inside_guard_ring PW_inside_guard_ring_wide2_pre1 -outputlayer PW_inside_guard_ring_wide2;
    EDGE_BOOLEAN -coincident_only -outside -not NW_inside_guard_ring NTAP_guard_ring_wide2 -outputlayer NW_inside_guard_ring_wide2_pre1;
    SELECT -with_edge -not NW_inside_guard_ring NW_inside_guard_ring_wide2_pre1 -outputlayer NW_inside_guard_ring_wide2;
    HOLES PTAP_guard_ring_wide2 -inner -outputlayer _EPTMPL270684;
    OR _EPTMPL270684 PW_inside_guard_ring_wide2 -outputlayer PTAP_guard_ring_wide2_hole;
    HOLES NTAP_guard_ring_wide2 -inner -outputlayer _EPTMPL270686;
    OR _EPTMPL270686 NW_inside_guard_ring_wide2 -outputlayer NTAP_guard_ring_wide2_hole;
    SELECT -inside -not PTAP_guard_ring_holex PTAP_guard_ring_wide2_hole -outputlayer PTAP_guard_ring_hole_check;
    SELECT -inside -not NTAP_guard_ring_holex NTAP_guard_ring_wide2_hole -outputlayer NTAP_guard_ring_hole_check;
    EDGE_BOOLEAN -coincident_only -outside PSTPi PTAP_guard_ring_hole_check -outputlayer PTAP_guard_ring_check;
    EDGE_BOOLEAN -coincident_only -outside NSTPi NTAP_guard_ring_hole_check -outputlayer NTAP_guard_ring_check;
    INTE PTAP_guard_ring_check PSTPi -lt "LUP_4" -abut -lt 90 -output region ; // -outputlayer _EPTMPL270692
    INTE NTAP_guard_ring_check NSTPi -lt "LUP_4" -abut -lt 90 -output region ; // -outputlayer _EPTMPL270693
}

RULE LUP.5.1.1g {
    CAPTION "Minimum space >= 2 um";
    CAPTION "1. between 1.2V-1.0V N+ OD injector which connects to the IO pad and the the PMOS in the internal circuit";
    CAPTION "2. between 1.2V-1.0V P+ OD injector which connects to the IO pad and the the NMOS in the internal circuit";
    EXTE POST_DRIVER_PINJ_NW_LV BESIDE_POST_DRIVER_NMOS_PW -lt "LUP_5_1_1" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270694
    EXTE POST_DRIVER_PINJ_NW_LV BESIDE_POST_DRIVER_NMOS_RW -lt "LUP_5_1_1" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270695
    EXTE POST_DRIVER_PINJ_NWi_LV BESIDE_POST_DRIVER_NMOS_RWi -lt "LUP_5_1_1" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270696
    EXTE POST_DRIVER_NINJ_PW_LV BESIDE_POST_DRIVER_PMOS_NW -lt "LUP_5_1_1" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270697
    EXTE POST_DRIVER_NINJ_RW_LV BESIDE_POST_DRIVER_PMOS_NW -lt "LUP_5_1_1" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270698
    EXTE POST_DRIVER_NINJ_RWi_LV BESIDE_POST_DRIVER_PMOS_NWi -lt "LUP_5_1_1" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270699
}

RULE LUP.5.1.2g {
    CAPTION "Minimum space >= 3 um if one of guard-ring < 0.2 um";
    CAPTION "1. between 1.2V-1.0V N+ OD injector which connects to the IO pad and the the PMOS in the internal circuit";
    CAPTION "2. between 1.2V-1.0V P+ OD injector which connects to the IO pad and the the NMOS in the internal circuit";
    EXTE POST_DRIVER_PINJ_NW_LV_NG BESIDE_POST_DRIVER_NMOS_PW -lt "LUP_5_1_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270700
    EXTE POST_DRIVER_PINJ_NW_LV_NG BESIDE_POST_DRIVER_NMOS_RW -lt "LUP_5_1_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270701
    EXTE POST_DRIVER_PINJ_NWi_LV_NG BESIDE_POST_DRIVER_NMOS_RWi -lt "LUP_5_1_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270702
    EXTE POST_DRIVER_NINJ_PW_LV_NG BESIDE_POST_DRIVER_PMOS_NW -lt "LUP_5_1_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270703
    EXTE POST_DRIVER_NINJ_RW_LV_NG BESIDE_POST_DRIVER_PMOS_NW -lt "LUP_5_1_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270704
    EXTE POST_DRIVER_NINJ_RWi_LV_NG BESIDE_POST_DRIVER_PMOS_NWi -lt "LUP_5_1_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270705
    EXTE POST_DRIVER_PINJ_NW_LV BESIDE_POST_DRIVER_NMOS_PW_NG -lt "LUP_5_1_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270706
    EXTE POST_DRIVER_PINJ_NW_LV BESIDE_POST_DRIVER_NMOS_RW_NG -lt "LUP_5_1_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270707
    EXTE POST_DRIVER_PINJ_NWi_LV BESIDE_POST_DRIVER_NMOS_RWi_NG -lt "LUP_5_1_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270708
    EXTE POST_DRIVER_NINJ_PW_LV BESIDE_POST_DRIVER_PMOS_NW_NG -lt "LUP_5_1_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270709
    EXTE POST_DRIVER_NINJ_RW_LV BESIDE_POST_DRIVER_PMOS_NW_NG -lt "LUP_5_1_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270710
    EXTE POST_DRIVER_NINJ_RWi_LV BESIDE_POST_DRIVER_PMOS_NWi_NG -lt "LUP_5_1_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270711
}

RULE LUP.5.2.1g {
    CAPTION "Minimum space >= 2.3 um";
    CAPTION "1. between 1.8V N+ OD injector which connects to the IO pad and the the PMOS in the internal circuit";
    CAPTION "2. between 1.8V P+ OD injector which connects to the IO pad and the the NMOS in the internal circuit";
    EXTE POST_DRIVER_PINJ_NW_18V BESIDE_POST_DRIVER_NMOS_PW -lt "LUP_5_2_1" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270712
    EXTE POST_DRIVER_PINJ_NW_18V BESIDE_POST_DRIVER_NMOS_RW -lt "LUP_5_2_1" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270713
    EXTE POST_DRIVER_PINJ_NWi_18V BESIDE_POST_DRIVER_NMOS_RWi -lt "LUP_5_2_1" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270714
    EXTE POST_DRIVER_NINJ_PW_18V BESIDE_POST_DRIVER_PMOS_NW -lt "LUP_5_2_1" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270715
    EXTE POST_DRIVER_NINJ_RW_18V BESIDE_POST_DRIVER_PMOS_NW -lt "LUP_5_2_1" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270716
    EXTE POST_DRIVER_NINJ_RWi_18V BESIDE_POST_DRIVER_PMOS_NWi -lt "LUP_5_2_1" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270717
}

RULE LUP.5.2.2g {
    CAPTION "Minimum space >= 4 um if one of guard-ring < 0.2 um";
    CAPTION "1. between 1.8V N+ OD injector which connects to the IO pad and the the PMOS in the internal circuit";
    CAPTION "2. between 1.8V P+ OD injector which connects to the IO pad and the the NMOS in the internal circuit";
    EXTE POST_DRIVER_PINJ_NW_18V_NG BESIDE_POST_DRIVER_NMOS_PW -lt "LUP_5_2_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270718
    EXTE POST_DRIVER_PINJ_NW_18V_NG BESIDE_POST_DRIVER_NMOS_RW -lt "LUP_5_2_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270719
    EXTE POST_DRIVER_PINJ_NWi_18V_NG BESIDE_POST_DRIVER_NMOS_RWi -lt "LUP_5_2_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270720
    EXTE POST_DRIVER_NINJ_PW_18V_NG BESIDE_POST_DRIVER_PMOS_NW -lt "LUP_5_2_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270721
    EXTE POST_DRIVER_NINJ_RW_18V_NG BESIDE_POST_DRIVER_PMOS_NW -lt "LUP_5_2_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270722
    EXTE POST_DRIVER_NINJ_RWi_18V_NG BESIDE_POST_DRIVER_PMOS_NWi -lt "LUP_5_2_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270723
    EXTE POST_DRIVER_PINJ_NW_18V BESIDE_POST_DRIVER_NMOS_PW_NG -lt "LUP_5_2_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270724
    EXTE POST_DRIVER_PINJ_NW_18V BESIDE_POST_DRIVER_NMOS_RW_NG -lt "LUP_5_2_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270725
    EXTE POST_DRIVER_PINJ_NWi_18V BESIDE_POST_DRIVER_NMOS_RWi_NG -lt "LUP_5_2_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270726
    EXTE POST_DRIVER_NINJ_PW_18V BESIDE_POST_DRIVER_PMOS_NW_NG -lt "LUP_5_2_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270727
    EXTE POST_DRIVER_NINJ_RW_18V BESIDE_POST_DRIVER_PMOS_NW_NG -lt "LUP_5_2_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270728
    EXTE POST_DRIVER_NINJ_RWi_18V BESIDE_POST_DRIVER_PMOS_NWi_NG -lt "LUP_5_2_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270729
}

RULE LUP.5.3.1g {
    CAPTION "Minimum space >= 2.6 um";
    CAPTION "1. between 2.5V N+ OD injector which connects to the IO pad and the the PMOS in the internal circuit";
    CAPTION "2. between 2.5V P+ OD injector which connects to the IO pad and the the NMOS in the internal circuit";
    EXTE POST_DRIVER_PINJ_NW_25V BESIDE_POST_DRIVER_NMOS_PW -lt "LUP_5_3_1" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270730
    EXTE POST_DRIVER_PINJ_NW_25V BESIDE_POST_DRIVER_NMOS_RW -lt "LUP_5_3_1" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270731
    EXTE POST_DRIVER_PINJ_NWi_25V BESIDE_POST_DRIVER_NMOS_RWi -lt "LUP_5_3_1" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270732
    EXTE POST_DRIVER_NINJ_PW_25V BESIDE_POST_DRIVER_PMOS_NW -lt "LUP_5_3_1" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270733
    EXTE POST_DRIVER_NINJ_RW_25V BESIDE_POST_DRIVER_PMOS_NW -lt "LUP_5_3_1" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270734
    EXTE POST_DRIVER_NINJ_RWi_25V BESIDE_POST_DRIVER_PMOS_NWi -lt "LUP_5_3_1" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270735
}

RULE LUP.5.3.2g {
    CAPTION "Minimum space >= 5 um if one of guard-ring < 0.2 um";
    CAPTION "1. between 2.5V N+ OD injector which connects to the IO pad and the the PMOS in the internal circuit";
    CAPTION "2. between 2.5V P+ OD injector which connects to the IO pad and the the NMOS in the internal circuit";
    EXTE POST_DRIVER_PINJ_NW_25V_NG BESIDE_POST_DRIVER_NMOS_PW -lt "LUP_5_3_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270736
    EXTE POST_DRIVER_PINJ_NW_25V_NG BESIDE_POST_DRIVER_NMOS_RW -lt "LUP_5_3_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270737
    EXTE POST_DRIVER_PINJ_NWi_25V_NG BESIDE_POST_DRIVER_NMOS_RWi -lt "LUP_5_3_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270738
    EXTE POST_DRIVER_NINJ_PW_25V_NG BESIDE_POST_DRIVER_PMOS_NW -lt "LUP_5_3_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270739
    EXTE POST_DRIVER_NINJ_RW_25V_NG BESIDE_POST_DRIVER_PMOS_NW -lt "LUP_5_3_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270740
    EXTE POST_DRIVER_NINJ_RWi_25V_NG BESIDE_POST_DRIVER_PMOS_NWi -lt "LUP_5_3_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270741
    EXTE POST_DRIVER_PINJ_NW_25V BESIDE_POST_DRIVER_NMOS_PW_NG -lt "LUP_5_3_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270742
    EXTE POST_DRIVER_PINJ_NW_25V BESIDE_POST_DRIVER_NMOS_RW_NG -lt "LUP_5_3_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270743
    EXTE POST_DRIVER_PINJ_NWi_25V BESIDE_POST_DRIVER_NMOS_RWi_NG -lt "LUP_5_3_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270744
    EXTE POST_DRIVER_NINJ_PW_25V BESIDE_POST_DRIVER_PMOS_NW_NG -lt "LUP_5_3_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270745
    EXTE POST_DRIVER_NINJ_RW_25V BESIDE_POST_DRIVER_PMOS_NW_NG -lt "LUP_5_3_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270746
    EXTE POST_DRIVER_NINJ_RWi_25V BESIDE_POST_DRIVER_PMOS_NWi_NG -lt "LUP_5_3_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270747
}

RULE LUP.5.4.1g {
    CAPTION "Minimum space >= 4 um";
    CAPTION "1. between 3.3V N+ OD injector which connects to the IO pad and the the PMOS in the internal circuit";
    CAPTION "2. between 3.3V P+ OD injector which connects to the IO pad and the the NMOS in the internal circuit";
    EXTE POST_DRIVER_PINJ_NW_33V BESIDE_POST_DRIVER_NMOS_PW -lt "LUP_5_4_1" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270748
    EXTE POST_DRIVER_PINJ_NW_33V BESIDE_POST_DRIVER_NMOS_RW -lt "LUP_5_4_1" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270749
    EXTE POST_DRIVER_PINJ_NWi_33V BESIDE_POST_DRIVER_NMOS_RWi -lt "LUP_5_4_1" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270750
    EXTE POST_DRIVER_NINJ_PW_33V BESIDE_POST_DRIVER_PMOS_NW -lt "LUP_5_4_1" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270751
    EXTE POST_DRIVER_NINJ_RW_33V BESIDE_POST_DRIVER_PMOS_NW -lt "LUP_5_4_1" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270752
    EXTE POST_DRIVER_NINJ_RWi_33V BESIDE_POST_DRIVER_PMOS_NWi -lt "LUP_5_4_1" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270753
}

RULE LUP.5.4.2g {
    CAPTION "Minimum space >= 8 um if one of guard-ring < 0.2 um";
    CAPTION "1. between 3.3V N+ OD injector which connects to the IO pad and the the PMOS in the internal circuit";
    CAPTION "2. between 3.3V P+ OD injector which connects to the IO pad and the the NMOS in the internal circuit";
    EXTE POST_DRIVER_PINJ_NW_33V_NG BESIDE_POST_DRIVER_NMOS_PW -lt "LUP_5_4_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270754
    EXTE POST_DRIVER_PINJ_NW_33V_NG BESIDE_POST_DRIVER_NMOS_RW -lt "LUP_5_4_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270755
    EXTE POST_DRIVER_PINJ_NWi_33V_NG BESIDE_POST_DRIVER_NMOS_RWi -lt "LUP_5_4_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270756
    EXTE POST_DRIVER_NINJ_PW_33V_NG BESIDE_POST_DRIVER_PMOS_NW -lt "LUP_5_4_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270757
    EXTE POST_DRIVER_NINJ_RW_33V_NG BESIDE_POST_DRIVER_PMOS_NW -lt "LUP_5_4_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270758
    EXTE POST_DRIVER_NINJ_RWi_33V_NG BESIDE_POST_DRIVER_PMOS_NWi -lt "LUP_5_4_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270759
    EXTE POST_DRIVER_PINJ_NW_33V BESIDE_POST_DRIVER_NMOS_PW_NG -lt "LUP_5_4_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270760
    EXTE POST_DRIVER_PINJ_NW_33V BESIDE_POST_DRIVER_NMOS_RW_NG -lt "LUP_5_4_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270761
    EXTE POST_DRIVER_PINJ_NWi_33V BESIDE_POST_DRIVER_NMOS_RWi_NG -lt "LUP_5_4_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270762
    EXTE POST_DRIVER_NINJ_PW_33V BESIDE_POST_DRIVER_PMOS_NW_NG -lt "LUP_5_4_2" -abut -lt 90 -single_point ; // -outputlayer _EPTMPL270763
    EXTE POST_DRIVER_NINJ_RW_33V BESIDE_POST_DRIVER_PMOS_NW_NG -lt "LUP_5_4_2" -abut -lt 90 -single_point -connected ; // -outputlayer _EPTMPL270764
    EXTE POST_DRIVER_NINJ_RWi_33V BESIDE_POST_DRIVER_PMOS_NWi_NG -lt "LUP_5_4_2" -abut -lt 90 -single_point -not_connected ; // -outputlayer _EPTMPL270765
}
SELECT -outside -not PSDc COi -outputlayer _EPTMPL270766;
OR COi _EPTMPL270766 -outputlayer CO_PACT;
SELECT -interact NSTPi CO_PACT -outputlayer NPUi;
SELECT -inside NPUi SRM -outputlayer NPUi_SRAM;
SIZE NPUi -by "LUP_6" -inside_of NWi -step "NW_S_1*0.7" -truncate "NW_S_1*0.7" -outputlayer NSTP_OS;
SIZE NPUi_SRAM -by "LUP_6_SRAM" -inside_of NWi -step "NW_S_1*0.7" -truncate "NW_S_1*0.7" -outputlayer NSTP_OS_SRAM;
SELECT -interact PACTi COi -outputlayer _EPTMPL270772;
SELECT -interact _EPTMPL270772 POi -outputlayer _EPTMPL270773;
NOT _EPTMPL270773 POi -outputlayer PACT_CHECK;
SELECT -inside -not PACT_CHECK SRM -outputlayer PACT_CHECK_NON_SRAM;
SELECT -inside PACT_CHECK SRM -outputlayer PACT_CHECK_SRAM;
SELECT -outside -not NSDc COi -outputlayer _EPTMPL270777;
OR COi _EPTMPL270777 -outputlayer CO_NACT;
SELECT -interact PSTPi CO_NACT -outputlayer PPUi;
SELECT -inside PPUi SRM -outputlayer PPUi_SRAM;
SIZE PPUi -by "LUP_6" -inside_of PWELi -step "NW_S_1*0.7" -truncate "NW_S_1*0.7" -outputlayer PSTP_OS;
SIZE PPUi_SRAM -by "LUP_6_SRAM" -inside_of PWELi -step "NW_S_1*0.7" -truncate "NW_S_1*0.7" -outputlayer PSTP_OS_SRAM;
SELECT -interact NACTi COi -outputlayer _EPTMPL270783;
SELECT -interact _EPTMPL270783 POi -outputlayer _EPTMPL270784;
NOT _EPTMPL270784 POi -outputlayer NACT_CHECK;
SELECT -inside -not NACT_CHECK SRM -outputlayer NACT_CHECK_NON_SRAM;
SELECT -inside NACT_CHECK SRM -outputlayer NACT_CHECK_SRAM;

RULE LUP.6 {
    CAPTION "Any point inside NMOS source/drain space to the nearest PW STRAP in the same PW <= 30 um";
    CAPTION "Any point inside PMOS source/drain space to the nearest NW STRAP in the same NW <= 30 um";
    CAPTION "In SRAM bit cell region, the rule is relaxed to 40 um";
    NOT PACT_CHECK_NON_SRAM NSTP_OS ; // -outputlayer _EPTMPL270788
    OR NSTP_OS NSTP_OS_SRAM -outputlayer _EPTMPL270789;
    NOT PACT_CHECK_SRAM _EPTMPL270789 ; // -outputlayer _EPTMPL270790
    NOT NACT_CHECK_NON_SRAM PSTP_OS ; // -outputlayer _EPTMPL270791
    OR PSTP_OS PSTP_OS_SRAM -outputlayer _EPTMPL270792;
    NOT NACT_CHECK_SRAM _EPTMPL270792 ; // -outputlayer _EPTMPL270793
}

RULE LUP.10__LUP.13 {
    CAPTION "For Area I/O, within 75 um from OD injector (covered by LUPWDMY_2),";
    CAPTION "Any point inside NMOS source/drain space to the nearest PW STRAP in the same PW <= 15 um";
    CAPTION "Any point inside PMOS source/drain space to the nearest NW STRAP in the same NW <= 15 um";
    SELECT -outside -not POST_DRIVER_ACT LUPWDMY_2 -outputlayer TRIGGER_SOURCE;
    NOT NACT_CHECK TRIGGER_SOURCE -outputlayer _EPTMPL270795;
    SELECT -inside -not _EPTMPL270795 PTAP_guard_ring_hole -outputlayer CORE_LOGIC_NACT;
    NOT PACT_CHECK TRIGGER_SOURCE -outputlayer _EPTMPL270797;
    SELECT -inside -not _EPTMPL270797 NTAP_guard_ring_hole -outputlayer CORE_LOGIC_PACT;
    SIZE TRIGGER_SOURCE -by "LUP_10" -bevel 4 -outputlayer _EPTMPL270799;
    SELECT -outside -not CORE_LOGIC_NACT _EPTMPL270799 -outputlayer NACT_LUP_pre;
    SIZE TRIGGER_SOURCE -by "LUP_10" -bevel 4 -outputlayer _EPTMPL270801;
    SELECT -outside -not CORE_LOGIC_PACT _EPTMPL270801 -outputlayer PACT_LUP_pre;
    SIZE PACT_LUP_pre -by "LUP_10E" -overunder -outputlayer _EPTMPL270803;
    SIZE _EPTMPL270803 -by "LUP_10E" -bevel 4 -outputlayer _EPTMPL270804;
    SELECT -outside -not NACT_LUP_pre _EPTMPL270804 -outputlayer NACT_LUP;
    SIZE NACT_LUP_pre -by "LUP_10E" -overunder -outputlayer _EPTMPL270806;
    SIZE _EPTMPL270806 -by "LUP_10E" -bevel 4 -outputlayer _EPTMPL270807;
    SELECT -outside -not PACT_LUP_pre _EPTMPL270807 -outputlayer PACT_LUP;
    SIZE PPUi -by "LUP_13" -inside_of PWELi -step "NW_S_1*0.7" -truncate "NW_S_1*0.7" -outputlayer PSTP_OS;
    NOT NACT_LUP PSTP_OS ; // -outputlayer _EPTMPL270810
    SIZE NPUi -by "LUP_13" -inside_of NWi -step "NW_S_1*0.7" -truncate "NW_S_1*0.7" -outputlayer NSTP_OS;
    NOT PACT_LUP NSTP_OS ; // -outputlayer _EPTMPL270812
}

RULE LUP.14.g {
    CAPTION "For Area I/O, width of picup ring and guard rings for the OD injector >= 0.2";
    SELECT -outside -not POST_DRIVER_NACT LUPWDMY_2 -outputlayer AREA_IO_NACT;
    SELECT -outside -not POST_DRIVER_PACT LUPWDMY_2 -outputlayer AREA_IO_PACT;
    SELECT -inside -not AREA_IO_NACT PTAP_guard_ring_hole ; // -outputlayer _EPTMPL270815
    SELECT -inside -not AREA_IO_PACT NTAP_guard_ring_hole ; // -outputlayer _EPTMPL270816
    HOLES PSTPi -inner -outputlayer _EPTMPL270817;
    SELECT -interact _EPTMPL270817 AREA_IO_PACT -outputlayer _EPTMPL270818;
    SELECT -interact -not _EPTMPL270818 NACT -outputlayer PTAP_guard_ring_2nd;
    HOLES NSTPi -inner -outputlayer _EPTMPL270820;
    SELECT -interact _EPTMPL270820 AREA_IO_NACT -outputlayer _EPTMPL270821;
    SELECT -interact -not _EPTMPL270821 PACT -outputlayer NTAP_guard_ring_2nd;
    SELECT -inside -not AREA_IO_NACT NTAP_guard_ring_2nd ; // -outputlayer _EPTMPL270823
    SELECT -inside -not AREA_IO_PACT PTAP_guard_ring_2nd ; // -outputlayer _EPTMPL270824
    SELECT -interact PTAP_guard_ring_hole AREA_IO_NACT -outputlayer _EPTMPL270825;
    EDGE_BOOLEAN -coincident_only -outside PSTPi _EPTMPL270825 -outputlayer PTAP_guard_ring_hole_edge;
    SELECT -interact NTAP_guard_ring_hole AREA_IO_PACT -outputlayer _EPTMPL270827;
    EDGE_BOOLEAN -coincident_only -outside NSTPi _EPTMPL270827 -outputlayer NTAP_guard_ring_hole_edge;
    INTE PTAP_guard_ring_hole_edge PSTPi -lt "LUP_14" -abut -lt 90 -output region ; // -outputlayer _EPTMPL270829
    INTE NTAP_guard_ring_hole_edge NSTPi -lt "LUP_14" -abut -lt 90 -output region ; // -outputlayer _EPTMPL270830
    EDGE_BOOLEAN -coincident_only -outside PSTPi PTAP_guard_ring_2nd -outputlayer PTAP_guard_ring_2nd_edge;
    EDGE_BOOLEAN -coincident_only -outside NSTPi NTAP_guard_ring_2nd -outputlayer NTAP_guard_ring_2nd_edge;
    INTE PTAP_guard_ring_2nd_edge PSTPi -lt "LUP_14" -abut -lt 90 -output region ; // -outputlayer _EPTMPL270833
    INTE NTAP_guard_ring_2nd_edge NSTPi -lt "LUP_14" -abut -lt 90 -output region ; // -outputlayer _EPTMPL270834
}
SELECT -interact NSDc NMOSi -outputlayer _EPTMPL270835;
SELECT -interact _EPTMPL270835 OD2 -outputlayer NSDc_HVMOS;
SELECT -interact NSDc NMOSi -outputlayer _EPTMPL270837;
SELECT -interact -not _EPTMPL270837 OD2 -outputlayer NSDc_LVMOS;
SELECT -interact PSDc PMOSi -outputlayer _EPTMPL270839;
SELECT -interact _EPTMPL270839 OD2 -outputlayer PSDc_HVMOS;
SELECT -interact PSDc PMOSi -outputlayer _EPTMPL270841;
SELECT -interact -not _EPTMPL270841 OD2 -outputlayer PSDc_LVMOS;
SELECT -interact NSDc_HVMOS SDI -outputlayer NSDc_HVMOS_SDI;
SELECT -interact NSDc_LVMOS SDI -outputlayer NSDc_LVMOS_SDI;
SELECT -interact PSDc_HVMOS SDI -outputlayer PSDc_HVMOS_SDI;
SELECT -interact PSDc_LVMOS SDI -outputlayer PSDc_LVMOS_SDI;
STAMP HV_GATE ILP1i -outputlayer HV_GATEc;
STAMP LV_GATE ILP1i -outputlayer LV_GATEc;
SELECT -interact PACTi POi -outputlayer _EPTMPL270849;
SELECT -interact _EPTMPL270849 COi -outputlayer PMOSi;
SELECT -interact NACTi POi -outputlayer _EPTMPL270851;
SELECT -interact _EPTMPL270851 COi -outputlayer NMOSi;
AND SDI PMOSi -outputlayer ESD_PMOS;
AND SDI NMOSi -outputlayer ESD_NMOS;
OR ESD_PMOS ESD_NMOS -outputlayer ESD_MOS;
AND SDI GATE -outputlayer ESD_GATE;
SELECT -inside ESD_GATE RPO -outputlayer ESD_GATE_fully_RPO;
SELECT -cut ESD_GATE RPO -outputlayer ESD_GATE_partial_RPO;
SELECT -interact ESD_GATE RPO -outputlayer ESD_GATE_RPO;
SELECT -interact -not ESD_GATE RPO -outputlayer ESD_GATE_noRPO;
EDGE_BOOLEAN -inside GATE_W SDI -outputlayer ESD_GATE_W;
EDGE_BOOLEAN -inside GATE_L SDI -outputlayer ESD_GATE_L;
AND COOD ESD_MOS -outputlayer ESD_COOD;
SELECT -interact NSDc CO -outputlayer _EPTMPL270864;
STAMP NSDi _EPTMPL270864 -outputlayer _EPTMPL270865;
SELECT -interact _EPTMPL270865 ESD_GATE -outputlayer ESD_NSD;
SELECT -interact PSDc CO -outputlayer _EPTMPL270867;
STAMP PSDi _EPTMPL270867 -outputlayer _EPTMPL270868;
SELECT -interact _EPTMPL270868 ESD_GATE -outputlayer ESD_PSD;
SELECT -interact -not ESD_NSD CO -outputlayer ESD_NSD_STACK;
NOT PSTPi DIODMY -outputlayer PSTPi_real;
NOT NSTPi DIODMY -outputlayer NSTPi_real;
ANTENNA ESD_NSD PSTPi_real -gt 0 -expr "  !!AREA(ESD_NSD)*!!AREA(PSTPi_real)  " -outputlayer ESD_NMOS_SOURCE_pre1;
OR ESD_NMOS_SOURCE_pre1 ESD_GATE -outputlayer _EPTMPL270874;
OR _EPTMPL270874 ESD_NSD_STACK -outputlayer _EPTMPL270875;
SELECT -interact _EPTMPL270875 ESD_NMOS_SOURCE_pre1 -outputlayer ESD_NMOS_SOURCE_pre2;
NOT ESD_NSD ESD_NMOS_SOURCE_pre2 -outputlayer _EPTMPL270877;
SELECT -interact _EPTMPL270877 ESD_NMOS_SOURCE_pre2 -outputlayer ESD_NMOS_DRAIN_pre1;
OR ESD_NMOS_DRAIN_pre1 ESD_GATE -outputlayer _EPTMPL270879;
OR _EPTMPL270879 ESD_NSD_STACK -outputlayer _EPTMPL270880;
SELECT -interact _EPTMPL270880 ESD_NMOS_DRAIN_pre1 -outputlayer ESD_NMOS_DRAIN_pre2;
NOT ESD_NSD ESD_NMOS_DRAIN_pre2 -outputlayer _EPTMPL270882;
SELECT -interact _EPTMPL270882 ESD_NMOS_DRAIN_pre2 -outputlayer ESD_NMOS_SOURCE_pre3;
OR ESD_NMOS_SOURCE_pre1 ESD_NMOS_SOURCE_pre3 -outputlayer ESD_NMOS_SOURCE_pre4;
NOT ESD_NSD ESD_NMOS_SOURCE_pre4 -outputlayer ESD_NMOS_DRAIN_pre4;
SELECT -interact ESD_NMOS ESD_NMOS_SOURCE_pre4 -outputlayer _EPTMPL270886;
SELECT -interact _EPTMPL270886 ESD_NMOS_DRAIN_pre4 -outputlayer ESD_NMOS_normal;
NOT ESD_NMOS ESD_NMOS_normal -outputlayer ESD_NMOS_special;
SELECT -interact ESD_NSD ESD_NMOS_special -outputlayer _EPTMPL270889;
SELECT -interact -not _EPTMPL270889 RPO -outputlayer _EPTMPL270890;
SELECT -interact ESD_NMOS_SOURCE_pre4 ESD_NMOS_normal -outputlayer _EPTMPL270891;
OR _EPTMPL270890 _EPTMPL270891 -outputlayer ESD_NMOS_SOURCE;
NOT ESD_NSD ESD_NMOS_SOURCE -outputlayer _EPTMPL270893;
SELECT -inside -not _EPTMPL270893 RPO -outputlayer ESD_NMOS_DRAIN;
ANTENNA ESD_PSD NSTPi_real -gt 0 -expr "  !!AREA(ESD_PSD)*!!AREA(NSTPi_real)  " -outputlayer ESD_PMOS_SOURCE_pre1;
SELECT -interact ESD_GATE ESD_PMOS_SOURCE_pre1 -outputlayer _EPTMPL270896;
OR ESD_PMOS_SOURCE_pre1 _EPTMPL270896 -outputlayer ESD_PMOS_SOURCE_pre2;
NOT ESD_PSD ESD_PMOS_SOURCE_pre2 -outputlayer _EPTMPL270898;
SELECT -interact _EPTMPL270898 ESD_PMOS_SOURCE_pre2 -outputlayer ESD_PMOS_DRAIN_pre1;
SELECT -interact ESD_GATE ESD_PMOS_DRAIN_pre1 -outputlayer _EPTMPL270900;
OR ESD_PMOS_DRAIN_pre1 _EPTMPL270900 -outputlayer ESD_PMOS_DRAIN_pre2;
NOT ESD_PSD ESD_PMOS_DRAIN_pre2 -outputlayer _EPTMPL270902;
SELECT -interact _EPTMPL270902 ESD_PMOS_DRAIN_pre2 -outputlayer ESD_PMOS_SOURCE_pre3;
OR ESD_PMOS_SOURCE_pre1 ESD_PMOS_SOURCE_pre3 -outputlayer ESD_PMOS_SOURCE_pre4;
NOT ESD_PSD ESD_PMOS_SOURCE_pre4 -outputlayer ESD_PMOS_DRAIN_pre4;
SELECT -interact ESD_PMOS ESD_PMOS_SOURCE_pre4 -outputlayer _EPTMPL270906;
SELECT -interact _EPTMPL270906 ESD_PMOS_DRAIN_pre4 -outputlayer ESD_PMOS_normal;
NOT ESD_PMOS ESD_PMOS_normal -outputlayer ESD_PMOS_special;
SELECT -interact ESD_PSD ESD_PMOS_special -outputlayer _EPTMPL270909;
SELECT -interact -not _EPTMPL270909 RPO -outputlayer _EPTMPL270910;
SELECT -interact ESD_PMOS_SOURCE_pre4 ESD_PMOS_normal -outputlayer _EPTMPL270911;
OR _EPTMPL270910 _EPTMPL270911 -outputlayer ESD_PMOS_SOURCE;
NOT ESD_PSD ESD_PMOS_SOURCE -outputlayer _EPTMPL270913;
SELECT -inside -not _EPTMPL270913 RPO -outputlayer ESD_PMOS_DRAIN;
OR ESD_NMOS_SOURCE ESD_PMOS_SOURCE -outputlayer ESD_MOS_SOURCE;
OR ESD_NMOS_DRAIN ESD_PMOS_DRAIN -outputlayer ESD_MOS_DRAIN;
STAMP ESD_NMOS ESD_NMOS_DRAIN -outputlayer ESD_NMOSc;
STAMP ESD_PMOS ESD_PMOS_DRAIN -outputlayer ESD_PMOSc;

RULE ESD.WARN.1 {
    CAPTION "SDI is  not in whole chip";
    SELECT -interact -not CHIPx SDI ; // -outputlayer _EPTMPL270919
}

RULE ESD.WARN.2 {
    CAPTION "SDI encloure of ACTIVE >= 0";
    SELECT -interact DACT SDI -outputlayer _EPTMPL270920;
    NOT _EPTMPL270920 SDI ; // -outputlayer _EPTMPL270921
}
NOT PSTPi RWi -outputlayer PSTPix;

RULE ESD.1g {
    CAPTION "Use thin oxide transistor for thin oxide power clamp and thin oxide I/O buffers, use thick oxide transistor for the thick oxide Power Clamp and thick oxide I/O buffers (Figure XXX). DRC will flag the following one condition: (1) ((MOS INTERACT OD2) INTERACT SDI) connected to (MOS NOT INTERACT OD2) When turn off option 'DEFINE_PAD_BY_TEXT', DRC will exclude Drain/Source/Gate connected to {PW STRAP NOT RW}. When turn on option 'DEFINE_PAD_BY_TEXT', DRC will exclude Drain/Source/Gate connected to VSS net. (For more ESD design Tips, please see the 'Tips for ESD/LU design' section in this chapter.)";
    ANTENNA NSDc_HVMOS_SDI NSDc_LVMOS PSDc_LVMOS LV_GATEc PSTPix -gt 0 -expr "  !!AREA(NSDc_HVMOS_SDI)*!AREA(PSTPix)*(!!AREA(NSDc_LVMOS)+!!AREA(PSDc_LVMOS)+!!AREA(LV_GATEc))  " -rdb ESD.1g.hv_n.rep NSDc_HVMOS_SDI NSDc_LVMOS PSDc_LVMOS LV_GATEc ; // -outputlayer _EPTMPL270923
    ANTENNA PSDc_HVMOS_SDI NSDc_LVMOS PSDc_LVMOS LV_GATEc PSTPix -gt 0 -expr "  !!AREA(PSDc_HVMOS_SDI)*!AREA(PSTPix)*(!!AREA(NSDc_LVMOS)+!!AREA(PSDc_LVMOS)+!!AREA(LV_GATEc))  " -rdb ESD.1g.hv_p.rep PSDc_HVMOS_SDI NSDc_LVMOS PSDc_LVMOS LV_GATEc ; // -outputlayer _EPTMPL270924
}

RULE ESD.3g {
    CAPTION "Unit finger width of NMOS and PMOS for I/O buffer and Power Clamp Device  = 15-60";
    PATH_LENGTH ESD_GATE_W -lt "ESD_3g_MIN" ; // -outputlayer _EPTMPL270925
    PATH_LENGTH ESD_GATE_W -gt "ESD_3g_MAX" ; // -outputlayer _EPTMPL270926
}

RULE ESD.4g {
    CAPTION "The OD area of the edge side of I/O buffer and Power Clamp should be Source or Bulk rather than Drain, to avoid an unwanted parasitic bipolar effect or an abnormal discharge path in ESD zapping.";
    SELECT -interact NSDu ESD_GATE -eq 1 -outputlayer EDGE_NSD;
    NOT EDGE_NSD ESD_NMOS_SOURCE ; // -outputlayer _EPTMPL270928
    SELECT -interact PSDu ESD_GATE -eq 1 -outputlayer EDGE_PSD;
    NOT EDGE_PSD ESD_PMOS_SOURCE ; // -outputlayer _EPTMPL270930
}

RULE ESD.5g {
    CAPTION "For same type OD of the I/O buffer and Power Clamp should be surrounded by a guard-ring. All other type ODs should be placed outside this guard-ring.";
    SELECT -inside -not ESD_PMOS NTAP_guard_ring_hole ; // -outputlayer _EPTMPL270931
    SELECT -inside -not ESD_NMOS PTAP_guard_ring_hole ; // -outputlayer _EPTMPL270932
}

RULE ESD.6g {
    CAPTION "Butted STRAP and the STRAP which are between two sources of the N/PMOS in the same I/O buffer and Power Clamp are strictly prohibited.";
    EXTE ESD_NMOSc -lt "ESD_6g" -abut -lt 90 -metric opposite -output region -connected -outputlayer _EPTMPL270933;
    SELECT -interact -not _EPTMPL270933 GATE -outputlayer A;
    SELECT -interact A PSTPi ; // -outputlayer _EPTMPL270935
    EXTE ESD_PMOSc -lt "ESD_6g" -abut -lt 90 -metric opposite -output region -connected -outputlayer _EPTMPL270936;
    SELECT -interact -not _EPTMPL270936 GATE -outputlayer B;
    SELECT -interact B NSTPi ; // -outputlayer _EPTMPL270938
}
COPY NWEL -outputlayer NWELc;
CONNECT NWELc;
COPY PWEL -outputlayer PWELc;
CONNECT PWELc;

RULE ESD.7g {
    CAPTION "Except the ESD device, 2 separate same type ODs connected to 2 different signal PAD must follow one of the following: 1. The space of 2 same type ODs in the same well. 2. Two same type ODs should be separated by different types of OD. The same type ODs are N+OD and N+OD in the same PW or P-base substrate, or P+OD and P+OD in the same NW or N-base substrate, which conntect to 2 different signal PAD (Please refer to section XXX in detail) >= 2.4";
    SELECT -interact PACT PSD_IOPAD -outputlayer _EPTMPL270943;
    NOT _EPTMPL270943 ESD_PMOS -outputlayer PACT_CHECK;
    SELECT -interact PACT_CHECK PSD_IOPAD -eq 1 -by_net -outputlayer _EPTMPL270945;
    STAMP _EPTMPL270945 PSD_IOPAD -outputlayer PACT_CHECK_CB;
    EXTE PACT_CHECK_CB -lt "ESD_7g" -abut -lt 90 -single_point -output region -not_connected -outputlayer P1;
    SELECT -interact PACT_CHECK P1 -outputlayer _EPTMPL270948;
    STAMP _EPTMPL270948 NWELc -outputlayer PACT_CHECK_NW;
    EXTE PACT_CHECK_NW -lt "ESD_7g" -abut -lt 90 -single_point -output region -connected -outputlayer P2;
    AND P1 P2 -outputlayer P3;
    NOT P3 NSTPi -outputlayer _EPTMPL270952;
    SELECT -interact _EPTMPL270952 PACT_CHECK_CB -gt 1 -by_net ; // -outputlayer _EPTMPL270953
    SELECT -interact PACT_CHECK PSD_IOPAD -gt 1 -by_net ; // -outputlayer _EPTMPL270954
    SELECT -interact NACT NSD_IOPAD -outputlayer _EPTMPL270955;
    NOT _EPTMPL270955 ESD_NMOS -outputlayer NACT_CHECK;
    SELECT -interact NACT_CHECK NSD_IOPAD -eq 1 -by_net -outputlayer _EPTMPL270957;
    STAMP _EPTMPL270957 NSD_IOPAD -outputlayer NACT_CHECK_CB;
    EXTE NACT_CHECK_CB -lt "ESD_7g" -abut -lt 90 -single_point -output region -not_connected -outputlayer N1;
    SELECT -interact NACT_CHECK N1 -outputlayer _EPTMPL270960;
    STAMP _EPTMPL270960 PWELc -outputlayer NACT_CHECK_PW;
    EXTE NACT_CHECK_PW -lt "ESD_7g" -abut -lt 90 -single_point -output region -connected -outputlayer N2;
    AND N1 N2 -outputlayer N3;
    NOT N3 PSTPi -outputlayer _EPTMPL270964;
    SELECT -interact _EPTMPL270964 NACT_CHECK_CB -gt 1 -by_net ; // -outputlayer _EPTMPL270965
    SELECT -interact NACT_CHECK NSD_IOPAD -gt 1 -by_net ; // -outputlayer _EPTMPL270966
}
SELECT -interact -not NSTPu RNWEL -outputlayer _EPTMPL270967;
NOT _EPTMPL270967 VAR -outputlayer NSTPu_12g;
ANTENNA CBu NSTPu_12g -gt 0 -outputlayer VDD_CBu;
ANTENNA CBu PSTPu -gt 0 -outputlayer VSS_CBu;
ANTENNA CB2u NSTPu_12g -gt 0 -outputlayer VDD_CB2u;
ANTENNA CB2u PSTPu -gt 0 -outputlayer VSS_CB2u;
ANTENNA UBMn NSTPu_12g -gt 0 -outputlayer VDD_UBMnu;
ANTENNA UBMn PSTPu -gt 0 -outputlayer VSS_UBMnu;
ANTENNA UBMd NSTPu_12g -gt 0 -outputlayer VDD_UBMdu;
ANTENNA UBMd PSTPu -gt 0 -outputlayer VSS_UBMdu;
OR VDD_UBMnu VDD_UBMdu -outputlayer VDD_UBMu;
OR VSS_UBMnu VSS_UBMdu -outputlayer VSS_UBMu;
SELECT -interact CBu VDDDMY -outputlayer VDD_CB_BY_DUMMYu;
SELECT -interact CBu VSSDMY -outputlayer VSS_CB_BY_DUMMYu;
SELECT -interact CB2u VDDDMY -outputlayer VDD_CB2_BY_DUMMYu;
SELECT -interact CB2u VSSDMY -outputlayer VSS_CB2_BY_DUMMYu;
SELECT -interact UBMnu VDDDMY -outputlayer VDD_UBMn_BY_DUMMYu;
SELECT -interact UBMdu VDDDMY -outputlayer VDD_UBMd_BY_DUMMYu;
SELECT -interact UBMnu VSSDMY -outputlayer VSS_UBMn_BY_DUMMYu;
SELECT -interact UBMdu VSSDMY -outputlayer VSS_UBMd_BY_DUMMYu;
NOT CBu VDD_CBu -outputlayer _EPTMPL270987;
NOT _EPTMPL270987 VSS_CBu -outputlayer _EPTMPL270988;
NOT _EPTMPL270988 VDD_CB_BY_DUMMYu -outputlayer _EPTMPL270989;
NOT _EPTMPL270989 VSS_CB_BY_DUMMYu -outputlayer IO_CBu;
NOT CB2u VDD_CB2u -outputlayer _EPTMPL270991;
NOT _EPTMPL270991 VSS_CB2u -outputlayer _EPTMPL270992;
NOT _EPTMPL270992 VDD_CB2_BY_DUMMYu -outputlayer _EPTMPL270993;
NOT _EPTMPL270993 VSS_CB2_BY_DUMMYu -outputlayer IO_CB2u;
NOT UBMnu VDD_UBMu -outputlayer _EPTMPL270995;
NOT _EPTMPL270995 VSS_UBMu -outputlayer _EPTMPL270996;
NOT _EPTMPL270996 VDD_UBMn_BY_DUMMYu -outputlayer _EPTMPL270997;
NOT _EPTMPL270997 VSS_UBMn_BY_DUMMYu -outputlayer IO_UBMnu;
NOT UBMdu VDD_UBMu -outputlayer _EPTMPL270999;
NOT _EPTMPL270999 VSS_UBMu -outputlayer _EPTMPL271000;
NOT _EPTMPL271000 VDD_UBMd_BY_DUMMYu -outputlayer _EPTMPL271001;
NOT _EPTMPL271001 VSS_UBMd_BY_DUMMYu -outputlayer IO_UBMdu;

RULE ESD.12g {
    CAPTION "It is not allowed to use OD resistors or NW resistors connected to I/O PAD";
    NOT OD POLY -outputlayer _EPTMPL271003;
    SELECT -interact _EPTMPL271003 ODRES_ALL -outputlayer _EPTMPL271004;
    NOT _EPTMPL271004 ODRES_ALL -outputlayer ODRES_terminal;
    STAMP ODRES_terminal COu -outputlayer ODRES_terminalc;
    ANTENNA ODRES_terminalc -over IO_CBu IO_CB2u IO_UBMnu IO_UBMdu -gt 0 ; // -outputlayer _EPTMPL271007
    ANTENNA NWRuT -over IO_CBu IO_CB2u IO_UBMnu IO_UBMdu -gt 0 ; // -outputlayer _EPTMPL271008
}
EDGE_BOOLEAN -inside ESD_GATE_W PP -outputlayer ESD_PMOS_GATE_W;
EDGE_BOOLEAN -inside ESD_GATE_W NP -outputlayer ESD_NMOS_GATE_W;
EDGE_EXPAND ESD_PMOS_GATE_W -inside_by "GRID" -outputlayer _EPTMPL271011;
SELECT -interact _EPTMPL271011 ESD_PMOS_DRAIN -outputlayer ESD_PMOS_GATE_W_EXP;
EDGE_EXPAND ESD_NMOS_GATE_W -inside_by "GRID" -outputlayer _EPTMPL271013;
SELECT -interact _EPTMPL271013 ESD_NMOS_DRAIN -outputlayer ESD_NMOS_GATE_W_EXP;
STAMP ESD_PMOS_GATE_W_EXP ESD_PMOSc -outputlayer ESD_PMOS_GATE_W_EXPc;
STAMP ESD_NMOS_GATE_W_EXP ESD_NMOSc -outputlayer ESD_NMOS_GATE_W_EXPc;

RULE ESD.16g {
    CAPTION "Total finger width for NMOS in same connection > 360";
    CAPTION "ESD.24g/ESD.36g/ESD.44g/ESD.53g are also checked by ESD.16g";
    ANTENNA ESD_NMOS_GATE_W_EXPc -lt "ESD_16g" -expr "  (AREA(ESD_NMOS_GATE_W_EXPc))/GRID  " -rdb ESD.16g.NMOS.rep ESD_NMOS_GATE_W_EXPc ; // -outputlayer _EPTMPL271017
}

RULE ESD.17g {
    CAPTION "Total finger width for PMOS in same connection > 360";
    CAPTION "ESD.25g/ESD.45g are also checked by ESD.17g";
    ANTENNA ESD_PMOS_GATE_W_EXPc -lt "ESD_17g" -expr "  (AREA(ESD_PMOS_GATE_W_EXPc))/GRID  " -rdb ESD.17g.PMOS.rep ESD_PMOS_GATE_W_EXPc ; // -outputlayer _EPTMPL271018
}
EDGE_BOOLEAN -inside ESD_GATE_W OD_33 -outputlayer 33V_ESD_GATE_W;
EDGE_BOOLEAN -inside ESD_GATE_W OD_25 -outputlayer 25V_ESD_GATE_W;
EDGE_BOOLEAN -inside ESD_GATE_W OD_18 -outputlayer 18V_ESD_GATE_W;
EDGE_BOOLEAN -inside -not ESD_GATE_W OD2 -outputlayer LV_ESD_GATE_W;

RULE ESD.18g {
    CAPTION "Channel length of 3.3V I/O and Power Clamp >= 0.4";
    CAPTION "Channel length of 2.5V I/O and Power Clamp >= 0.35";
    CAPTION "Channel length of 1.8V I/O and Power Clamp >= 0.20";
    CAPTION "Channel length of 1.0V/1.2V I/O and Power Clamp >= 0.1";
    CAPTION "ESD.26g/ESD.38g/ESD.46g/ESD.54g are also checked by ESD.18g";
    INTE 33V_ESD_GATE_W -lt "ESD_18g_33V" -abut -lt 90 -output region ; // -outputlayer _EPTMPL271023
    INTE 25V_ESD_GATE_W -lt "ESD_18g_25V" -abut -lt 90 -output region ; // -outputlayer _EPTMPL271024
    INTE 18V_ESD_GATE_W -lt "ESD_18g_18V" -abut -lt 90 -output region ; // -outputlayer _EPTMPL271025
    INTE LV_ESD_GATE_W -lt "ESD_18g_10V" -abut -lt 90 -output region ; // -outputlayer _EPTMPL271026
}
SELECT -interact ESD_NMOS ESD_GATE_partial_RPO -outputlayer _EPTMPL271027;
SELECT -interact -not _EPTMPL271027 ESD_GATE_fully_RPO -outputlayer RegularIO_NMOS;
SELECT -interact ESD_PMOS ESD_GATE_partial_RPO -outputlayer _EPTMPL271029;
SELECT -interact -not _EPTMPL271029 ESD_GATE_fully_RPO -outputlayer RegularIO_PMOS;
OR RegularIO_NMOS RegularIO_PMOS -outputlayer RegularIO_MOS;
AND ESD_NMOS_DRAIN RegularIO_NMOS -outputlayer RegularIO_NMOS_DRAIN;
AND ESD_PMOS_DRAIN RegularIO_PMOS -outputlayer RegularIO_PMOS_DRAIN;
AND ESD_MOS_DRAIN RegularIO_MOS -outputlayer RegularIO_MOS_DRAIN;
AND ESD_GATE RegularIO_MOS -outputlayer RegularIO_GATE;

RULE ESD.19g {
    CAPTION "The NMOS and PMOS should have an unsilicided area on the drain side. That is, the RPO mask should block the drain side of the device (except the contact region which should remain silicided).";
    CAPTION "ESD.27g/ESD.39g are also checked by ESD.19g";
    SELECT -interact -not RegularIO_MOS_DRAIN RPO ; // -outputlayer _EPTMPL271036
    SELECT -interact -not RegularIO_MOS RPO ; // -outputlayer _EPTMPL271037
}

RULE ESD.20g {
    CAPTION "Overlap of RPO on the drain side to the poly gate =0.06";
    CAPTION "ESD.29g/ESD.40g are also checked by ESD.20g";
    EDGE_SELECT -coincident_only -outside ESD_GATE_W RegularIO_MOS_DRAIN -outputlayer X;
    EDGE_EXPAND X -inside_by "ESD_20g" -outputlayer A;
    AND RPO RegularIO_GATE -outputlayer B;
    XOR A B ; // -outputlayer _EPTMPL271041
}

RULE ESD.21g {
    CAPTION "Width of the RPO on the drain side for NMOS 	>= 1";
    CAPTION "ESD.41g is also checked by ESD.21g";
    AND RegularIO_NMOS_DRAIN RPO -outputlayer A;
    INTE A -lt "ESD_21g" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL271043
}

RULE ESD.22g {
    CAPTION "Width of the RPO on the drain side for PMOS 	>= 1.0";
    CAPTION "ESD.31g is also checked by ESD.22g";
    AND RegularIO_PMOS_DRAIN RPO -outputlayer A;
    INTE A -lt "ESD_22g" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL271045
}

RULE ESD.23g {
    CAPTION "Space of poly to CO on the source side >= 0.22";
    CAPTION "ESD.32g/ESD.42g are also checked by ESD.23g";
    EDGE_SELECT -coincident_only -inside ESD_GATE_W RegularIO_GATE -outputlayer A;
    EXTE ESD_COOD A -lt "ESD_23g" -abut -lt 90 -output region ; // -outputlayer _EPTMPL271047
}
SELECT -interact ESD_NMOS ESD_GATE_fully_RPO -outputlayer _EPTMPL271048;
SELECT -interact _EPTMPL271048 ESD_GATE_partial_RPO -outputlayer HV_TOL_IO_NMOS;
SELECT -interact ESD_NMOS_DRAIN CO -outputlayer _EPTMPL271050;
AND _EPTMPL271050 HV_TOL_IO_NMOS -outputlayer HV_TOL_IO_NMOS_DRAIN;
AND ESD_NMOS_SOURCE HV_TOL_IO_NMOS -outputlayer HV_TOL_IO_NMOS_SOURCE;
NOT HV_TOL_IO_NMOS HV_TOL_IO_NMOS_DRAIN -outputlayer _EPTMPL271053;
NOT _EPTMPL271053 HV_TOL_IO_NMOS_SOURCE -outputlayer _EPTMPL271054;
NOT _EPTMPL271054 ESD_GATE -outputlayer _EPTMPL271055;
SELECT -interact -not _EPTMPL271055 CO -outputlayer HV_TOL_IO_NMOS_DRAIN_x;
AND ESD_GATE HV_TOL_IO_NMOS -outputlayer HV_TOL_IO_GATE;
SELECT -interact HV_TOL_IO_GATE HV_TOL_IO_NMOS_DRAIN -outputlayer HV_TOL_IO_GATEa;
SELECT -interact -not HV_TOL_IO_GATE HV_TOL_IO_NMOS_DRAIN -outputlayer _EPTMPL271059;
SELECT -interact _EPTMPL271059 HV_TOL_IO_NMOS_DRAIN_x -outputlayer HV_TOL_IO_GATEb;

RULE ESD.27g {
    CAPTION "The NMOS and PMOS should have an unsilicided area on the drain side. That is, the RPO mask should block the drain side of the device (except the contact region which should remain silicided).DRC only flag no RPO in this device.";
    SELECT -interact -not HV_TOL_IO_NMOS_DRAIN RPO ; // -outputlayer _EPTMPL271061
    NOT HV_TOL_IO_NMOS_DRAIN_x RPO ; // -outputlayer _EPTMPL271062
    SELECT -interact -not HV_TOL_IO_NMOS RPO ; // -outputlayer _EPTMPL271063
}

RULE ESD.28g {
    CAPTION "For NMOS, the RPO needs to cover all inactive poly gates(N2) and extend to overlap the N3 gate = 0.06";
    NOT HV_TOL_IO_GATEa RPO ; // -outputlayer _EPTMPL271064
    EDGE_SELECT -coincident_only -inside ESD_GATE_W HV_TOL_IO_GATEb -outputlayer _EPTMPL271065;
    EDGE_SELECT -coincident_only -outside _EPTMPL271065 HV_TOL_IO_NMOS_DRAIN_x -outputlayer X;
    EDGE_EXPAND X -inside_by "ESD_28g" -outputlayer A;
    AND RPO HV_TOL_IO_GATEb -outputlayer B;
    XOR A B ; // -outputlayer _EPTMPL271069
}

RULE ESD.30g {
    CAPTION "Width of the RPO on the drain side for NMOS. >= 1.0";
    AND HV_TOL_IO_NMOS_DRAIN RPO -outputlayer A;
    INTE A -lt "ESD_30g" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL271071
}

RULE ESD.32g {
    CAPTION "Space of poly to CO on the source side >= 0.22";
    EDGE_SELECT -coincident_only -inside ESD_GATE_W HV_TOL_IO_GATE -outputlayer A;
    EXTE ESD_COOD A -lt "ESD_32g" -abut -lt 90 -output region ; // -outputlayer _EPTMPL271073
}

RULE ESD.33g {
    CAPTION "For NMOS, space of the N2 gate to the N3 gate. = 0.25";
    EXTE HV_TOL_IO_GATEa HV_TOL_IO_GATEb -eq "ESD_33g" -abut -lt 90 -single_point -output region -outputlayer A;
    XOR HV_TOL_IO_NMOS_DRAIN_x A ; // -outputlayer _EPTMPL271075
}

RULE ESD.34g {
    CAPTION "The NMOS should have ESD3 or ESDIMP";
    OR ESD3 ESDIMP -outputlayer _EPTMPL271076;
    SELECT -interact -not HV_TOL_IO_NMOS _EPTMPL271076 ; // -outputlayer _EPTMPL271077
}
SELECT -interact -not ESD_NMOS RPO -outputlayer NCS_NMOS;
EDGE_BOOLEAN -inside ESD_GATE_W NCS_NMOS -outputlayer NCS_NMOS_GATE_W;
EDGE_EXPAND NCS_NMOS_GATE_W -inside_by "GRID" -outputlayer NCS_NMOS_GATE_W_EXP;
STAMP NCS_NMOS_GATE_W_EXP ESD_NMOSc -outputlayer NCS_NMOS_GATE_W_EXPc;
AND ESD_GATE NCS_NMOS -outputlayer NCS_NMOS_GATE;

RULE ESD.37g {
    CAPTION "Total finger width for Power Clamp in same connection > 900";
    ANTENNA NCS_NMOS_GATE_W_EXPc -lt "ESD_37g" -expr "  (AREA(NCS_NMOS_GATE_W_EXPc)/2)/GRID  " -rdb ESD.37g.rep NCS_NMOS_GATE_W_EXPc ; // -outputlayer _EPTMPL271083
}
SELECT -interact ESD_NMOS RPO -outputlayer _EPTMPL271084;
SELECT -interact -not _EPTMPL271084 ESD_GATE_RPO -outputlayer RegularIO_type2_NMOS;
SELECT -interact ESD_PMOS RPO -outputlayer _EPTMPL271086;
SELECT -interact -not _EPTMPL271086 ESD_GATE_RPO -outputlayer RegularIO_type2_PMOS;
OR RegularIO_type2_NMOS RegularIO_type2_PMOS -outputlayer RegularIO_type2_MOS;
AND ESD_NMOS_DRAIN RegularIO_type2_NMOS -outputlayer RegularIO_type2_NMOS_DRAIN;
AND ESD_PMOS_DRAIN RegularIO_type2_PMOS -outputlayer RegularIO_type2_PMOS_DRAIN;
AND ESD_MOS_DRAIN RegularIO_type2_MOS -outputlayer RegularIO_type2_MOS_DRAIN;
AND ESD_GATE RegularIO_type2_MOS -outputlayer RegularIO_type2_GATE;

RULE ESD.47g {
    CAPTION "The NMOS and PMOS should have an unsilicided area on the drain side. That is, the RPO mask should be in the drain side of the device (except the contact region which should remain silicided).";
    SELECT -interact -not RegularIO_type2_MOS_DRAIN RPO ; // -outputlayer _EPTMPL271093
}

RULE ESD.48g {
    CAPTION "RPO on the drain side space to the poly gate = 0.45";
    EDGE_SELECT -coincident_only -outside ESD_GATE_W RegularIO_type2_MOS_DRAIN -outputlayer X;
    EDGE_EXPAND X -outside_by "ESD_48g" -outputlayer A;
    EXTE RPO RegularIO_type2_GATE -eq "ESD_48g" -abut -lt 90 -single_point -output region -outputlayer B;
    XOR A B ; // -outputlayer _EPTMPL271097
}

RULE ESD.49g {
    CAPTION "Width of the RPO on the drain side for NMOS. >= 1.0";
    AND RegularIO_type2_NMOS_DRAIN RPO -outputlayer A;
    INTE A -lt "ESD_49g" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL271099
}

RULE ESD.50g {
    CAPTION "Width of the RPO on the drain side for PMOS. >= 1.0";
    AND RegularIO_type2_PMOS_DRAIN RPO -outputlayer A;
    INTE A -lt "ESD_50g" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL271101
}

RULE ESD.51g {
    CAPTION "Space of poly to CO on the source side  >= 0.22";
    EDGE_SELECT -coincident_only -inside ESD_GATE_W RegularIO_type2_GATE -outputlayer A;
    EXTE ESD_COOD A -lt "ESD_51g" -abut -lt 90 -output region ; // -outputlayer _EPTMPL271103
}

RULE ESD.52g {
    CAPTION "1.8V regular IO INTERACT OD_25 or OD_33 is not recommended.";
    SELECT -interact RegularIO_type2_MOS OD_25 ; // -outputlayer _EPTMPL271104
    SELECT -interact RegularIO_type2_MOS OD_33 ; // -outputlayer _EPTMPL271105
}
SELECT -interact ESD_NMOS RPO -outputlayer _EPTMPL271106;
SELECT -interact _EPTMPL271106 ESD_GATE_fully_RPO -outputlayer _EPTMPL271107;
SELECT -interact -not _EPTMPL271107 ESD_GATE_partial_RPO -outputlayer NCS_type2_NMOS;
AND ESD_NMOS_DRAIN NCS_type2_NMOS -outputlayer NCS_type2_NMOS_DRAIN;
AND ESD_NMOS_SOURCE NCS_type2_NMOS -outputlayer NCS_type2_NMOS_SOURCE;
AND ESD_GATE NCS_type2_NMOS -outputlayer NCS_type2_NMOS_GATE;

RULE ESD.55g {
    CAPTION "The NMOS should have an unsilicided area on the drain/source side. That is, the RPO mask should be in the drain/source side of the device (except the contact region which should remain silicided).";
    SELECT -interact -not NCS_type2_NMOS_DRAIN RPO ; // -outputlayer _EPTMPL271112
    SELECT -interact -not NCS_type2_NMOS_SOURCE RPO ; // -outputlayer _EPTMPL271113
}

RULE ESD.56g {
    CAPTION "Width of the RPO on the drain side for NMOS >= 1.0";
    AND NCS_type2_NMOS_DRAIN RPO -outputlayer A;
    INTE A -lt "ESD_56g" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL271115
}

RULE ESD.57g {
    CAPTION "Space of poly to CO on the source side  >= 0.22";
    EDGE_SELECT -coincident_only -inside ESD_GATE_W NCS_type2_NMOS_GATE -outputlayer A;
    EXTE ESD_COOD A -lt "ESD_57g" -abut -lt 90 -output region ; // -outputlayer _EPTMPL271117
}
SELECT -interact -not NACT POLY -outputlayer _EPTMPL271118;
AND _EPTMPL271118 SDI -outputlayer _EPTMPL271119;
SELECT -cut _EPTMPL271119 RPO -outputlayer _EPTMPL271120;
SELECT -interact -not _EPTMPL271120 RPDMY -outputlayer NFD;
SELECT -interact -not PACT POLY -outputlayer _EPTMPL271122;
AND _EPTMPL271122 SDI -outputlayer _EPTMPL271123;
SELECT -cut _EPTMPL271123 RPO -outputlayer _EPTMPL271124;
SELECT -interact -not _EPTMPL271124 RPDMY -outputlayer PFD;
STAMP NFD NSDc -outputlayer NFDc;
STAMP PFD PSDc -outputlayer PFDc;
ANTENNA NFDc PSTPi -gt 0 -outputlayer NFD_Emitter;
NOT NFDc NFD_Emitter -outputlayer NFD_Collector;
ANTENNA PFDc NSTPi -gt 0 -outputlayer PFD_Emitter;
NOT PFDc PFD_Emitter -outputlayer PFD_Collector;
EXTE NFD_Collector NFD_Emitter -eq "ESD_60g" -metric opposite -output region -outputlayer NFD_STI;
EXTE PFD_Collector PFD_Emitter -eq "ESD_60g" -metric opposite -output region -outputlayer PFD_STI;

RULE ESD.58g {
    CAPTION "Total width for NFD in same connection of collector >= 360";
    EDGE_BOOLEAN -coincident_only -outside NFD_Collector NFD_STI -outputlayer A;
    EDGE_EXPAND A -inside_by "GRID" -outputlayer A1;
    STAMP A1 NFD_Collector -outputlayer Ac;
    ANTENNA Ac -lt "ESD_58g" -expr "  AREA(Ac)/GRID  " ; // -outputlayer _EPTMPL271137
}

RULE ESD.59g {
    CAPTION "Total width for PFD in same connection of collector >= 360";
    EDGE_BOOLEAN -coincident_only -outside PFD_Collector PFD_STI -outputlayer A;
    EDGE_EXPAND A -inside_by "GRID" -outputlayer A1;
    STAMP A1 PFD_Collector -outputlayer Ac;
    ANTENNA Ac -lt "ESD_59g" -expr "  AREA(Ac)/GRID  " ; // -outputlayer _EPTMPL271141
}

RULE ESD.60g {
    CAPTION "STI spacing of the NFD and PFD = 0.44";
    SELECT -interact -not NFD_Collector NFD_STI -eq 2 ; // -outputlayer _EPTMPL271142
    SELECT -interact -not PFD_Collector PFD_STI -eq 2 ; // -outputlayer _EPTMPL271143
}

RULE ESD.61g {
    CAPTION "Unit collector width of NFD and PFD = 15 ~ 60";
    EDGE_BOOLEAN -coincident_only -outside NFD_Collector NFD_STI -outputlayer A;
    EDGE_LENGTH A -lt "ESD_61g_MIN" ; // -outputlayer _EPTMPL271145
    EDGE_LENGTH A -gt "ESD_61g_MAX" ; // -outputlayer _EPTMPL271146
    EDGE_BOOLEAN -coincident_only -outside PFD_Collector PFD_STI -outputlayer B;
    EDGE_LENGTH B -lt "ESD_61g_MIN" ; // -outputlayer _EPTMPL271148
    EDGE_LENGTH B -gt "ESD_61g_MAX" ; // -outputlayer _EPTMPL271149
}

RULE ESD.62g {
    CAPTION "Unit emitter width of NFD and PFD should be the same as unit collector width";
    OR NFD_STI NFD_Emitter -outputlayer _EPTMPL271150;
    OR _EPTMPL271150 NFD_Collector -outputlayer _EPTMPL271151;
    RECT_CHK -not _EPTMPL271151 ; // -outputlayer _EPTMPL271152
    OR PFD_STI PFD_Emitter -outputlayer _EPTMPL271153;
    OR _EPTMPL271153 PFD_Collector -outputlayer _EPTMPL271154;
    RECT_CHK -not _EPTMPL271154 ; // -outputlayer _EPTMPL271155
}

RULE ESD.63g {
    CAPTION "Unit emitter length of NFD and PFD >= 0.86";
    INTE NFD_Emitter -lt "ESD_63g" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL271156
    INTE PFD_Emitter -lt "ESD_63g" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL271157
}

RULE ESD.64g {
    CAPTION "Width of the RPO on the collector side for NFD and PFD >= 1.95";
    EDGE_BOOLEAN -coincident_only -outside NFD_Collector NFD_STI -outputlayer A;
    EDGE_EXPAND A -inside_by "ESD_64g" -outputlayer A1;
    NOT A1 RPO ; // -outputlayer _EPTMPL271160
    EDGE_BOOLEAN -coincident_only -outside PFD_Collector PFD_STI -outputlayer B;
    EDGE_EXPAND B -inside_by "ESD_64g" -outputlayer B1;
    NOT B1 RPO ; // -outputlayer _EPTMPL271163
}

RULE ESD.65g {
    CAPTION "Width of the RPO on the emitter side for NFD and PFD	= 0.1";
    EDGE_BOOLEAN -coincident_only -outside NFD_Emitter NFD_STI -outputlayer A;
    EDGE_EXPAND A -inside_by "ESD_65g" -outputlayer A1;
    AND RPO NFD_Emitter -outputlayer _EPTMPL271166;
    XOR A1 _EPTMPL271166 ; // -outputlayer _EPTMPL271167
    EDGE_BOOLEAN -coincident_only -outside PFD_Emitter PFD_STI -outputlayer B;
    EDGE_EXPAND B -inside_by "ESD_65g" -outputlayer B1;
    AND RPO PFD_Emitter -outputlayer _EPTMPL271170;
    XOR B1 _EPTMPL271170 ; // -outputlayer _EPTMPL271171
}

RULE ESD.66g {
    CAPTION "Space of RPO to CO on the collector and emitter side >= 0.22";
    OR NFD PFD -outputlayer _EPTMPL271172;
    AND CO _EPTMPL271172 -outputlayer A;
    EXTE A RPO -lt "ESD_66g" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL271174
}

RULE ESD.72g {
    CAPTION "The layer of OD2 is required for 5V protection (NFD and PFD)";
    NOT NFD OD2 ; // -outputlayer _EPTMPL271175
    NOT PFD OD2 ; // -outputlayer _EPTMPL271176
}
variable ESDIMP_W_1 0.6;
variable ESDIMP_S_1 0.6;
variable ESDIMP_S_2 0.6;
variable ESDIMP_EN_1 0.4;
variable ESDIMP_A_1 1;
variable ESDIMP_A_2 1;
LAYER_DEF ESDIMP 3374;
LAYER_MAP 189 -datatype 0 3374;

RULE ESDIMP.W.1 {
    CAPTION "Width >= 0.6";
    INTE ESDIMP -lt "ESDIMP_W_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL271177
}

RULE ESDIMP.S.1 {
    CAPTION "Space >= 0.6";
    EXTE ESDIMP -lt "ESDIMP_S_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL271178
}

RULE ESDIMP.S.2 {
    CAPTION "Space to ESD3 >= 0.6 Overlap is prohibited";
    EXTE ESDIMP ESD3 -lt "ESDIMP_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL271179
    AND ESDIMP ESD3 ; // -outputlayer _EPTMPL271180
}

RULE ESDIMP.EN.1 {
    CAPTION "(OD NOT PO) enclosure of ESDIMP >= 0.4. ESDIMP must be fully inside (OD NOT PO)";
    NOT OD POLY -outputlayer _EPTMPL271181;
    ENC ESDIMP _EPTMPL271181 -lt "ESDIMP_EN_1" -outside_also -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL271182
}

RULE ESDIMP.A.1 {
    CAPTION "Area >= 1";
    AREA ESDIMP -lt "ESDIMP_A_1" ; // -outputlayer _EPTMPL271183
}

RULE ESDIMP.A.2 {
    CAPTION "Enclosed area >= 1";
    HOLES ESDIMP -lt "((ESDIMP_A_2 + (ESDIMP_S_1 * ESDIMP_S_1 * 3.142))/(2 * ESDIMP_S_1)) *((ESDIMP_A_2 + (ESDIMP_S_1 * ESDIMP_S_1 * 3.142))/(2 * 0.14))/3.141" -outputlayer INT1;
    NOT INT1 ESDIMP -outputlayer INT2;
    AREA INT2 -lt "ESDIMP_A_2" ; // -outputlayer _EPTMPL271186
}

RULE ESDIMP.R.1 {
    CAPTION "ESDIMP MUST BE FULLY INSIDE N+ACTVE";
    NOT ESDIMP NACT ; // -outputlayer _EPTMPL271187
}

RULE ESDIMP.EN.1:R {
    CAPTION "(OD NOT PO) enclosure of ESDIMP >= 0.4. ESDIMP must be fully inside (OD NOT PO)";
    NOT OD POLY -outputlayer _EPTMPL271188;
    ENC ESDIMP _EPTMPL271188 -lt "ESDIMP_EN_1" -outside_also -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL271189
    NOT OD POLY -outputlayer _EPTMPL271190;
    SELECT -enclose _EPTMPL271190 ESDIMP -outputlayer _EPTMPL271191;
    NOT _EPTMPL271191 ESDIMP -outputlayer X;
    SELECT -enclose_rect X -width 0.405 -length 0.405 ; // -outputlayer _EPTMPL271193
}

RULE SRAM.W.1 {
    CAPTION "SRM width (interact with OD) >= 0.28 um";
    INTE SRM -lt "SRAM_W_1" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL271194;
    SELECT -interact _EPTMPL271194 ODi ; // -outputlayer _EPTMPL271195
}

RULE SRAM.S.1 {
    CAPTION "SRM space (interact with OD) >= 0.28 um";
    EXTE SRM -lt "SRAM_S_1" -abut -lt 90 -single_point -output region -outputlayer _EPTMPL271196;
    SELECT -interact _EPTMPL271196 ODi ; // -outputlayer _EPTMPL271197
}

RULE SRAM.S.2 {
    CAPTION "SRM space to {GATE not interact with SRM} >= 0.12 um";
    AND POi ODi -outputlayer A;
    SELECT -interact -not A SRM -outputlayer B;
    EXTE B SRM -lt "SRAM_S_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL271200
}

RULE SRAM.EN.1 {
    CAPTION "SRM enclosusre of GATE >= 0.12 um";
    AND POi ODi -outputlayer A;
    ENC A SRM -lt "SRAM_EN_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL271202
}

RULE SRAM.EX.1 {
    CAPTION "SRM Extension on NWEL (interact with OD). Extension = 0 is allowed. >= 0.28 um";
    ENC NWi SRM -lt "SRAM_EX_1" -abut -ltgt 0 90 -single_point -output region -outputlayer _EPTMPL271203;
    SELECT -interact _EPTMPL271203 ODi ; // -outputlayer _EPTMPL271204
}

RULE SRAM.O.1 {
    CAPTION "SRM Overlap of NWEL (interact with OD) >= 0.28 um";
    AND SRM NWi -outputlayer _EPTMPL271205;
    INTE _EPTMPL271205 -lt "SRAM_O_1" -abut -lt 90 -metric opposite -output region -outputlayer _EPTMPL271206;
    SELECT -interact _EPTMPL271206 ODi ; // -outputlayer _EPTMPL271207
}

RULE SRAM.R.12 {
    CAPTION "SRMDMY_4(186,4) overlap SRAMDMY_0(186,0) is not allowed.";
    AND SRAMDMY_PERI SRAMDMY ; // -outputlayer _EPTMPL271208
}

RULE SRAM.R.13 {
    CAPTION "SRM must fully cover GATE.";
    AND POi ODi -outputlayer _EPTMPL271209;
    SELECT -interact _EPTMPL271209 SRM -outputlayer A;
    NOT A SRM ; // -outputlayer _EPTMPL271211
}

RULE SRAM.R.15 {
    CAPTION "CO_11 (30,11) is a must for CO mask tape-out";
    CAPTION "1.if CO_11 exists, it must cover CO";
    CAPTION "2.CO_11 must be 0.09 um x 0.09 um";
    CAPTION "3.CO_11 must be exactly the same as CO";
    CAPTION "4.CO_11 must be fully covered by SRM(50,0) and SRAMDMY(186,0)";
    SELECT -interact COi SRAMDMY -outputlayer _EPTMPL271212;
    SELECT -interact _EPTMPL271212 SRM -outputlayer A;
    RECT_CHK A -eq "CO_W_1" -by -eq "CO_W_1" -outputlayer B;
    SELECT -interact -not CO_PUSH B ; // -outputlayer _EPTMPL271215
    SELECT -interact A CO_PUSH -outputlayer C;
    XOR C CO_PUSH ; // -outputlayer _EPTMPL271217
}

RULE SRAM.R.17 {
    CAPTION "SRAMDMY(186,0) must fully cover OD,CO,VIA1";
    SELECT -cut ODi SRAMDMY ; // -outputlayer _EPTMPL271218
    SELECT -cut COi SRAMDMY ; // -outputlayer _EPTMPL271219
    SELECT -cut VIA1i SRAMDMY ; // -outputlayer _EPTMPL271220
}
NOT SRM SRM_ULL -outputlayer SRM_ALL_CELL;
EXTENT -outputlayer CHIP_SRAM;
OR SRM SRAMDMY -outputlayer _EPTMPL271223;
AND _EPTMPL271223 COi -outputlayer _EPTMPL271224;
SELECT -interact _EPTMPL271224 ODi -outputlayer _EPTMPL271225;
SELECT -interact _EPTMPL271225 POi -outputlayer SRAM_BTC;
AND SRM_ALL_CELL SRAM_BTC -outputlayer SRAM_BTC_ALL_CELL;
CONNECT SRAM_BTC_ALL_CELL CHIP_SRAM;

RULE SRAM.WARN.1 {
    CAPTION "Warning: It is important to add different redundancies according to different memory density,";
    CAPTION "if the accumulated SRAM density is greater than 8Mb bits, please refer to T-000-CL-RP-002,";
    CAPTION "DRC only flags the total BTC counts inside 0.525um2, 0.62um2, 0.499um2, 0.974um2 and 1.158um2 cell in full chip > 8388608";
    ANTENNA SRAM_BTC_ALL_CELL CHIP_SRAM -gt "SRAM_WARN_1" -accumulate -expr "  COUNT(SRAM_BTC_ALL_CELL)  " -rdb SRAM_WARN_1.rep -by_layer SRAM_BTC_ALL_CELL -maximum 1000 ; // -outputlayer _EPTMPL271229
}

RULE SRAM.A.1 {
    CAPTION "Enclosed area of Donut-type OD (Enclosed area of OD > 0) interact with poly in SRM region >= 0.6";
    SELECT -outside -not ODi SRM -outputlayer SRAM_OD;
    HOLES SRAM_OD -inner -outputlayer SRAM_OD_HOLE;
    AND POi SRAM_OD -outputlayer _EPTMPL271232;
    SELECT -touch SRAM_OD_HOLE _EPTMPL271232 -outputlayer SRAM_OD_HOLE_CHECK;
    AREA SRAM_OD_HOLE_CHECK -lt "SRAM_A_1" ; // -outputlayer _EPTMPL271234
}

RULE NW.S.1:SRM_SRAMDMY {
    CAPTION "Spacing between NW along the boundary of SRM and SRAMDMY";
    SIZE SRAM_EXCLUDE -by "(NW_S_1 + GRID)" -outputlayer A;
    SIZE SRAM_EXCLUDE -by -(NW_S_1 + GRID) -outputlayer B;
    NOT A B -outputlayer C;
    SELECT -outside -not NWi C -outputlayer D;
    EXTE D -lt "NW_S_1" -abut -lt 90 -single_point -output region -outputlayer E;
    SELECT -cut E SRAM_EXCLUDE ; // -outputlayer _EPTMPL271240
    SELECT -touch E SRAM_EXCLUDE ; // -outputlayer _EPTMPL271241
}

RULE OD.S.1:SRM_SRAMDMY {
    CAPTION "Spacing between OD along the boundary of SRM and SRAMDMY";
    SIZE SRAM_EXCLUDE -by "(OD_S_1 + GRID)" -outputlayer A;
    SIZE SRAM_EXCLUDE -by -(OD_S_1 + GRID) -outputlayer B;
    NOT A B -outputlayer C;
    SELECT -outside -not ODi C -outputlayer D;
    EXTE D -lt "OD_S_1" -abut -lt 90 -single_point -output region -outputlayer E;
    SELECT -cut E SRAM_EXCLUDE ; // -outputlayer _EPTMPL271247
    SELECT -touch E SRAM_EXCLUDE ; // -outputlayer _EPTMPL271248
}

RULE PO.S.1:SRM_SRAMDMY {
    CAPTION "Spacing between POLY along the boundary of SRM and SRAMDMY";
    SIZE SRAM_EXCLUDE -by "(PO_S_1 + GRID)" -outputlayer A;
    SIZE SRAM_EXCLUDE -by -(PO_S_1 + GRID) -outputlayer B;
    NOT A B -outputlayer C;
    SELECT -outside -not POi C -outputlayer D;
    EXTE D -lt "PO_S_1" -abut -lt 90 -single_point -output region -outputlayer E;
    SELECT -cut E SRAM_EXCLUDE ; // -outputlayer _EPTMPL271254
    SELECT -touch E SRAM_EXCLUDE ; // -outputlayer _EPTMPL271255
}

RULE NP.S.1:SRM_SRAMDMY {
    CAPTION "Spacing between NP along the boundary of SRM and SRAMDMY";
    SIZE SRAM_EXCLUDE -by "(NP_S_1 + GRID)" -outputlayer A;
    SIZE SRAM_EXCLUDE -by -(NP_S_1 + GRID) -outputlayer B;
    NOT A B -outputlayer C;
    SELECT -outside -not NPi C -outputlayer D;
    EXTE D -lt "NP_S_1" -abut -lt 90 -single_point -output region -outputlayer E;
    SELECT -cut E SRAM_EXCLUDE ; // -outputlayer _EPTMPL271261
    SELECT -touch E SRAM_EXCLUDE ; // -outputlayer _EPTMPL271262
}

RULE PP.S.1:SRM_SRAMDMY {
    CAPTION "Spacing between PP along the boundary of SRM and SRAMDMY";
    SIZE SRAM_EXCLUDE -by "(PP_S_1 + GRID)" -outputlayer A;
    SIZE SRAM_EXCLUDE -by -(PP_S_1 + GRID) -outputlayer B;
    NOT A B -outputlayer C;
    SELECT -outside -not PPi C -outputlayer D;
    EXTE D -lt "PP_S_1" -abut -lt 90 -single_point -output region -outputlayer E;
    SELECT -cut E SRAM_EXCLUDE ; // -outputlayer _EPTMPL271268
    SELECT -touch E SRAM_EXCLUDE ; // -outputlayer _EPTMPL271269
}

RULE CO.S.1:SRM_SRAMDMY {
    CAPTION "Spacing between CO along the boundary of SRM and SRAMDMY";
    SIZE SRAM_EXCLUDE -by "(CO_S_1 + GRID)" -outputlayer A;
    SIZE SRAM_EXCLUDE -by -(CO_S_1 + GRID) -outputlayer B;
    NOT A B -outputlayer C;
    SELECT -outside -not COi C -outputlayer D;
    EXTE D -lt "CO_S_1" -abut -lt 90 -single_point -output region -outputlayer E;
    SELECT -cut E SRAM_EXCLUDE ; // -outputlayer _EPTMPL271275
    SELECT -touch E SRAM_EXCLUDE ; // -outputlayer _EPTMPL271276
}

RULE M1.S.1:SRM_SRAMDMY {
    CAPTION "Spacing between M1 along the boundary of SRM and SRAMDMY";
    SIZE SRAM_EXCLUDE -by "(M1_S_1 + GRID)" -outputlayer A;
    SIZE SRAM_EXCLUDE -by -(M1_S_1 + GRID) -outputlayer B;
    NOT A B -outputlayer C;
    SELECT -outside -not M1i C -outputlayer D;
    EXTE D -lt "M1_S_1" -abut -lt 90 -single_point -output region -outputlayer E;
    SELECT -cut E SRAM_EXCLUDE ; // -outputlayer _EPTMPL271282
    SELECT -touch E SRAM_EXCLUDE ; // -outputlayer _EPTMPL271283
}

RULE VIA1.S.1:SRM_SRAMDMY {
    CAPTION "Spacing between VIA1 along the boundary of SRM and SRAMDMY";
    SIZE SRAM_EXCLUDE -by "(VIA1_S_1 + GRID)" -outputlayer A;
    SIZE SRAM_EXCLUDE -by -(VIA1_S_1 + GRID) -outputlayer B;
    NOT A B -outputlayer C;
    SELECT -outside -not VIA1i C -outputlayer D;
    EXTE D -lt "VIA1_S_1" -abut -lt 90 -single_point -output region -outputlayer E;
    SELECT -cut E SRAM_EXCLUDE ; // -outputlayer _EPTMPL271289
    SELECT -touch E SRAM_EXCLUDE ; // -outputlayer _EPTMPL271290
}
AND ODi SRAMDMY_PERI -outputlayer OD_PERI;
SELECT -outside -not COi SRAMDMY_PERI -outputlayer CO_PERI;
SELECT -outside -not CO_PERI SRAMDMY_4 -outputlayer CO_PERI_4;
SELECT -outside -not CO_PERI SRAMDMY_5 -outputlayer CO_PERI_5;
SELECT -outside -not CO_PERI OD_PERI -outputlayer COOD_PERI;
AND ODi SRAMDMY_4 -outputlayer _EPTMPL271296;
SELECT -outside -not CO_PERI _EPTMPL271296 -outputlayer COOD_PERI_4;
CONNECT COOD_PERI OD_PERI;
CONNECT COOD_PERI_4 OD_PERI;
AND OD_PERI NPi -outputlayer NPOD_PERI;
AND OD_PERI PPi -outputlayer PPOD_PERI;
AND NPOD_PERI NWi -outputlayer NSTP_PERI;
NOT PPOD_PERI NWi -outputlayer PSTP_PERI;
OR NSTP_PERI PSTP_PERI -outputlayer STP_PERI;
NOT NPOD_PERI NWi -outputlayer NACT_PERI;
AND PPOD_PERI NWi -outputlayer PACT_PERI;
OR NACT_PERI PACT_PERI -outputlayer DACT_PERI;
SELECT -interact DACT_PERI POi -outputlayer ACT_PERI;
NOT ACT_PERI POi -outputlayer SD_PERI;

RULE WLD.R.1 {
    CAPTION " CO to PO space inside SRAMDMY (186,4) >= 0.05";
    EXTE CO_PERI_4 POi -lt "WLD_R_1" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL271310
}

RULE WLD.R.2 {
    CAPTION " CO to PO space inside SRAMDMY (186,5) >= 0.043";
    EXTE CO_PERI_5 POi -lt "WLD_R_2" -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL271311
}

RULE WLD.R.3 {
    CAPTION "CO space on the same OD [inside SRAMDMY (186,4 & 186,5)] >= 0.14";
    EXTE COOD_PERI -lt "WLD_R_3" -abut -lt 90 -connected -single_point -output region ; // -outputlayer _EPTMPL271312
}

RULE WLD.R.6 {
    CAPTION "SRAMDMY (186,4 & 186,5) edge cut CO is not allowed";
    SELECT -cut CO_PERI SRAMDMY_4 ; // -outputlayer _EPTMPL271313
    SELECT -cut CO_PERI SRAMDMY_5 ; // -outputlayer _EPTMPL271314
}

RULE WLD.R.7 {
    CAPTION "SRMDMY (186,0) upsized 200 um must cover SRMDMY (186,4,5)";
    SIZE SRAMDMY -by "WLD_R_7" -outputlayer S;
    NOT SRAMDMY_4 S ; // -outputlayer _EPTMPL271316
    NOT SRAMDMY_5 S ; // -outputlayer _EPTMPL271317
}
INSIDE_CELL POi " " -outputlayer "POS14m_POCellIn";
INSIDE_CELL -not "POi" " " -outputlayer "POS14m_POCellOut";
AND POS14m_POCellIn POS14m_POCellOut -outputlayer POS14m_POCell;
AND POi RRuleAnalog -outputlayer POS14m_POMarker;
OR POS14m_POCell POS14m_POMarker -outputlayer _EPTMPL271322;
NOT _EPTMPL271322 SRAM_EXCLUDE -outputlayer _EPTMPL271323;
SELECT -outside _EPTMPL271323 Block -outputlayer _EPTMPL271324;
NOT _EPTMPL271324 excludeRRuleAnalog -outputlayer POS14m_PO;
AND GATE_NP POS14m_PO -outputlayer _EPTMPL271326;
NOT _EPTMPL271326 OD2 -outputlayer POS14m_GATE;
OR NWEL NTN -outputlayer _EPTMPL271328;
OR OD2 _EPTMPL271328 -outputlayer POS14m_NW;

RULE PO.S.14m {
    CAPTION "Gate space to ( OD2 OR (NW OR NT_N) ) in Core NMOS >= 1.0um";
    EXTE POS14m_GATE POS14m_NW -lt 1 -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL271330
}
INSIDE_CELL POi " " -outputlayer "POEN1m_POCellIn";
INSIDE_CELL -not "POi" " " -outputlayer "POEN1m_POCellOut";
AND POEN1m_POCellIn POEN1m_POCellOut -outputlayer POEN1m_POCell;
AND POi RRuleAnalog -outputlayer POEN1m_POMarker;
OR POEN1m_POCell POEN1m_POMarker -outputlayer _EPTMPL271335;
NOT _EPTMPL271335 SRAM_EXCLUDE -outputlayer _EPTMPL271336;
SELECT -outside _EPTMPL271336 Block -outputlayer _EPTMPL271337;
NOT _EPTMPL271337 excludeRRuleAnalog -outputlayer POEN1m_PO;
AND GATE_PP POEN1m_PO -outputlayer _EPTMPL271339;
NOT _EPTMPL271339 OD2 -outputlayer POEN1m_GATE;
NOT NWEL OD_33 -outputlayer _EPTMPL271341;
NOT _EPTMPL271341 NTN -outputlayer POEN1m_NW;

RULE PO.EN.1m {
    CAPTION "1.0V or 1.2V PMOS gate enclosure by ((NW NOT OD2) NOT NT_N) for 3.3V IO process >= 1.0 um";
    CAPTION "1.0V or 1.2V PMOS gate enclosure by (NW NOT NT_N) for 1.8V or 2.5V IO process >= 1.0 um";
    ENC POEN1m_GATE POEN1m_NW -lt 1 -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL271343
}
INSIDE_CELL POi " " -outputlayer "POEN2m_POCellIn";
INSIDE_CELL -not "POi" " " -outputlayer "POEN2m_POCellOut";
AND POEN2m_POCellIn POEN2m_POCellOut -outputlayer POEN2m_POCell;
AND POi RRuleAnalog -outputlayer POEN2m_POMarker;
OR POEN2m_POCell POEN2m_POMarker -outputlayer _EPTMPL271348;
NOT _EPTMPL271348 SRAM_EXCLUDE -outputlayer _EPTMPL271349;
SELECT -outside _EPTMPL271349 Block -outputlayer _EPTMPL271350;
NOT _EPTMPL271350 excludeRRuleAnalog -outputlayer POEN2m_PO;
AND GATE_NP POEN2m_PO -outputlayer _EPTMPL271352;
AND _EPTMPL271352 OD2 -outputlayer POEN2m_GATE;
OR NWEL NTN -outputlayer _EPTMPL271354;
NOT OD2 _EPTMPL271354 -outputlayer POEN2m_NW;

RULE PO.EN.2m {
    CAPTION "Gate enclosure by ( OD2 NOT (NW OR NT_N) ) in IO NMOS >= 2.0um";
    ENC POEN2m_GATE POEN2m_NW -lt 2 -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL271356
}
INSIDE_CELL POi " " -outputlayer "POEN3m_POCellIn";
INSIDE_CELL -not "POi" " " -outputlayer "POEN3m_POCellOut";
AND POEN3m_POCellIn POEN3m_POCellOut -outputlayer POEN3m_POCell;
AND POi RRuleAnalog -outputlayer POEN3m_POMarker;
OR POEN3m_POCell POEN3m_POMarker -outputlayer _EPTMPL271361;
NOT _EPTMPL271361 SRAM_EXCLUDE -outputlayer _EPTMPL271362;
SELECT -outside _EPTMPL271362 Block -outputlayer _EPTMPL271363;
NOT _EPTMPL271363 excludeRRuleAnalog -outputlayer POEN3m_PO;
AND GATE_PP POEN3m_PO -outputlayer POEN3m_GATE;
AND POEN3m_GATE OD_33 -outputlayer POEN3m_GATE33;
OR OD_25 OD_18 -outputlayer _EPTMPL271367;
AND POEN3m_GATE _EPTMPL271367 -outputlayer POEN3m_GATE1825;
NOT NWEL NTN -outputlayer POEN3m_NW;
AND POEN3m_NW OD_33 -outputlayer POEN3m_NW33;

RULE PO.EN.3m {
    CAPTION " 3.3V PMOS gate enclosure by ((NW AND OD2) NOT NT_N) >= 1.5 um";
    CAPTION " 1.8V or 2.5V PMOS gate enclosure by (NW NOT NT_N) >= 1.5 um";
    ENC POEN3m_GATE1825 POEN3m_NW -lt 1.5 -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL271371
    ENC POEN3m_GATE33 POEN3m_NW33 -lt 1.5 -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL271372
}

RULE BJT.R.1 {
    CAPTION "RPO needs to cover 0.3um on EM OD edge from OD and STI sides";
    SIZE EMOD -by 0.3 -outputlayer _EPTMPL271373;
    SIZE EMOD -by -0.3 -outputlayer _EPTMPL271374;
    NOT _EPTMPL271373 _EPTMPL271374 -outputlayer X;
    SELECT -interact RPO EMOD -outputlayer Y;
    XOR X Y ; // -outputlayer _EPTMPL271377
}

RULE BJT.R.8 {
    CAPTION "{RH OR BJTDMY} enclosure of  Emitter OD >=0.13";
    OR RH BJTDMY -outputlayer A;
    ENC EMOD A -lt 0.13 -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL271379
    NOT EMOD A ; // -outputlayer _EPTMPL271380
}
INSIDE_CELL ODi " " -outputlayer "RES2m_ODCellIn";
INSIDE_CELL -not "ODi" " " -outputlayer "RES2m_ODCellOut";
AND RES2m_ODCellIn RES2m_ODCellOut -outputlayer RES2m_ODCell;
AND ODi RRuleAnalog -outputlayer RES2m_ODMarker;
OR RES2m_ODCell RES2m_ODMarker -outputlayer _EPTMPL271385;
NOT _EPTMPL271385 SRAM_EXCLUDE -outputlayer _EPTMPL271386;
SELECT -outside _EPTMPL271386 Block -outputlayer _EPTMPL271387;
NOT _EPTMPL271387 excludeRRuleAnalog -outputlayer RES2m_OD;
INSIDE_CELL POi " " -outputlayer "RES2m_POCellIn";
INSIDE_CELL -not "POi" " " -outputlayer "RES2m_POCellOut";
AND RES2m_POCellIn RES2m_POCellOut -outputlayer RES2m_POCell;
AND POi RRuleAnalog -outputlayer RES2m_POMarker;
OR RES2m_POCell RES2m_POMarker -outputlayer _EPTMPL271393;
NOT _EPTMPL271393 SRAM_EXCLUDE -outputlayer _EPTMPL271394;
SELECT -outside _EPTMPL271394 Block -outputlayer _EPTMPL271395;
NOT _EPTMPL271395 excludeRRuleAnalog -outputlayer RES2m_PO;
AND ODRES RES2m_OD -outputlayer RES2m_ODRES;
AND PORESg RES2m_PO -outputlayer RES2m_PORES;

RULE RES.2m:OD {
    CAPTION "Width >= 0.4um and length >= 0.4um for unsilicided OD resistor";
    INTE RES2m_ODRES -lt 0.4 -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL271399
    EDGE_BOOLEAN -inside RES2m_ODRES RPO -outputlayer RES_L;
    PATH_LENGTH RES_L -lt 0.4 -outputlayer X;
    SELECT -with_edge RES2m_ODRES X -outputlayer CHECK_RES;
    EDGE_BOOLEAN -coincident_only -inside CHECK_RES RPO -outputlayer RES_E;
    EDGE_EXPAND RES_E -inside_by "GRID" -outputlayer A;
    SIZE A -by "( 0.2 - GRID*2 )" -inside_of RES2m_ODRES -step "OD_S_1*0.7" -outputlayer B;
    NOT CHECK_RES B -outputlayer C;
    SELECT -interact -not CHECK_RES C ; // -outputlayer _EPTMPL271407
    INTE C -lt "GRID*2" -abut -lt 90 -output region -outputlayer D;
    SELECT -interact CHECK_RES D -outputlayer Y;
    SELECT -inside -not Y DIODMY ; // -outputlayer _EPTMPL271410
}

RULE RES.2m:PO {
    CAPTION "Width >= 0.4um and length >= 0.4um for unsilicided PO resistor";
    INTE RES2m_PORES -lt 0.4 -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL271411
    EDGE_BOOLEAN -inside RES2m_PORES RPO -outputlayer RES_L;
    PATH_LENGTH RES_L -lt 0.4 -outputlayer X;
    SELECT -with_edge RES2m_PORES X -outputlayer CHECK_RES;
    EDGE_BOOLEAN -coincident_only -inside CHECK_RES RPO -outputlayer RES_E;
    EDGE_EXPAND RES_E -inside_by "GRID" -outputlayer A;
    SIZE A -by "( 0.2 - GRID*2 )" -inside_of RES2m_PORES -step "PO_S_1*0.7" -outputlayer B;
    NOT CHECK_RES B -outputlayer C;
    SELECT -interact -not CHECK_RES C ; // -outputlayer _EPTMPL271419
    INTE C -lt "GRID*2" -abut -lt 90 -output region -outputlayer D;
    SELECT -interact CHECK_RES D ; // -outputlayer _EPTMPL271421
}
INSIDE_CELL NWi " " -outputlayer "NWRODR1m_NWCellIn";
INSIDE_CELL -not "NWi" " " -outputlayer "NWRODR1m_NWCellOut";
AND NWRODR1m_NWCellIn NWRODR1m_NWCellOut -outputlayer NWRODR1m_NWCell;
AND NWi RRuleAnalog -outputlayer NWRODR1m_NWMarker;
OR NWRODR1m_NWCell NWRODR1m_NWMarker -outputlayer _EPTMPL271426;
SELECT -inside -not _EPTMPL271426 SRAM_EXCLUDE -outputlayer _EPTMPL271427;
SELECT -outside _EPTMPL271427 Block -outputlayer _EPTMPL271428;
NOT _EPTMPL271428 excludeRRuleAnalog -outputlayer NWRODR1m_NW;
AND NWRODR1m_NW NWRES -outputlayer _EPTMPL271430;
AND _EPTMPL271430 NWDMY -outputlayer NWRODR1m_NWRES;

RULE NWROD.R.1m {
    CAPTION "Width >= 1.8um and length >= 20um for NW resistor with OD";
    INTE NWRODR1m_NWRES -lt 1.8 -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL271432
    EDGE_BOOLEAN -coincident_only -inside NWRODR1m_NWRES NWRODR1m_NW -outputlayer RES_L;
    PATH_LENGTH RES_L -lt 20 -outputlayer X;
    SELECT -with_edge NWRODR1m_NWRES X -outputlayer CHECK_RES;
    EDGE_BOOLEAN -coincident_only -inside CHECK_RES NWDMY -outputlayer RES_E;
    EDGE_EXPAND RES_E -inside_by "GRID" -outputlayer A;
    SIZE A -by "( 10 - GRID*2 )" -inside_of NWRODR1m_NWRES -step "NW_S_1*0.7" -outputlayer B;
    NOT CHECK_RES B -outputlayer C;
    SELECT -interact -not CHECK_RES C ; // -outputlayer _EPTMPL271440
    INTE C -lt "GRID*2" -abut -lt 90 -output region -outputlayer D;
    SELECT -interact CHECK_RES D ; // -outputlayer _EPTMPL271442
}
INSIDE_CELL NWi " " -outputlayer "NWRSTIR1m_NWCellIn";
INSIDE_CELL -not "NWi" " " -outputlayer "NWRSTIR1m_NWCellOut";
AND NWRSTIR1m_NWCellIn NWRSTIR1m_NWCellOut -outputlayer NWRSTIR1m_NWCell;
AND NWi RRuleAnalog -outputlayer NWRSTIR1m_NWMarker;
OR NWRSTIR1m_NWCell NWRSTIR1m_NWMarker -outputlayer _EPTMPL271447;
SELECT -inside -not _EPTMPL271447 SRAM_EXCLUDE -outputlayer _EPTMPL271448;
SELECT -outside _EPTMPL271448 Block -outputlayer _EPTMPL271449;
NOT _EPTMPL271449 excludeRRuleAnalog -outputlayer NWRSTIR1m_NW;
AND NWRSTIR1m_NW NWRES_STI -outputlayer _EPTMPL271451;
AND _EPTMPL271451 NWDMY -outputlayer NWRSTIR1m_NWRES;

RULE NWRSTI.R.1m {
    CAPTION "Width >= 1.8um and length >= 20um for NW resistor under STI";
    INTE NWRSTIR1m_NWRES -lt 1.8 -abut -lt 90 -single_point -output region ; // -outputlayer _EPTMPL271453
    EDGE_BOOLEAN -coincident_only -inside NWRSTIR1m_NWRES NWRSTIR1m_NW -outputlayer RES_L;
    PATH_LENGTH RES_L -lt 20 -outputlayer X;
    SELECT -with_edge NWRSTIR1m_NWRES X -outputlayer CHECK_RES;
    EDGE_BOOLEAN -coincident_only -inside CHECK_RES NWDMY -outputlayer RES_E;
    EDGE_EXPAND RES_E -inside_by "GRID" -outputlayer A;
    SIZE A -by "( 10 - GRID*2 )" -inside_of NWRSTIR1m_NWRES -step "NW_S_1*0.7" -outputlayer B;
    NOT CHECK_RES B -outputlayer C;
    SELECT -interact -not CHECK_RES C ; // -outputlayer _EPTMPL271461
    INTE C -lt "GRID*2" -abut -lt 90 -output region -outputlayer D;
    SELECT -interact CHECK_RES D ; // -outputlayer _EPTMPL271463
}
INSIDE_CELL POi " " -outputlayer "ANR46mg_POiCellIn";
INSIDE_CELL -not "POi" " " -outputlayer "ANR46mg_POiCellOut";
AND ANR46mg_POiCellIn ANR46mg_POiCellOut -outputlayer ANR46mg_POiCell;
AND POi RRuleAnalog -outputlayer ANR46mg_POiMarker;
OR ANR46mg_POiCell ANR46mg_POiMarker -outputlayer _EPTMPL271468;
NOT _EPTMPL271468 SRAM_EXCLUDE -outputlayer _EPTMPL271469;
SELECT -outside _EPTMPL271469 Block -outputlayer _EPTMPL271470;
NOT _EPTMPL271470 excludeRRuleAnalog -outputlayer ANR46mg_POi;
SELECT -interact ANR46mg_POi OD -outputlayer _EPTMPL271472;
SELECT -interact _EPTMPL271472 MATCHING -outputlayer ANR46mg_POLY_PAIR_CHECK;
SELECT -inside ANR46mg_POLY_PAIR_CHECK M1x -outputlayer ANR46mg_POLY_PAIR_CHECK_G_M1;
SELECT -cut ANR46mg_POLY_PAIR_CHECK M1x -outputlayer ANR46mg_POLY_PAIR_CHECK_B_M1;
SELECT -outside ANR46mg_POLY_PAIR_CHECK M1x -outputlayer ANR46mg_POLY_PAIR_CHECK_O_M1;

RULE AN.R.46:M1 {
    CAPTION "In MATCHING layer, one of differential pair covered by M1 layer but without all fully covered is not allowed";
    SELECT -interact MATCHINGi ANR46mg_POLY_PAIR_CHECK_B_M1 ; // -outputlayer _EPTMPL271477
    SELECT -interact MATCHINGi ANR46mg_POLY_PAIR_CHECK_G_M1 -outputlayer _EPTMPL271478;
    SELECT -interact _EPTMPL271478 ANR46mg_POLY_PAIR_CHECK_O_M1 ; // -outputlayer _EPTMPL271479
}

RULE DRM.R.1 {
    CAPTION "DRM.R.1 is a warining message to remind the users to check the related DRMs. Please refer to DRM.R.1 in the DRM for the details.";
    COPY CHIPx ; // -outputlayer _EPTMPL271480
}

########################################################################
Parsing Rule File /home/mseminario2/chips/myshkin/ic/pvs/antmim25.rul ...
########################################################################
INPUT_SCALE 1000;
GRID 5;
LAYOUT_FORMAT gdsii;
[WARN]: LAYOUT_FORMAT at line 36 in file /home/mseminario2/chips/myshkin/ic/pvs/antmim25.rul is skipped. It is set in control file.
LAYOUT_PATH "GDSFILENAME";
[WARN]: LAYOUT_PATH at line 37 in file /home/mseminario2/chips/myshkin/ic/pvs/antmim25.rul is skipped. It is set in control file.
LAYOUT_PRIMARY "TOPCELLNAME";
[WARN] Cmd-line override: LAYOUT_PRIMARY "pad_ring";
RESULTS_DB -drc "DRC_RES.db";
[WARN]: RESULTS_DB -ascii at line 40 in file /home/mseminario2/chips/myshkin/ic/pvs/antmim25.rul is skipped. It is set in control file.
REPORT_SUMMARY -drc "DRC.rep";
[WARN] REPORT_SUMMARY statement at line 41 in file /home/mseminario2/chips/myshkin/ic/pvs/antmim25.rul is ignored.
       summary file has been specified as pad_ring.sum
KEEP_EMPTY -drc NO;
CHECK_TEXT -drc -all;
MAX_RESULTS -drc -all;
[WARN]: MAX_RESULTS -drc at line 44 in file /home/mseminario2/chips/myshkin/ic/pvs/antmim25.rul is skipped. It is set in control file.
LAYOUT_INCLUDE_BOX_RECORD YES;
FLAG -offgrid YES;
FLAG -acute YES;
FLAG -skew YES;
FLAG -nonsimple YES;
FLAG -nonsimple_path YES;
INCR_CONN YES;
variable LargeNumber 1000000000;
variable AP_THICKNESS 1.45;
LAYER_DEF OD_18 16;
[ERROR] Layer 'OD_18' has been defined in rule file at line 65 in file /home/mseminario2/chips/myshkin/ic/pvs/antmim25.rul
LAYER_DEF OD_25 18;
[ERROR] Layer 'OD_25' has been defined in rule file at line 66 in file /home/mseminario2/chips/myshkin/ic/pvs/antmim25.rul
LAYER_DEF OD_33 15;
[ERROR] Layer 'OD_33' has been defined in rule file at line 67 in file /home/mseminario2/chips/myshkin/ic/pvs/antmim25.rul
LAYER_DEF CO 30;
[ERROR] Layer 'CO' has been defined in rule file at line 68 in file /home/mseminario2/chips/myshkin/ic/pvs/antmim25.rul
LAYER_DEF M1i 3932;
LAYER_MAP 31 -datatype 0 3932;
LAYER_MAP 31 -datatype 7 3932;
LAYER_DEF M1_real 3291;
LAYER_MAP 31 -datatype 0 3291;
LAYER_DEF DM1_O 3945;
LAYER_MAP 31 -datatype 7 3945;
LAYER_DEF DUM1 3958;
LAYER_MAP 31 -datatype 1 3958;
LAYER_DEF NOUSEM1 3971;
LAYER_MAP 31 -datatype 20 3971;
LAYER_MAP 31 -datatype 21 3971;
LAYER_MAP 31 -datatype 40 3971;
LAYER_MAP 31 -datatype 41 3971;
LAYER_MAP 31 -datatype 60 3971;
LAYER_MAP 31 -datatype 61 3971;
LAYER_MAP 31 -datatype 80 3971;
LAYER_MAP 31 -datatype 81 3971;
LAYER_DEF NOTUSEM1 3984;
LAYER_MAP 31 -datatype lege 161 165 3984;
LAYER_DEF DM1EXCL 3192;
LAYER_MAP 150 -datatype 1 3192;
LAYER_DEF M2i 3933;
LAYER_MAP 32 -datatype 0 3933;
LAYER_MAP 32 -datatype 7 3933;
LAYER_DEF M2_real 3292;
LAYER_MAP 32 -datatype 0 3292;
LAYER_DEF DM2_O 3946;
LAYER_MAP 32 -datatype 7 3946;
LAYER_DEF DUM2 3959;
LAYER_MAP 32 -datatype 1 3959;
LAYER_DEF NOUSEM2 3972;
LAYER_MAP 32 -datatype 20 3972;
LAYER_MAP 32 -datatype 21 3972;
LAYER_MAP 32 -datatype 40 3972;
LAYER_MAP 32 -datatype 41 3972;
LAYER_MAP 32 -datatype 60 3972;
LAYER_MAP 32 -datatype 61 3972;
LAYER_MAP 32 -datatype 80 3972;
LAYER_MAP 32 -datatype 81 3972;
LAYER_DEF NOTUSEM2 3985;
LAYER_MAP 32 -datatype lege 161 165 3985;
LAYER_DEF DM2EXCL 3193;
LAYER_MAP 150 -datatype 2 3193;
LAYER_DEF M3i 3934;
LAYER_MAP 33 -datatype 0 3934;
LAYER_MAP 33 -datatype 7 3934;
LAYER_DEF M3_real 3293;
LAYER_MAP 33 -datatype 0 3293;
LAYER_DEF DM3_O 3947;
LAYER_MAP 33 -datatype 7 3947;
LAYER_DEF DUM3 3960;
LAYER_MAP 33 -datatype 1 3960;
LAYER_DEF NOUSEM3 3973;
LAYER_MAP 33 -datatype 20 3973;
LAYER_MAP 33 -datatype 21 3973;
LAYER_MAP 33 -datatype 40 3973;
LAYER_MAP 33 -datatype 41 3973;
LAYER_MAP 33 -datatype 60 3973;
LAYER_MAP 33 -datatype 61 3973;
LAYER_MAP 33 -datatype 80 3973;
LAYER_MAP 33 -datatype 81 3973;
LAYER_DEF NOTUSEM3 3986;
LAYER_MAP 33 -datatype lege 161 165 3986;
LAYER_DEF DM3EXCL 3194;
LAYER_MAP 150 -datatype 3 3194;
LAYER_DEF M4i 3935;
LAYER_MAP 34 -datatype 0 3935;
LAYER_MAP 34 -datatype 7 3935;
LAYER_DEF M4_real 3294;
LAYER_MAP 34 -datatype 0 3294;
LAYER_DEF DM4_O 3948;
LAYER_MAP 34 -datatype 7 3948;
LAYER_DEF DUM4 3961;
LAYER_MAP 34 -datatype 1 3961;
LAYER_DEF NOUSEM4 3974;
LAYER_MAP 34 -datatype 20 3974;
LAYER_MAP 34 -datatype 21 3974;
LAYER_MAP 34 -datatype 40 3974;
LAYER_MAP 34 -datatype 41 3974;
LAYER_MAP 34 -datatype 60 3974;
LAYER_MAP 34 -datatype 61 3974;
LAYER_MAP 34 -datatype 80 3974;
LAYER_MAP 34 -datatype 81 3974;
LAYER_DEF NOTUSEM4 3987;
LAYER_MAP 34 -datatype lege 161 165 3987;
LAYER_DEF DM4EXCL 3195;
LAYER_MAP 150 -datatype 4 3195;
LAYER_DEF M5i 3936;
LAYER_MAP 35 -datatype 0 3936;
LAYER_MAP 35 -datatype 7 3936;
LAYER_DEF M5_real 3295;
LAYER_MAP 35 -datatype 0 3295;
LAYER_DEF DM5_O 3949;
LAYER_MAP 35 -datatype 7 3949;
LAYER_DEF DUM5 3962;
LAYER_MAP 35 -datatype 1 3962;
LAYER_DEF NOUSEM5 3975;
LAYER_MAP 35 -datatype 20 3975;
LAYER_MAP 35 -datatype 21 3975;
LAYER_MAP 35 -datatype 40 3975;
LAYER_MAP 35 -datatype 41 3975;
LAYER_MAP 35 -datatype 60 3975;
LAYER_MAP 35 -datatype 61 3975;
LAYER_MAP 35 -datatype 80 3975;
LAYER_MAP 35 -datatype 81 3975;
LAYER_DEF NOTUSEM5 3988;
LAYER_MAP 35 -datatype lege 161 165 3988;
LAYER_DEF DM5EXCL 3196;
LAYER_MAP 150 -datatype 5 3196;
LAYER_DEF M6i 3937;
LAYER_MAP 36 -datatype 0 3937;
LAYER_MAP 36 -datatype 7 3937;
LAYER_DEF M6_real 3296;
LAYER_MAP 36 -datatype 0 3296;
LAYER_DEF DM6_O 3950;
LAYER_MAP 36 -datatype 7 3950;
LAYER_DEF DUM6 3963;
LAYER_MAP 36 -datatype 1 3963;
LAYER_DEF NOUSEM6 3976;
LAYER_MAP 36 -datatype 20 3976;
LAYER_MAP 36 -datatype 21 3976;
LAYER_MAP 36 -datatype 40 3976;
LAYER_MAP 36 -datatype 41 3976;
LAYER_MAP 36 -datatype 60 3976;
LAYER_MAP 36 -datatype 61 3976;
LAYER_MAP 36 -datatype 80 3976;
LAYER_MAP 36 -datatype 81 3976;
LAYER_DEF NOTUSEM6 3989;
LAYER_MAP 36 -datatype lege 161 165 3989;
LAYER_DEF DM6EXCL 3197;
LAYER_MAP 150 -datatype 6 3197;
LAYER_DEF M7i 3938;
LAYER_MAP 37 -datatype 0 3938;
LAYER_MAP 37 -datatype 7 3938;
LAYER_DEF M7_real 3297;
LAYER_MAP 37 -datatype 0 3297;
LAYER_DEF DM7_O 3951;
LAYER_MAP 37 -datatype 7 3951;
LAYER_DEF DUM7 3964;
LAYER_MAP 37 -datatype 1 3964;
LAYER_DEF NOUSEM7 3977;
LAYER_MAP 37 -datatype 20 3977;
LAYER_MAP 37 -datatype 21 3977;
LAYER_MAP 37 -datatype 40 3977;
LAYER_MAP 37 -datatype 41 3977;
LAYER_MAP 37 -datatype 60 3977;
LAYER_MAP 37 -datatype 61 3977;
LAYER_MAP 37 -datatype 80 3977;
LAYER_MAP 37 -datatype 81 3977;
LAYER_DEF NOTUSEM7 3990;
LAYER_MAP 37 -datatype lege 161 165 3990;
LAYER_DEF DM7EXCL 3198;
LAYER_MAP 150 -datatype 7 3198;
LAYER_DEF M8_OLD 3298;
LAYER_MAP 38 -datatype 0 3298;
LAYER_DEF M8_NEW 3801;
LAYER_MAP 38 -datatype 40 3801;
COPY M8_NEW -outputlayer M8i;
LAYER_DEF DUM8_OLD 3965;
LAYER_MAP 38 -datatype 1 3965;
LAYER_DEF DUM8_NEW 4069;
LAYER_MAP 38 -datatype 41 4069;
COPY DUM8_NEW -outputlayer DUM8;
LAYER_DEF NOUSEM8_NEW 4043;
LAYER_MAP 38 -datatype 0 4043;
LAYER_MAP 38 -datatype 1 4043;
LAYER_DEF NOUSEM8_OLD 4079;
LAYER_MAP 38 -datatype 7 4079;
LAYER_MAP 38 -datatype 20 4079;
LAYER_MAP 38 -datatype 21 4079;
LAYER_MAP 38 -datatype 60 4079;
LAYER_MAP 38 -datatype 61 4079;
LAYER_MAP 38 -datatype 80 4079;
LAYER_MAP 38 -datatype 81 4079;
OR NOUSEM8_NEW NOUSEM8_OLD -outputlayer NOUSEM8;
LAYER_DEF NOTUSEM8 3991;
LAYER_MAP 38 -datatype lege 161 165 3991;
LAYER_DEF DM8EXCL 3199;
LAYER_MAP 150 -datatype 8 3199;
LAYER_DEF M9_OLD 3299;
LAYER_MAP 39 -datatype 0 3299;
LAYER_DEF M9_NEW 4145;
LAYER_MAP 39 -datatype 60 4145;
COPY M9_NEW -outputlayer M9i;
LAYER_DEF DUM9_OLD 3966;
LAYER_MAP 39 -datatype 1 3966;
LAYER_DEF DUM9_NEW 4158;
LAYER_MAP 39 -datatype 61 4158;
COPY DUM9_NEW -outputlayer DUM9;
LAYER_DEF NOUSEM9_NEW 4044;
LAYER_MAP 39 -datatype 0 4044;
LAYER_MAP 39 -datatype 1 4044;
LAYER_DEF NOUSEM9_OLD 4171;
LAYER_MAP 39 -datatype 7 4171;
LAYER_MAP 39 -datatype 20 4171;
LAYER_MAP 39 -datatype 21 4171;
LAYER_MAP 39 -datatype 40 4171;
LAYER_MAP 39 -datatype 41 4171;
LAYER_MAP 39 -datatype 80 4171;
LAYER_MAP 39 -datatype 81 4171;
OR NOUSEM9_NEW NOUSEM9_OLD -outputlayer NOUSEM9;
LAYER_DEF NOTUSEM9 3992;
LAYER_MAP 39 -datatype lege 161 165 3992;
LAYER_DEF DM9EXCL 3200;
LAYER_MAP 150 -datatype 9 3200;
LAYER_DEF VIA1i 3026;
LAYER_MAP 51 -datatype 0 3026;
LAYER_DEF NOUSEV1 3039;
LAYER_MAP 51 -datatype 20 3039;
LAYER_MAP 51 -datatype 40 3039;
LAYER_MAP 51 -datatype 80 3039;
LAYER_DEF VIA2i 3027;
LAYER_MAP 52 -datatype 0 3027;
LAYER_DEF NOUSEV2 3040;
LAYER_MAP 52 -datatype 20 3040;
LAYER_MAP 52 -datatype 40 3040;
LAYER_MAP 52 -datatype 80 3040;
LAYER_DEF VIA3i 3028;
LAYER_MAP 53 -datatype 0 3028;
LAYER_DEF NOUSEV3 3041;
LAYER_MAP 53 -datatype 20 3041;
LAYER_MAP 53 -datatype 40 3041;
LAYER_MAP 53 -datatype 80 3041;
LAYER_DEF VIA4i 3029;
LAYER_MAP 54 -datatype 0 3029;
LAYER_DEF NOUSEV4 3042;
LAYER_MAP 54 -datatype 20 3042;
LAYER_MAP 54 -datatype 40 3042;
LAYER_MAP 54 -datatype 80 3042;
LAYER_DEF VIA5i 3030;
LAYER_MAP 55 -datatype 0 3030;
LAYER_DEF NOUSEV5 3043;
LAYER_MAP 55 -datatype 20 3043;
LAYER_MAP 55 -datatype 40 3043;
LAYER_MAP 55 -datatype 80 3043;
LAYER_DEF VIA6i 3031;
LAYER_MAP 56 -datatype 0 3031;
LAYER_DEF NOUSEV6 3044;
LAYER_MAP 56 -datatype 20 3044;
LAYER_MAP 56 -datatype 40 3044;
LAYER_MAP 56 -datatype 80 3044;
LAYER_DEF VIA7_OLD 3032;
LAYER_MAP 57 -datatype 0 3032;
LAYER_DEF VIA7_NEW 3149;
LAYER_MAP 57 -datatype 40 3149;
COPY VIA7_NEW -outputlayer VIA7i;
COPY VIA7_OLD -outputlayer NOUSEV7_NEW;
LAYER_DEF NOUSEV7_OLD 3175;
LAYER_MAP 57 -datatype 20 3175;
LAYER_MAP 57 -datatype 80 3175;
OR NOUSEV7_NEW NOUSEV7_OLD -outputlayer NOUSEV7;
LAYER_DEF VIA8_OLD 3033;
LAYER_MAP 58 -datatype 0 3033;
LAYER_DEF VIA8_NEW 3150;
LAYER_MAP 58 -datatype 40 3150;
COPY VIA8_NEW -outputlayer VIA8i;
COPY VIA8_OLD -outputlayer NOUSEV8_NEW;
LAYER_DEF NOUSEV8_OLD 3176;
LAYER_MAP 58 -datatype 20 3176;
LAYER_MAP 58 -datatype 80 3176;
OR NOUSEV8_NEW NOUSEV8_OLD -outputlayer NOUSEV8;
LAYER_DEF AP 74;
[ERROR] Layer 'AP' has been defined in rule file at line 443 in file /home/mseminario2/chips/myshkin/ic/pvs/antmim25.rul
LAYER_DEF Cu_PPI 3182;
LAYER_MAP 74 -datatype 10 3182;
LAYER_DEF RV 85;
[ERROR] Layer 'RV' has been defined in rule file at line 446 in file /home/mseminario2/chips/myshkin/ic/pvs/antmim25.rul
LAYER_DEF CB 76;
[ERROR] Layer 'CB' has been defined in rule file at line 447 in file /home/mseminario2/chips/myshkin/ic/pvs/antmim25.rul
LAYER_DEF CBD 169;
[ERROR] Layer 'CBD' has been defined in rule file at line 448 in file /home/mseminario2/chips/myshkin/ic/pvs/antmim25.rul
LAYER_DEF CBM 88;
[ERROR] Layer 'CBM' has been defined in rule file at line 449 in file /home/mseminario2/chips/myshkin/ic/pvs/antmim25.rul
LAYER_DEF CTM 77;
[ERROR] Layer 'CTM' has been defined in rule file at line 450 in file /home/mseminario2/chips/myshkin/ic/pvs/antmim25.rul
LAYER_DEF DIFFi 3231;
LAYER_MAP 6 -datatype 0 3231;
LAYER_DEF PDIFFi 3232;
LAYER_MAP 7 -datatype 0 3232;
LAYER_DEF NDIFFi 3233;
LAYER_MAP 8 -datatype 0 3233;
LAYER_DEF POLY 3234;
[ERROR] Layer 'POLY' has been defined in rule file at line 458 in file /home/mseminario2/chips/myshkin/ic/pvs/antmim25.rul
LAYER_MAP 17 -datatype 0 3234;
OR DIFFi PDIFFi -outputlayer _EPTMPL271481;
OR _EPTMPL271481 NDIFFi -outputlayer OD;
[ERROR] Layer 'OD' has been defined in rule file at line 3219 in file /home/mseminario2/chips/myshkin/ic/pvs/main25.rul
TOP_LAYER M1i VIA1i;
TOP_LAYER M2i VIA2i;
TOP_LAYER M3i VIA3i;
TOP_LAYER M4i VIA4i;
TOP_LAYER M5i VIA5i;
TOP_LAYER M6i VIA6i;
AND OD POLY -outputlayer GATE;
[ERROR] Layer 'GATE' has been defined in rule file at line 3369 in file /home/mseminario2/chips/myshkin/ic/pvs/main25.rul
NOT OD POLY -outputlayer SD;
[ERROR] Layer 'SD' has been defined in rule file at line 3371 in file /home/mseminario2/chips/myshkin/ic/pvs/main25.rul
AND CO POLY -outputlayer CO_PO;
CONNECT GATE POLY;
CONNECT M1i POLY SD -by CO;
CONNECT M2i M1i -by VIA1i;
CONNECT M3i M2i -by VIA2i;
CONNECT M4i M3i -by VIA3i;
CONNECT M5i M4i -by VIA4i;
CONNECT M6i M5i -by VIA5i;
CONNECT M7i M6i -by VIA6i;
AND VIA7i CTM -outputlayer VCAP_CTM;
[ERROR] Layer 'VCAP_CTM' has been defined in rule file at line 15552 in file /home/mseminario2/chips/myshkin/ic/pvs/main25.rul
NOT VIA7i CTM -outputlayer _EPTMPL271491;
AND _EPTMPL271491 CBM -outputlayer VCAP_CBM;
[ERROR] Layer 'VCAP_CBM' has been defined in rule file at line 15553 in file /home/mseminario2/chips/myshkin/ic/pvs/main25.rul
COPY CTM -outputlayer CTMc;
CONNECT VCAP_CTM CTM;
CONNECT VCAP_CBM CBM;
CONNECT CTMc CBM;

RULE A.R.MIM.4:VIA7_CTM {
    CAPTION "Maximun ratio of the cumulative via area to the MIM capacitor for balanced structure when both CTM and CBM are floating  <= 20 in CTM node";
    ANTENNA VCAP_CTM CTM -gt 0 -expr "  !!AREA(CTM) * (AREA(VCAP_CTM)/AREA(CTM)-20)  " -rdb A.R.MIM.4.VIA7.CTM.rep VCAP_CTM CTM -by_layer;
}

RULE A.R.MIM.4:VIA7_CBM {
    CAPTION " Maximun ratio of the cumulative via area to the MIM capacitor for balanced structure when both CTM and CBM are floating  <= 20 in CBM node";
    ANTENNA VCAP_CBM CTMc -gt 0 -expr "  !!AREA(CTMc) * (AREA(VCAP_CBM)/AREA(CTMc)-20)  " -rdb A.R.MIM.4.VIA7.CBM.rep VCAP_CBM CTMc -by_layer;
}
ANTENNA VCAP_CTM CTM -gt 0 -accumulate -outputlayer ACC_VIA7_CTM;
ANTENNA VCAP_CBM CTMc -gt 0 -accumulate -outputlayer ACC_VIA7_CTMc;
CONNECT M8i CTM CBM M7i -by VIA7i;
CONNECT VIA8i M8i;
ANTENNA CTM SD -gt 0 -outputlayer CTM_M8_W_OD;
ANTENNA CBM SD -gt 0 -outputlayer CBM_M8_W_OD;
ANTENNA CTM GATE -gt 0 -outputlayer CTM_M8_W_GATE;
ANTENNA CBM GATE -gt 0 -outputlayer CBM_M8_W_GATE;
OR CTM_M8_W_OD CTM_M8_W_GATE -outputlayer _EPTMPL271506;
NOT CTM _EPTMPL271506 -outputlayer CTM_M8_FLOAT;
OR CBM_M8_W_OD CBM_M8_W_GATE -outputlayer _EPTMPL271508;
NOT CBM _EPTMPL271508 -outputlayer CBM_M8_FLOAT;
SELECT -interact CTM_M8_FLOAT CBM_M8_FLOAT -outputlayer CTM_M8_1;
SELECT -interact CTM_M8_W_OD CBM_M8_W_OD -outputlayer CTM_M8_2;
OR CTM_M8_1 CTM_M8_2 -outputlayer Bal_CTM_M8;
NOT CTM Bal_CTM_M8 -outputlayer unBal_CTM_M8;
COPY CTM_M8_FLOAT -outputlayer CTM_M8_FLOATING;
COPY CBM_M8_FLOAT -outputlayer CBM_M8_FLOATING;
COPY CTM_M8_W_OD -outputlayer CTM_M8_CONNECTED;
COPY CBM_M8_W_OD -outputlayer CBM_M8_CONNECTED;
SELECT -interact CTM_M8_FLOATING CBM_M8_FLOATING -outputlayer MIM_M8_FLOATING_CTM;
COPY MIM_M8_FLOATING_CTM -outputlayer MIM_M8_FLOATING_CTMc;
CONNECT MIM_M8_FLOATING_CTM CTM;
CONNECT MIM_M8_FLOATING_CTMc CBM;
SELECT -interact CTM_M8_CONNECTED CBM_M8_CONNECTED -outputlayer MIM_M8_CONNECTED_CTM;
COPY MIM_M8_CONNECTED_CTM -outputlayer MIM_M8_CONNECTED_CTMc;
CONNECT MIM_M8_CONNECTED_CTM CTM;
CONNECT MIM_M8_CONNECTED_CTMc CBM;
NET_AREA SD -ge 0 -outputlayer M8_DIO;

RULE A.R.MIM.1:M8 {
    CAPTION "Unbalanced structure is not allowed.";
    STAMP unBal_CTM_M8 CTM -outputlayer A;
    ANTENNA A M8i -gt 0 -expr "  !!AREA(M8i)*AREA(A)  ";
    STAMP unBal_CTM_M8 CBM -outputlayer B;
    ANTENNA B M8i -gt 0 -expr "  !!AREA(M8i)*AREA(B)  ";
    ANTENNA CTM M8i GATE SD -gt 0 -expr "  !!AREA(M8i)*!!AREA(CTM)*!!AREA(GATE)*!AREA(SD)  ";
    ANTENNA CBM M8i GATE SD -gt 0 -expr "  !!AREA(M8i)*!!AREA(CBM)*!!AREA(GATE)*!AREA(SD)  ";
}

RULE A.R.MIM.2:M8_CTM {
    CAPTION "Maximun ratio of the cumulative metal area to the MIM capacitor for balanced structure when both CTM and CBM are floating  <= 1000 in CTM node";
    ANTENNA M8i MIM_M8_FLOATING_CTM -gt 0 -expr "  !!AREA(MIM_M8_FLOATING_CTM) * (AREA(M8i)/AREA(MIM_M8_FLOATING_CTM)-1000)  " -rdb A.R.MIM.2.M8.CTM.rep M8i MIM_M8_FLOATING_CTM -by_layer;
}

RULE A.R.MIM.2:M8_CBM {
    CAPTION "Maximun ratio of the cumulative metal area to the MIM capacitor for balanced structure when both CTM and CBM are floating  <= 1000 in CBM node";
    ANTENNA M8i MIM_M8_FLOATING_CTMc -gt 0 -expr "  !!AREA(MIM_M8_FLOATING_CTMc) * (AREA(M8i)/AREA(MIM_M8_FLOATING_CTMc)-1000)  " -rdb A.R.MIM.2.M8.CBM.rep M8i MIM_M8_FLOATING_CTMc -by_layer;
}

RULE A.R.MIM.3:M8_CTM {
    CAPTION "Maximun ratio of the cumulative metal area to the MIM capacitor for balanced structure when both CTM and CBM are connnected.  <= OD area x 8000 + 1000 in CTM node";
    ANTENNA M8i MIM_M8_CONNECTED_CTM M8_DIO -gt 0 -expr "  !!AREA(MIM_M8_CONNECTED_CTM) * (AREA(M8i)/AREA(MIM_M8_CONNECTED_CTM)-AREA(M8_DIO)*8000-1000)  " -rdb A.R.MIM.3.M8.CTM.rep M8i MIM_M8_CONNECTED_CTM M8_DIO -by_layer;
}

RULE A.R.MIM.3:M8_CBM {
    CAPTION "Maximun ratio of the cumulative metal area to the MIM capacitor for balanced structure when both CTM and CBM are connnected.  <= OD area x 8000 + 1000 in CBM node";
    ANTENNA M8i MIM_M8_CONNECTED_CTMc M8_DIO -gt 0 -expr "  !!AREA(MIM_M8_CONNECTED_CTMc) * (AREA(M8i)/AREA(MIM_M8_CONNECTED_CTMc)-AREA(M8_DIO)*8000-1000)  " -rdb A.R.MIM.3.M8.CBM.rep M8i MIM_M8_CONNECTED_CTMc M8_DIO -by_layer;
}
ANTENNA M8i CTM -gt 0 -accumulate -outputlayer ACC_M8_CTM;
ANTENNA M8i CTMc -gt 0 -accumulate -outputlayer ACC_M8_CTMc;

RULE A.R.MIM.4:VIA8_CTM {
    CAPTION "Maximun ratio of the cumulative via area to the MIM capacitor for balanced structure when both CTM and CBM are floating  <= 20 in CTM node";
    ANTENNA VIA8i MIM_M8_FLOATING_CTM CTM -gt 0 -accumulate ACC_VIA7_CTM -expr "  !!AREA(MIM_M8_FLOATING_CTM) * (AREA(VIA8i)/AREA(MIM_M8_FLOATING_CTM)-20)  " -rdb A.R.MIM.4.VIA8.CTM.rep VIA8i MIM_M8_FLOATING_CTM -by_layer;
}

RULE A.R.MIM.4:VIA8_CBM {
    CAPTION " Maximun ratio of the cumulative via area to the MIM capacitor for balanced structure when both CTM and CBM are floating  <= 20 in CBM node";
    ANTENNA VIA8i MIM_M8_FLOATING_CTMc CTMc -gt 0 -accumulate ACC_VIA7_CTMc -expr "  !!AREA(MIM_M8_FLOATING_CTMc) * (AREA(VIA8i)/AREA(MIM_M8_FLOATING_CTMc)-20)  " -rdb A.R.MIM.4.VIA8.CBM.rep VIA8i MIM_M8_FLOATING_CTMc -by_layer;
}

RULE A.R.MIM.5:VIA8_CTM {
    CAPTION "Maximun ratio of the cumulative via area to the MIM capacitor for balanced structure when both CTM and CBM are connnected.  <= OD area x 210 + 20 in CTM node";
    ANTENNA VIA8i MIM_M8_CONNECTED_CTM M8_DIO CTM -gt 0 -accumulate ACC_VIA7_CTM -expr "  !!AREA(MIM_M8_CONNECTED_CTM) * (AREA(VIA8i)/AREA(MIM_M8_CONNECTED_CTM)-AREA(M8_DIO)*210-20)  " -rdb A.R.MIM.5.VIA8.CTM.rep VIA8i MIM_M8_CONNECTED_CTM M8_DIO -by_layer;
}

RULE A.R.MIM.5:VIA8_CBM {
    CAPTION "Maximun ratio of the cumulative via area to the MIM capacitor for balanced structure when both CTM and CBM are connnected.  <= OD area x 210 + 20 in CBM node";
    ANTENNA VIA8i MIM_M8_CONNECTED_CTMc M8_DIO CTMc -gt 0 -accumulate ACC_VIA7_CTMc -expr "  !!AREA(MIM_M8_CONNECTED_CTMc) * (AREA(VIA8i)/AREA(MIM_M8_CONNECTED_CTMc)-AREA(M8_DIO)*210-20)  " -rdb A.R.MIM.5.VIA8.CBM.rep VIA8i MIM_M8_CONNECTED_CTMc M8_DIO -by_layer;
}
ANTENNA VIA8i CTM -gt 0 -accumulate ACC_VIA7_CTM -outputlayer ACC_VIA8_CTM;
ANTENNA VIA8i CTMc -gt 0 -accumulate ACC_VIA7_CTMc -outputlayer ACC_VIA8_CTMc;
CONNECT M9i M8i -by VIA8i;
CONNECT RV M9i;
ANTENNA CTM SD -gt 0 -outputlayer CTM_M9_W_OD;
ANTENNA CBM SD -gt 0 -outputlayer CBM_M9_W_OD;
ANTENNA CTM GATE -gt 0 -outputlayer CTM_M9_W_GATE;
ANTENNA CBM GATE -gt 0 -outputlayer CBM_M9_W_GATE;
OR CTM_M9_W_OD CTM_M9_W_GATE -outputlayer _EPTMPL271551;
NOT CTM _EPTMPL271551 -outputlayer CTM_M9_FLOAT;
OR CBM_M9_W_OD CBM_M9_W_GATE -outputlayer _EPTMPL271553;
NOT CBM _EPTMPL271553 -outputlayer CBM_M9_FLOAT;
SELECT -interact CTM_M9_FLOAT CBM_M9_FLOAT -outputlayer CTM_M9_1;
SELECT -interact CTM_M9_W_OD CBM_M9_W_OD -outputlayer CTM_M9_2;
OR CTM_M9_1 CTM_M9_2 -outputlayer Bal_CTM_M9;
NOT CTM Bal_CTM_M9 -outputlayer unBal_CTM_M9;
COPY CTM_M9_FLOAT -outputlayer CTM_M9_FLOATING;
COPY CBM_M9_FLOAT -outputlayer CBM_M9_FLOATING;
COPY CTM_M9_W_OD -outputlayer CTM_M9_CONNECTED;
COPY CBM_M9_W_OD -outputlayer CBM_M9_CONNECTED;
SELECT -interact CTM_M9_FLOATING CBM_M9_FLOATING -outputlayer MIM_M9_FLOATING_CTM;
COPY MIM_M9_FLOATING_CTM -outputlayer MIM_M9_FLOATING_CTMc;
CONNECT MIM_M9_FLOATING_CTM CTM;
CONNECT MIM_M9_FLOATING_CTMc CBM;
SELECT -interact CTM_M9_CONNECTED CBM_M9_CONNECTED -outputlayer MIM_M9_CONNECTED_CTM;
COPY MIM_M9_CONNECTED_CTM -outputlayer MIM_M9_CONNECTED_CTMc;
CONNECT MIM_M9_CONNECTED_CTM CTM;
CONNECT MIM_M9_CONNECTED_CTMc CBM;
NET_AREA SD -ge 0 -outputlayer M9_DIO;

RULE A.R.MIM.1:M9 {
    CAPTION "Unbalanced structure is not allowed.";
    STAMP unBal_CTM_M9 CTM -outputlayer A;
    ANTENNA A M9i -gt 0 -expr "  !!AREA(M9i)*AREA(A)  ";
    STAMP unBal_CTM_M9 CBM -outputlayer B;
    ANTENNA B M9i -gt 0 -expr "  !!AREA(M9i)*AREA(B)  ";
    ANTENNA CTM M9i GATE SD -gt 0 -expr "  !!AREA(M9i)*!!AREA(CTM)*!!AREA(GATE)*!AREA(SD)  ";
    ANTENNA CBM M9i GATE SD -gt 0 -expr "  !!AREA(M9i)*!!AREA(CBM)*!!AREA(GATE)*!AREA(SD)  ";
}

RULE A.R.MIM.2:M9_CTM {
    CAPTION "Maximun ratio of the cumulative metal area to the MIM capacitor for balanced structure when both CTM and CBM are floating  <= 1000 in CTM node";
    ANTENNA M9i M8i MIM_M9_FLOATING_CTM CTM -gt 0 -accumulate ACC_M8_CTM -expr "  !!AREA(M9i)*!!AREA(MIM_M9_FLOATING_CTM) * (AREA(M9i)/AREA(MIM_M9_FLOATING_CTM)-1000) - (!AREA(M9i)+!AREA(MIM_M9_FLOATING_CTM)) * LargeNumber  " -rdb A.R.MIM.2.M9.CTM.rep M9i M8i MIM_M9_FLOATING_CTM -by_layer;
}

RULE A.R.MIM.2:M9_CBM {
    CAPTION "Maximun ratio of the cumulative metal area to the MIM capacitor for balanced structure when both CTM and CBM are floating  <= 1000 in CBM node";
    ANTENNA M9i M8i MIM_M9_FLOATING_CTMc CTMc -gt 0 -accumulate ACC_M8_CTMc -expr "  !!AREA(M9i)*!!AREA(MIM_M9_FLOATING_CTMc) * (AREA(M9i)/AREA(MIM_M9_FLOATING_CTMc)-1000) - (!AREA(M9i)+!AREA(MIM_M9_FLOATING_CTMc)) * LargeNumber  " -rdb A.R.MIM.2.M9.CBM.rep M9i M8i MIM_M9_FLOATING_CTMc CTMc -by_layer;
}

RULE A.R.MIM.3:M9_CTM {
    CAPTION "Maximun ratio of the cumulative metal area to the MIM capacitor for balanced structure when both CTM and CBM are connnected.  <= OD area x 8000 + 1000 in CTM node";
    ANTENNA M9i M8i MIM_M9_CONNECTED_CTM M9_DIO CTM -gt 0 -accumulate ACC_M8_CTM -expr "  !!AREA(M9i)*!!AREA(MIM_M9_CONNECTED_CTM) * (AREA(M9i)/AREA(MIM_M9_CONNECTED_CTM)-AREA(M9_DIO)*8000-1000) - (!AREA(M9i)+!AREA(MIM_M9_CONNECTED_CTM)) * LargeNumber  " -rdb A.R.MIM.3.M9.CTM.rep M9i M8i MIM_M9_CONNECTED_CTM M9_DIO CTM -by_layer;
}

RULE A.R.MIM.3:M9_CBM {
    CAPTION "Maximun ratio of the cumulative metal area to the MIM capacitor for balanced structure when both CTM and CBM are connnected.  <= OD area x 8000 + 1000 in CBM node";
    ANTENNA M9i M8i MIM_M9_CONNECTED_CTMc M9_DIO CTMc -gt 0 -accumulate ACC_M8_CTMc -expr "  !!AREA(M9i)*!!AREA(MIM_M9_CONNECTED_CTMc) * (AREA(M9i)/AREA(MIM_M9_CONNECTED_CTMc)-AREA(M9_DIO)*8000-1000) - (!AREA(M9i)+!AREA(MIM_M9_CONNECTED_CTMc)) * LargeNumber  " -rdb A.R.MIM.3.M9.CBM.rep M9i M8i MIM_M9_CONNECTED_CTMc M9_DIO CTMc -by_layer;
}
ANTENNA M9i CTM -gt 0 -accumulate ACC_M8_CTM -outputlayer ACC_M9_CTM;
ANTENNA M9i CTMc -gt 0 -accumulate ACC_M8_CTMc -outputlayer ACC_M9_CTMc;

RULE A.R.MIM.4:RV_CTM {
    CAPTION "Maximun ratio of the cumulative via and RV area to the MIM capacitor for balanced structure when both CTM and CBM are floating  <= 20 in CTM node";
    ANTENNA RV MIM_M9_FLOATING_CTM CTM -gt 0 -accumulate ACC_VIA8_CTM -expr "  !!AREA(MIM_M9_FLOATING_CTM) * (AREA(RV)/AREA(MIM_M9_FLOATING_CTM)-20)  " -rdb A.R.MIM.4.RV.CTM.rep RV MIM_M9_FLOATING_CTM -by_layer;
}

RULE A.R.MIM.4:RV_CBM {
    CAPTION " Maximun ratio of the cumulative via and RV area to the MIM capacitor for balanced structure when both CTM and CBM are floating  <= 20 in CBM node";
    ANTENNA RV MIM_M9_FLOATING_CTMc CTMc -gt 0 -accumulate ACC_VIA8_CTMc -expr "  !!AREA(MIM_M9_FLOATING_CTMc) * (AREA(RV)/AREA(MIM_M9_FLOATING_CTMc)-20)  " -rdb A.R.MIM.4.RV.CBM.rep RV MIM_M9_FLOATING_CTMc -by_layer;
}

RULE A.R.MIM.5:RV_CTM {
    CAPTION "Maximun ratio of the cumulative via and RV area to the MIM capacitor for balanced structure when both CTM and CBM are connnected.  <= OD area x 210 + 20 in CTM node";
    ANTENNA RV MIM_M9_CONNECTED_CTM M9_DIO CTM -gt 0 -accumulate ACC_VIA8_CTM -expr "  !!AREA(MIM_M9_CONNECTED_CTM) * (AREA(RV)/AREA(MIM_M9_CONNECTED_CTM)-AREA(M9_DIO)*210-20)  " -rdb A.R.MIM.5.RV.CTM.rep RV MIM_M9_CONNECTED_CTM M9_DIO -by_layer;
}

RULE A.R.MIM.5:RV_CBM {
    CAPTION "Maximun ratio of the cumulative via RV area to the MIM capacitor for balanced structure when both CTM and CBM are connnected.  <= OD area x 210 + 20 in CBM node";
    ANTENNA RV MIM_M9_CONNECTED_CTMc M9_DIO CTMc -gt 0 -accumulate ACC_VIA8_CTMc -expr "  !!AREA(MIM_M9_CONNECTED_CTMc) * (AREA(RV)/AREA(MIM_M9_CONNECTED_CTMc)-AREA(M9_DIO)*210-20)  " -rdb A.R.MIM.5.RV.CBM.rep RV MIM_M9_CONNECTED_CTMc M9_DIO -by_layer;
}
CONNECT AP M9i -by RV;
CONNECT AP M9i -by CB;
CONNECT AP M9i -by CBD;
ANTENNA CTM SD -gt 0 -outputlayer CTM_AP_W_OD;
ANTENNA CBM SD -gt 0 -outputlayer CBM_AP_W_OD;
ANTENNA CTM GATE -gt 0 -outputlayer CTM_AP_W_GATE;
ANTENNA CBM GATE -gt 0 -outputlayer CBM_AP_W_GATE;
OR CTM_AP_W_OD CTM_AP_W_GATE -outputlayer _EPTMPL271595;
NOT CTM _EPTMPL271595 -outputlayer CTM_AP_FLOAT;
OR CBM_AP_W_OD CBM_AP_W_GATE -outputlayer _EPTMPL271597;
NOT CBM _EPTMPL271597 -outputlayer CBM_AP_FLOAT;
SELECT -interact CTM_AP_FLOAT CBM_AP_FLOAT -outputlayer CTM_AP_1;
SELECT -interact CTM_AP_W_OD CBM_AP_W_OD -outputlayer CTM_AP_2;
OR CTM_AP_1 CTM_AP_2 -outputlayer Bal_CTM_AP;
NOT CTM Bal_CTM_AP -outputlayer unBal_CTM_AP;
COPY CTM_AP_FLOAT -outputlayer CTM_AP_FLOATING;
COPY CBM_AP_FLOAT -outputlayer CBM_AP_FLOATING;
COPY CTM_AP_W_OD -outputlayer CTM_AP_CONNECTED;
COPY CBM_AP_W_OD -outputlayer CBM_AP_CONNECTED;
SELECT -interact CTM_AP_FLOATING CBM_AP_FLOATING -outputlayer MIM_AP_FLOATING_CTM;
COPY MIM_AP_FLOATING_CTM -outputlayer MIM_AP_FLOATING_CTMc;
CONNECT MIM_AP_FLOATING_CTM CTM;
CONNECT MIM_AP_FLOATING_CTMc CBM;
SELECT -interact CTM_AP_CONNECTED CBM_AP_CONNECTED -outputlayer MIM_AP_CONNECTED_CTM;
COPY MIM_AP_CONNECTED_CTM -outputlayer MIM_AP_CONNECTED_CTMc;
CONNECT MIM_AP_CONNECTED_CTM CTM;
CONNECT MIM_AP_CONNECTED_CTMc CBM;
NET_AREA SD -ge 0 -outputlayer AP_DIO;

RULE A.R.MIM.1:AP {
    CAPTION "Unbalanced structure is not allowed.";
    STAMP unBal_CTM_AP CTM -outputlayer A;
    ANTENNA A AP -gt 0 -expr "  !!AREA(AP)*AREA(A)  ";
    STAMP unBal_CTM_AP CBM -outputlayer B;
    ANTENNA B AP -gt 0 -expr "  !!AREA(AP)*AREA(B)  ";
    ANTENNA CTM AP GATE SD -gt 0 -expr "  !!AREA(AP)*!!AREA(CTM)*!!AREA(GATE)*!AREA(SD)  ";
    ANTENNA CBM AP GATE SD -gt 0 -expr "  !!AREA(AP)*!!AREA(CBM)*!!AREA(GATE)*!AREA(SD)  ";
}

RULE A.R.MIM.2:AP_CTM {
    CAPTION "Maximun ratio of the cumulative metal area and AP-MD sidewall area to the MIM capacitor for balanced structure when both CTM and CBM are floating  <= 1000 in CTM node";
    ANTENNA AP M9i M8i MIM_AP_FLOATING_CTM CTM -gt 0 -accumulate ACC_M9_CTM -expr "  !!AREA(AP)*!!AREA(MIM_AP_FLOATING_CTM) * (PERIMETER(AP)*AP_THICKNESS/AREA(MIM_AP_FLOATING_CTM)-1000) - (!AREA(AP)+!AREA(MIM_AP_FLOATING_CTM)) * LargeNumber  " -rdb A.R.MIM.2.AP.CTM.rep AP M9i M8i MIM_AP_FLOATING_CTM CTM -by_layer;
}

RULE A.R.MIM.2:AP_CBM {
    CAPTION "Maximun ratio of the cumulative metal area and AP-MD sidewall area to the MIM capacitor for balanced structure when both CTM and CBM are floating  <= 1000 in CBM node";
    ANTENNA AP M9i M8i MIM_AP_FLOATING_CTMc CTMc -gt 0 -accumulate ACC_M9_CTMc -expr "  !!AREA(AP)*!!AREA(MIM_AP_FLOATING_CTMc) * (PERIMETER(AP)*AP_THICKNESS/AREA(MIM_AP_FLOATING_CTMc)-1000) - (!AREA(AP)+!AREA(MIM_AP_FLOATING_CTMc)) * LargeNumber  " -rdb A.R.MIM.2.AP.CBM.rep AP M9i M8i MIM_AP_FLOATING_CTMc CTMc -by_layer;
}

RULE A.R.MIM.3:AP_CTM {
    CAPTION "Maximun ratio of the cumulative metal area and AP-MD sidewall area to the MIM capacitor for balanced structure when both CTM and CBM are connnected.  <= OD area x 8000 + 1000 in CTM node";
    ANTENNA AP M9i M8i MIM_AP_CONNECTED_CTM AP_DIO CTM -gt 0 -accumulate ACC_M9_CTM -expr "  !!AREA(AP)*!!AREA(MIM_AP_CONNECTED_CTM) * (PERIMETER(AP)*AP_THICKNESS/AREA(MIM_AP_CONNECTED_CTM)-AREA(AP_DIO)*8000-1000) - (!AREA(AP)+!AREA(MIM_AP_CONNECTED_CTM)) * LargeNumber  " -rdb A.R.MIM.3.AP.CTM.rep AP M9i M8i MIM_AP_CONNECTED_CTM AP_DIO CTM -by_layer;
}

RULE A.R.MIM.3:AP_CBM {
    CAPTION "Maximun ratio of the cumulative metal area and AP-MD sidewall area to the MIM capacitor for balanced structure when both CTM and CBM are connnected.  <= OD area x 8000 + 1000 in CBM node";
    ANTENNA AP M9i M8i MIM_AP_CONNECTED_CTMc AP_DIO CTMc -gt 0 -accumulate ACC_M9_CTMc -expr "  !!AREA(AP)*!!AREA(MIM_AP_CONNECTED_CTMc) * (PERIMETER(AP)*AP_THICKNESS/AREA(MIM_AP_CONNECTED_CTMc)-AREA(AP_DIO)*8000-1000) - (!AREA(AP)+!AREA(MIM_AP_CONNECTED_CTMc)) * LargeNumber  " -rdb A.R.MIM.3.AP.CBM.rep AP M9i M8i MIM_AP_CONNECTED_CTMc AP_DIO CTMc -by_layer;
}
[INFO] There are 16 errors in rules file /home/mseminario2/chips/myshkin/ic/pvs/antmim25.rul
Finished parsing rule file(s) with error(s).

